po ファイルを "po4a-translate -f texinfo ..." して生成した texi 
ファイルは、日本語化が充分ではない。たとえば、章の名前が英語のまま
だったり、本文中で日本語になってくれない部分があったりする。また逆に、
英語のままにしておきたいのに、日本語になってしまうところもある。

そこで、 po4a-translate が生成した texi ファイルを手作業で修正して、
日本語化をさらに進めた。その上で、前後の texi の diff を取り、
patch を作った。po ファイルを加筆修正したとき、po4a-translate が
生成する texi ファイルに patch を当てれば、一応ひとに見せられる程度の
日本語 texi ファイルができるようにしたわけである。

こんなふうに使用する。

  $ po4a-translate -f texinfo -m perm.texi -p perm-ja.po -l perm-ja.texi -v
  $ patch -p0 <perm-ja.texi.patch

  $ po4a-translate -f texinfo -m parse-datetime.texi \
    -p parse-datetime-ja.po -l parse-datetime-ja.texi -v
  $ patch -p0 <parse-datetime-ja.texi.patch

  $ po4a-translate -f texinfo -m coreutils.texi -p coreutils-ja.po \
    -l coreutils-ja.texi -v
  $ patch -p0 <coreutils-ja.texi.patch

原文のバージョンが上がって、翻訳の増補改訂をするときでも、ここにある 
前バージョンの po ファイルを使用し、po4a-updatepo コマンドで po ファイルの
バージョンを上げたのなら、 patch の方も使えるかもしれない。おそらく、

  patching file coreutils-ja.texi
  Hunk #1 FAILED at 5.
  Hunk #2 FAILED at 39.
  Hunk #3 succeeded at 166 (offset 1 line).
  Hunk #4 succeeded at 178 (offset 1 line).
  Hunk #5 FAILED at 200.
  Hunk #6 succeeded at 317 (offset 6 lines).
      ...
  Hunk #85 succeeded at 17363 (offset 476 lines).
  Hunk #86 succeeded at 17943 (offset 476 lines).
  3 out of 86 hunks FAILED -- saving rejects to file coreutils-ja.texi.rej

といったメッセージがいっぱい出て、FAILED になる部分もいくつかある
だろうけれど。実際、coreutils-8.17 から coreutils-8.20 のバージョン
アップでは利用することができた。ちょっと試したところでは、8.20 から
8.21 でも使えそうである。

FAILED になった部分の処理が終わったら、patch を作り直しておくとよいと
思う。po ファイルの翻訳を修正したとき、po4a-translate が生成する texi 
ファイルに手を入れる必要がずっと減って、かなり楽ができる。また、後から
来る改訂者が、その patch を利用できるかもしれない。

po4a を使用した方が、後々改訂作業をするときに効率的だろうと思って、
po4a を使ってみたのだが、texi の場合は、po4a を使わずに、直接 texi 
ファイルに対して作業した方が、かえって楽だったかもしれない。

2011/03/03 訳者

