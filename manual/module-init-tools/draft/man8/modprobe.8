.\" This manpage has been automatically generated by docbook2man
.\" from a DocBook document.  This tool can be found at:
.\" <http://shell.ipoline.com/~elmert/comp/docbook2X/>
.\" Please send any bug reports, improvements, comments, patches,
.\" etc. to Steve Cheng <steve@ggi-project.org>.
.\"
.\" Japanese Version Copyright (C) 2005 Suzuki Takashi
.\"         all rights reserved.
.\" Translated Sun Jul 10 00:42:36 JST 2005
.\"         by Suzuki Takashi <JM@linux.or.jp>.
.\"
.TH "MODPROBE" "8" "08 May 2005" "" ""

.\"O .SH NAME
.SH "名前"
.\"O modprobe \- program to add and remove modules from the Linux Kernel
modprobe \- Linux カーネルにモジュールを追加したり削除したりするプログラム
.\"O .SH SYNOPSIS
.SH "書式"

\fBmodprobe\fR [ \fB-v\fR ] [ \fB-V\fR ] [ \fB-C \fIconfig-file\fB\fR ] [ \fB-n\fR ] [ \fB-i\fR ] [ \fB-q\fR ] [ \fB-o \fImodulename\fB\fR ] [ \fB\fImodulename\fB\fR ] [ \fB\fImodule parameters\fB\fR\fI ...\fR ]


\fBmodprobe\fR [ \fB-r\fR ] [ \fB-v\fR ] [ \fB-n\fR ] [ \fB-i\fR ] [ \fB\fImodulename\fB\fR\fI ...\fR ]


\fBmodprobe\fR [ \fB-l\fR ] [ \fB-t \fIdirname\fB\fR ] [ \fB\fIwildcard\fB\fR ]


\fBmodprobe\fR [ \fB-c\fR ]
.\"O .SH "DESCRIPTION"
.SH "説明"
.PP
.\"O \fBmodprobe\fR intelligently adds or removes a
.\"O module from the Linux kernel: note that for convenience, there
.\"O is no difference between _ and - in module names.
.\"O \fBmodprobe\fR looks in the module directory
.\"O \fI/lib/modules/`uname -r`\fR for all
.\"O the modules and other files, except for the optional
.\"O \fI/etc/modprobe.conf\fR configuration file and
.\"O \fI/etc/modprobe.d\fR directory
.\"O (see \fBmodprobe.conf\fR(5)).
\fBmodprobe\fR は Linux カーネルに賢くモジュールを追加したり削除したりする。
利便性のため、モジュール名において _ と \- の違いはないことに注意。
\fBmodprobe\fR は、
全てのモジュールと他のファイルを
モジュールディレクトリ
\fI/lib/modules/`uname -r`\fR
から参照する。
このほかに、もしあれば
\fI/etc/modprobe.conf\fR 設定ファイルと
\fI/etc/modprobe.d\fR ディレクトリを参照する
(\fBmodprobe.conf\fR(5) を参照) 。
.PP
.\"O Note that this version of \fBmodprobe\fR does not
.\"O do anything to the module itself: the work of resolving symbols
.\"O and understanding parameters is done inside the kernel.  So
.\"O module failure is sometimes accompanied by a kernel message: see
.\"O \fBdmesg\fR(8)\&.
このバージョンの \fBmodprobe\fR は、
自身ではモジュールに対して何もしないことに注意。
シンボルの解決やパラメータの解釈といった処理はカーネルの中で行なわれる。
そのため、モジュールの不具合はカーネルのメッセージとして報告されることもある。
\fBdmesg\fR(8) を参照。
.PP
.\"O \fBmodprobe\fR expects an up-to-date
.\"O \fImodules.dep\fR file, as generated by
.\"O \fBdepmod\fR (see \fBdepmod\fR(8)).  This file lists what other modules each
.\"O module needs (if any), and \fBmodprobe\fR uses this
.\"O to add or remove these dependencies automatically.  See
.\"O \fBmodules.dep\fR(5)).
\fBmodprobe\fR を実行するときは、
\fBdepmod\fR (\fBdepmod\fR(8) を参照) で生成された
\fImodules.dep\fR が最新の状態になっていなければならない。
このファイルには、
それぞれのモジュールが (もしあれば) 他のどのモジュールを
必要としているかが列挙されていて、
\fBmodprobe\fR はこれを使って依存するモジュールを自動的に追加したり削除したりする。
(\fBmodules.dep\fR(5) を参照) 。
.PP
.\"O If any arguments are given after the
.\"O \fImodulename\fR, they are passed to the
.\"O kernel (in addition to any options listed in the configuration
.\"O file).
\fImodulename\fR の後ろに指定された引数は、
カーネルに渡される (設定ファイルに列挙されたオプションに追加される) 。
.\"O .SH "OPTIONS"
.SH "オプション"
.TP
\fB-v --verbose \fR
.\"O Print messages about what the program is doing.  Usually
.\"O \fBmodprobe\fR only prints messages if
.\"O something goes wrong.
プログラムが何をしているかに関するメッセージを表示する。
通常、 \fBmodprobe\fR は何かまずいことが起こった場合に限って
メッセージを表示する。

.\"O This option is passed through \fBinstall\fR
.\"O or \fBremove\fR commands to other
.\"O \fBmodprobe\fR commands in the
.\"O MODPROBE_OPTIONS environment variable.
このオプションは
\fBinstall\fR および \fBremove\fR コマンドを通じて、
MODPROBE_OPTIONS 環境変数にある \fBmodprobe\fR の他のコマンドに渡される。
.TP
\fB-C --config \fR
.\"O This option overrides the default configuration file
.\"O (\fI/etc/modprobe.conf\fR or
.\"O \fI/etc/modprobe.d/\fR if that isn't found).
このオプションはデフォルトの設定ファイル
(\fI/etc/modprobe.conf\fR や \fI/etc/modprobe.d/\fR)
を無視する。

.\"O This option is passed through \fBinstall\fR
.\"O or \fBremove\fR commands to other
.\"O \fBmodprobe\fR commands in the
.\"O MODPROBE_OPTIONS environment variable.
このオプションは
\fBinstall\fR および \fBremove\fR コマンドを通じて、
MODPROBE_OPTIONS 環境変数にある \fBmodprobe\fR の他のコマンドに渡される。
.TP
\fB-c --showconfig \fR
.\"O Dump out the configuration file and exit.
設定ファイルの内容を表示し、終了する。
.TP
\fB-n --dry-run \fR
.\"O This option does everything but actually insert or
.\"O delete the modules (or run the install or remove
.\"O commands).  Combined with \fB-v\fR, it is
.\"O useful for debugging problems.
このオプションは実際にモジュールを登録したり削除したりする
(あるいは install や remove コマンドを実行する) 以外の、
全ての処理を行なう。
\fB-v\fR と組み合わせて使うと、不具合をデバッグするのに便利である。
.TP
\fB-i --ignore-install --ignore-remove \fR
.\"O This option causes \fBmodprobe\fR to
.\"O ignore \fBinstall\fR and
.\"O \fBremove\fR commands in the
.\"O configuration file (if any), for the module on the
.\"O command line (any dependent modules are still subject
.\"O to commands set for them in the configuration file).
.\"O See \fBmodprobe.conf\fR(5)\&.
このオプションを使うと、 \fBmodprobe\fR は
コマンドラインで指定されたモジュールに対する
設定ファイル中の \fBinstall\fR および \fBremove\fR コマンドを
(もしあれば) 無視する
(ただし、依存するモジュールは設定ファイル中のコマンドに従う) 。
\fBmodprobe.conf\fR(5) を参照。
.TP
\fB-q --quiet \fR
.\"O Normally \fBmodprobe\fR will report an error
.\"O if you try to remove or insert a module it can't find (and
.\"O isn't an alias or
.\"O \fBinstall\fR/\fBremove\fR
.\"O command).  With this flag, \fBmodprobe\fR
.\"O will simply ignore any bogus names (the kernel uses this
.\"O to opportunistically probe for modules which might exist).
通常、 \fBmodprobe\fR は
見つからない (かつエイリアスでもないか
\fBinstall\fR/\fBremove\fR コマンドでもない) モジュールを
削除したり登録したりしようとすると、エラーを通知する。
このフラグを使うと、 \fBmodprobe\fR は
でたらめな名前は単に無視する
(カーネルはこの名前を使って
存在するかもしれないモジュールを日和見的にプローブする) 。
.TP
\fB-r --remove \fR
.\"O This option causes \fBmodprobe\fR to remove,
.\"O rather than insert a module.  If the modules it depends on
.\"O are also unused, \fBmodprobe\fR will try to
.\"O remove them, too.  Unlike insertion, more than one module
.\"O can be specified on the command line (it does not make
.\"O sense to specify module parameters when removing modules).
このオプションで \fBmodprobe\fR は
モジュールを削除する。
このオプションがない場合は登録する。
依存するモジュールも使われていない場合、
\fBmodprobe\fR はそれらも削除しようとする。
登録とは異なり、複数のモジュールをコマンドラインで指定することができる
(モジュールを削除するときにモジュールパラメータを指定するのは意味がない) 。

.\"O There is usually no reason to remove modules, but some
.\"O buggy modules require it.  Your kernel may not support
.\"O removal of modules.
通常は、モジュールを削除する理由などないが、
不具合のあるモジュールには必要である。
使っているカーネルがモジュールの削除に対応していないかもしれない。
.TP
\fB-V --version \fR
.\"O Show version of program, and exit.  See below for caveats when run on older kernels.
プログラムのバージョンを表示し、終了する。
古いカーネルで実行する場合の注意については下を参照。
.TP
\fB-f --force \fR
.\"O Try to strip any versioning information from the module,
.\"O which might otherwise stop it from loading: this is the
.\"O same as using both \fB--force-vermagic\fR and
.\"O \fB--force-modversion\fR\&.  Naturally, these
.\"O checks are there for your protection, so using this option
.\"O is dangerous.
モジュールからバージョンに関する情報を取り除こうとする
(そうしないとロードできないモジュールに対して) 。
このオプションは
\fB--force-vermagic\fR と \fB--force-modversion\fR オプションの
両方を使ったのと同じである。
当然のことながら、
これらのチェックはあなたを守るために存在するのであって、
このオプションを使うのは危険である。

.\"O This applies to any modules inserted: both the module (or
.\"O alias) on the command line, and any modules it depends on.
このオプションは登録されるすべてのモジュールに適用される。
つまり、
コマンドラインで指定したモジュール (またはエイリアス) だけでなく、
依存するモジュールにも有効である。
.TP
\fB--force-vermagic \fR
.\"O Every module contains a small string containing important
.\"O information, such as the kernel and compiler versions.  If
.\"O a module fails to load and the kernel complains that the
.\"O "version magic" doesn't match, you can use this option to
.\"O remove it.  Naturally, this check is there for your
.\"O protection, so this using option is dangerous.
どのモジュールにも、
カーネルやコンパイラのバージョンといった、
重要な情報を持つ短い文字列がある。
モジュールがロードに失敗し、カーネルが "version magic" が
一致しないと文句を言う場合、このオプションを使って
"version magic" を削除することができる。
当然のことながら、
これらのチェックはあなたを守るために存在するのであって、
このオプションを使うのは危険である。

.\"O This applies to any modules inserted: both the module (or
.\"O alias) on the command line, and any modules it depends on.
このオプションは登録されるすべてのモジュールに適用される。
つまり、
コマンドラインで指定したモジュール (またはエイリアス) だけでなく、
依存するモジュールにも有効である。
.TP
\fB--force-modversion \fR
.\"O When modules are compiled with CONFIG_MODVERSIONS set, a
.\"O section is created detailing the versions of every
.\"O interface used by (or supplied by) the module.  If a
.\"O module fails to load and the kernel complains that the
.\"O module disagrees about a version of some interface, you
.\"O can use "--force-modversion" to remove the version
.\"O information altogether.  Naturally, this check is there
.\"O for your protection, so using this option is dangerous.
モジュールが CONFIG_MODVERSIONS をセットして
コンパイルされている場合、
モジュールが使っている (または提供する)
ひとつひとつのインタフェースのバージョンを記したセクションが生成される。
モジュールがロードに失敗し、
カーネルがインタフェースのバージョンの一致しないものがあると文句を言う場合、
"--force-modversion" を使ってバージョン情報をばっさり削除することができる。
当然のことながら、
これらのチェックはあなたを守るために存在するのであって、
このオプションを使うのは危険である。

.\"O This applies any modules inserted: both the module (or
.\"O alias) on the command line, and any modules it depends on.
このオプションは登録されるすべてのモジュールに適用される。
つまり、
コマンドラインで指定したモジュール (またはエイリアス) だけでなく、
依存するモジュールにも有効である。
.TP
\fB-l --list \fR
.\"O List all modules matching the given wildcard (or "*"
.\"O if no wildcard is given).  This option is provided for
.\"O backwards compatibility: see
.\"O \fBfind\fR(1) and
.\"O \fBbasename\fR(1) for a more flexible alternative.
指定されたワイルドカード
(あるいはワイルドカードが指定されない場合 "*") に一致する
すべてのモジュールを列挙する。
このオプションは下位互換性のために用意されている。
もっと柔軟性のある代替品として、
\fBfind\fR(1) や \fBbasename\fR(1) を参照。
.TP
\fB-a --all \fR
.\"O Insert all modules matching the given wildcard.  This
.\"O option is provided for backwards compatibility: see
.\"O \fBfind\fR(1) and
.\"O \fBbasename\fR(1) for a more flexible alternative.
指定されたワイルドカードに一致する全てのモジュールを登録する。
このオプションは下位互換性のために用意されている。
もっと柔軟性のある代替品として、
\fBfind\fR(1) や \fBbasename\fR(1) を参照。
.TP
\fB-t --type \fR
.\"O Restrict \fB-l\fR to modules
.\"O in directories matching the
.\"O \fIdirname\fR given.  This option
.\"O is provided for backwards compatibility: see
.\"O \fBfind\fR(1)
.\"O and
.\"O \fBbasename\fR(1) or a more flexible alternative.
\fB-l\fR を
指定された \fIdirname\fR に一致するディレクトリにあるモジュールに限定する。
このオプションは下位互換性のために用意されている。
もっと柔軟性のある代替品として、
\fBfind\fR(1) や \fBbasename\fR(1) を参照。
.TP
\fB-s --syslog \fR
.\"O This option causes any error messages to go through the
.\"O syslog mechanism (as LOG_DAEMON with level LOG_NOTICE)
.\"O rather than to standard error.  This is also automatically
.\"O enabled when stderr is unavailable.
このオプションを使うと、
すべてのエラーメッセージが syslog の仕組みで
(LOG_NOTICE というレベルの LOG_DAEMON として) 通知されるようになる。
このオプションがない場合は標準エラーに出力される。
このオプションは標準エラーが使えない場合、自動的に有効になる。

.\"O This option is passed through \fBinstall\fR
.\"O or \fBremove\fR commands to other
.\"O \fBmodprobe\fR commands in the
.\"O MODPROBE_OPTIONS environment variable.
このオプションは
\fBinstall\fR および \fBremove\fR コマンドを通じて、
MODPROBE_OPTIONS 環境変数にある \fBmodprobe\fR の他のコマンドに渡される。
.TP
\fB--set-version \fR
.\"O Set the kernel version, rather than using
.\"O \fBuname\fR(2) to decide on the kernel version (which dictates where to
.\"O find the modules).  This also disables backwards
.\"O compatibility checks (so
.\"O \fBmodprobe.old\fR(8) will never be run).
カーネルバージョンを設定する。
このオプションがない場合、
カーネルバージョン (モジュールを検索する場所を表す) を
決定するために \fBuname\fR(2) が使われる。
このオプションは下位互換性のチェックも無効にする
(そのため \fBmodprobe.old\fR(8) は一切実行されない) 。
.TP
\fB--show-depends \fR
.\"O List the dependencies of a module (or alias), including
.\"O the module itself.  This produces a (possibly empty) set
.\"O of module filenames, one per line, each starting with
.\"O "insmod".  Install commands which apply are shown prefixed by
.\"O "install".  It does not run any of the install commands.  Note that
.\"O \fBmodinfo\fR(8)
.\"O can be used to extract dependencies of a module from the
.\"O module itself, but knows nothing of aliases or install commands.
モジュール (またはエイリアス) の依存関係を列挙する。
モジュール自身も含まれる。
このオプションは
モジュールのファイル名の集合 (空の場合もある) を生成する。
1 行に 1 個のモジュールが表示され、先頭に "insmod" が付く。
install コマンドが適用される場合、先頭に "install" が付く。
install コマンドは一切実行しない。
\fBmodinfo\fR(8) を使えば
モジュール自身からモジュールの依存関係を取り出すことができるが、
エイリアスや install コマンドについては全く分からないことに注意。
.TP
\fB-o --name \fR
.\"O This option tries to rename the module which is being
.\"O inserted into the kernel.  Some testing modules can
.\"O usefully be inserted multiple times, but the kernel
.\"O refuses to have two modules of the same name.  Normally,
.\"O modules should not require multiple insertions, as that
.\"O would make them useless if there were no module support.
このオプションはカーネルに登録されるモジュールの名前を変更しようとする。
テスト用のモジュールには複数回登録することのできるものがあり便利だが、
カーネルは同じ名前のモジュールが 2 個あると拒否する。
通常、モジュールを複数回登録する必要はないはずである。
なぜならモジュールに対応していない場合に役に立たないからである。
.TP
\fB--first-time \fR
.\"O Normally, \fBmodprobe\fR will succeed (and do
.\"O nothing) if told to insert a module which is already
.\"O present, or remove a module which isn't present.  This is
.\"O backwards compatible with the modutils, and ideal for
.\"O simple scripts.  However, more complicated scripts often
.\"O want to know whether \fBmodprobe\fR really
.\"O did something: this option makes modprobe fail for that
.\"O case.
通常、 \fBmodprobe\fR は
すでに存在するモジュールを登録しようとした場合や
存在しないモジュールを削除しようとした場合にも
成功する (そして何もしない) 。
この振る舞いは modutils と下位互換性があり、
単純なスクリプトにとっては望ましい。
しかし、もっと複雑なスクリプトでは
\fBmodprobe\fR が実際に何かをしたかどうかを知りたくなることも多い。
このオプションは上のような場合、 modprobe が失敗するようにする。
.\"O .SH "BACKWARDS COMPATIBILITY"
.SH "下位互換性"
.PP
.\"O This version of \fBmodprobe\fR is for kernels
.\"O 2.5.48 and above.  If it detects a kernel
.\"O with support for old-style modules (for which much of the work
.\"O was done in userspace), it will attempt to run
.\"O \fBmodprobe.old\fR in its place, so it is
.\"O completely transparent to the user.
このバージョンの \fBmodprobe\fP は、
カーネル \fB2.5.48\fP およびそれ以降のためのものである。
古い形式のモジュールに対応したカーネルを検出すると
(そのためのほとんどの処理はユーザ空間で行なわれる) 、
その場で \fBmodprobe.old\fP を実行しようとする。
そのため、ユーザは全く意識しなくてよい。
.\"O .SH "ENVIRONMENT"
.SH "環境変数"
.PP
.\"O The MODPROBE_OPTIONS environment variable can also be used to
.\"O pass arguments to \fBmodprobe\fR\&.
MODPROBE_OPTIONS 環境変数も
\fBmodprobe\fR に引数を渡すのに使うことができる。
.\"O .SH "COPYRIGHT"
.SH "著作権"
.PP
.\"O This manual page Copyright 2002, Rusty Russell, IBM Corporation.
このマニュアルページの著作権表示は Copyright 2002, Rusty Russell, IBM Corporation.
.\"O .SH "SEE ALSO"
.SH "関連項目"
.PP
\fBmodprobe.conf\fR(5),
\fBlsmod\fR(8),
\fBmodprobe.old\fR(8)
