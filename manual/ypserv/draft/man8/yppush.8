.\" 
.\" This manual page is a part of ypserv archive. 
.\" README states the following
.\"
.\" See the file COPYING for copying restrictions. It is available under
.\" the GNU General Public License.
.\"
.\" Japanese Version Copyright (c) 1998, 1999 NAKANO Takeo all rights reserved.
.\" Translated Mon 23 Nov 1998 by NAKANO Takeo <nakano@apm.seikei.ac.jp>
.\" Updated Fri 22 Oct 1999 by NAKANO Takeo
.\" Updated & Modified Sun Feb 29 17:36:12 JST 2004
.\"         by Yuichi SATO <ysato444@yahoo.co.jp>
.\"
.TH YPPUSH 8 "August 2002" "YP Server" "Reference Manual"
.\"O .SH NAME
.\"O yppush \- force propagation of changed NIS databases
.SH 名前
yppush \- NIS データーベースの変更を強制的に伝播させる
.\"O .SH SYNOPSIS
.SH 書式
.B /usr/sbin/yppush
[
.B \-d
.I domain
]
[
.B \-t
.I timeout
]
[
.B --parallel
.I #
|
.B --port
.I port
]
[
.B \-h
.I host
]
[
.B \-v
]
mapname ...
.LP
.\"O .SH DESCRIPTION
.SH 説明
.LP
.\"O .B yppush
.\"O copies updated NIS databases (or maps) from the master NIS server to
.\"O the slave servers within a NIS domain. It is normally run only on
.\"O the NIS master by
.\"O .I /var/yp/Makefile
.\"O after the master databases are changed.
.\"O .I /var/yp/Makefile
.\"O does not invoke
.\"O .B yppush
.\"O by default, the
.\"O .B NOPUSH=true
.\"O line must be commented out.
.B yppush
は更新された NIS データーベース (やマップ) を、マスターの NIS サーバー
から同じ NIS ドメインに所属しているスレーブサーバーにコピーする。
通常は NIS マスターでのみ実行され、
.I /var/yp/Makefile
でマスターのデーターベースが更新された後に起動される。
デフォルトでは、
.I /var/yp/Makefile
からの
.B yppush
の起動は有効になっていない。これを有効にするには
.B NOPUSH="True"
の行をコメントアウトすること。
.\"O .br
.\"O .B yppush
.\"O first constructs a list of NIS slave servers by reading the NIS map
.\"O .B ypservers
.\"O within the
.\"O .I domain.
.\"O A destination host (or a list of hosts with multiple \-h commands)
.\"O can also be specified on the command line.
.\"O A "transfer map" request is sent to the NIS serger at each slave, along
.\"O with the information needed by the transfer agent ypxfr(8) to callback
.\"O to yppush, which may be printed the result to stderr. Messages are
.\"O also pritned when a transfer is not possible; for instance when the request
.\"O message is undeliverable.
.PP
.B yppush
は最初に所属するドメインの
.B ypservers
NIS マップを読み、スレーブサーバーのリストを生成する。
送り先のホスト (\-h コマンドを使えば複数のホストを同時指定できる) は
コマンドラインからも指定できる。
"transfer map" 要求がそれぞれのスレーブの NIS サーバーに送られ、
転送エージェントである
.BR ypxfr (8)
が
.B yppush
にコールバックを行う際に必要な情報が渡される。
このコールバックの結果は標準エラー出力に表示することもできる。
転送ができなかったとき (要求メッセージが受付けられなかったときなど)
にもメッセージを表示させることができる。
.\"O .SH OPTION
.SH オプション
.TP
.BI "\-d " domain
.\"O Specify a particular domain. The NIS domain of the local host system is
.\"O used by default. If the local host's domain name is not set, the domain
.\"O name must be specified with this flag.
ドメインを指定する。デフォルトではローカルホストの NIS ドメインが
用いられる。ローカルホストのドメイン名が設定されていない場合は、
このフラグで指定しなければならない。
.TP
.BI "\-t " timeout
.\"O The timeout flag is used to specify a timeout value in seconds. This timeout
.\"O controls how long
.\"O .B yppush
.\"O will wait for a response from a slave server before sending a
.\"O map transfer request to the next slave server in the list.
.\"O By default,
.\"O .B yppush
.\"O will wait 90 seconds. For big maps, this is not long enough.
タイムアウトの時間を秒単位で指定する。このタイムアウトは、
.B yppush
マップ転送要求をあるスレーブサーバーに出したあと、
スレーブからの反応を待つ時間である。ここで指定しただけ待つと、
リストの次のスレーブサーバーへ転送要求を送る。
デフォルトでは、
.B yppush
は 90 秒待つ。大きなマップでは充分でないかもしれない。
.TP
.BI \-\^\-parallel " #" "\fR,\fP \-p " #
.\"O .B yppush
.\"O normally performs transfers serially, meaning that it will
.\"O send a map transfer request to one slave server and then wait for
.\"O it to respond before sending the next map transfer request to the
.\"O next slave server. In environments with many slaves, it is more
.\"O efficient to initiate several map transfers at once so that the
.\"O transfers can take place in parallel.
.B yppush
は通常転送を直列に行う。すなわちマップの転送要求を一つのスレーブサーバーに
出し、その回答を待ち、そして次のスレーブサーバーに次の転送要求を出す。
多くのスレーブがあるような環境下では、複数のマップ転送を同時にスタートし、
転送を並列に行う方が効率的である。
.\"O It is not possible to run in parallel and assign a fixed port with
.\"O the
.\"O .B \--port
.\"O flag
.B \--port
フラグで固定のポートを割り当てて、並列に動作させるのは不可能である。
.TP
.BI "\--port " port
.\"O specify a port for
.\"O .B yppush
.\"O to  listen  on.   By default,
.\"O .B yppush
.\"O will ask
.\"O .B portmap(8)
.\"O to assign it a random port number.
.B yppush
が接続を待つポートを指定する。
デフォルトでは
.B yppush
は
.B portmap(8)
に無作為なポートを割り当ててもらう。
.\"O It is not possible to assign a port with this option and run in parallel with
.\"O the
.\"O .B \--parallel
.\"O or
.\"O .B \-p
.\"O flag
このオプションでポートを割り当てて、
.B \--parallel
または
.B \-p
フラグで並列に動作させることは不可能である。
.TP
.BI "\-h " host
.\"O The host flag can be used to transfer a map to a user-specified machine or
.\"O group of machines instead of the list of servers contained in
.\"O the
.\"O .B ypservers
.\"O map. A list of hosts can be specified by using multiple
.\"O instances of the
.\"O .B "\-h"
.\"O flag.
このフラグは、ユーザーの指定するマシン (もしくはマシンのグループ)
にマップ転送を行うために用いる。通常は
.B ypservers
マップにリストされているサーバーに転送が行われる。
ホストのリストを指定したい場合は、
.B \-h
フラグを複数回用いればよい。
.TP
.B \-v
.\"O Verbose mode: causes
.\"O .B yppush
.\"O to print debugging messages as it runs. Note specifying this flag twice
.\"O makes
.\"O .B yppush
.\"O even more verbose.
詳細モード。実行時にデバッグ情報を表示するようになる。
このフラグを二回指定すれば、
.B yppush
はさらに詳細に表示する。
.LP
.\"O .SH "SEE ALSO"
.SH 関連項目
.BR domainname (1),
.BR ypserv (8),
.BR ypxfr (8)
.LP
.\"O .SH BUGS
.SH バグ
.\"O The mechanism for transferring NIS maps in NIS v1 is different
.\"O that that in NIS version 2. This version of
.\"O .Nm yppush
.\"O has support for transferring maps to NIS v2 systems only.
NIS v1 での NIS マップ転送メカニズムは NIS バージョン 2 とは
異なっている。この
.B yppush
は NIS v2 システムのマップ転送しかサポートしていない。
.LP
.\"O .SH AUTHOR
.SH 著者
Thorsten Kukuk <kukuk@suse.de>
