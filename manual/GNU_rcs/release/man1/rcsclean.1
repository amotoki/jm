.de Id
.ds Rv \\$3
.ds Dt \\$4
..
.Id $Id: rcsclean.1,v 1.1.1.1 1999/07/19 01:49:14 cvs Exp $
.ds r \&\s-1RCS\s0
.if n .ds - \%--
.if t .ds - \(em
.TH RCSCLEAN 1 \*(Dt GNU
.SH 名称
rcsclean \- RCS で管理されているファイルのうち、不要なワークファイルを削除する
.SH 書式
.B rcsclean
.RI [ options "] [ " file " .\|.\|. ]"
.SH 解説
.B rcsclean
は、 \*r ファイルから
.\" ／＊？に？->からのままです。＊／
取り出された後に変更を受けていないワークファ
イルを削除します。
.B rcsclean
は、指定されたファイルと対応する \*r ファイル
に格納されているリビジョンとを比較します。もし、違いが見つかれば何もし
ません。違いがなければ、
.B \-u
オプションが指定されている場合にはロックを
解除し、ワークファイルが書き込み不可能であるか、ロックされていなければ削
除します。
.B rcsclean
は、そのような動作を行うとき、動作内容を
.B "rcs\ \-u"
や
.B "rm\ \-f"
といった形式で表示します。
.PP
ファイル名が指定されなかった場合、カレントディレクトリにあるすべてのワー
クファイルに対して検査が行われます。\*r 拡張子にマッチするファイル名は 
すべて \*r ファイルであるとみなし、その他のファイル名はワークフ
ァイルであるとみなします。
.BR ci (1)
を参照してください。
.PP
ワークファイルと比較するリビジョンの番号は、以下のオプションのいずれか
によって指定することができます:
.B \-n
、
.B \-q
、
.B \-r
、
.B \-u
。
リビジョン番号が指定されな
かった場合、
.B \-u
オプションが指定され、ユーザがロックしたリビジョ
ンが存在すれば、そのリビジョンが使用されます。さもなければ、デフォルト
枝の最新のリビジョンが使用されます。
.PP
.B rcsclean
は Makefile に記述する
.B clean
ターゲットで用いるときに便利です。
ワークファイルと \*r ファイル中のリビジョンとの違いを報告する 
.BR rcsdiff (1)
や、ワークファイルが変更されていなければ登録するかどうかを
問い合わせてくる
.BR ci (1)
のマニュアルも参照してください。
.SH オプション
.TP
.BI \-k subst
比較のためにリビジョンを取り出すときに、
.I subst
で指定した方式でキーワード置換を行います。詳しくは
.BR co (1)
を参照してください。
.TP
.BR \-n [\f2rev\fP]
実際の動作を行わず、何を行うかを表示します。何が行われるかを試してみ
るのに便利です。
.TP
.BR \-q [\f2rev\fP]
実行時の動作報告を行いません。
.TP
.BR \-r [\f2rev\fP]
比較対象のリビジョンを指定します。
.TP
.BR \-u [\f2rev\fP]
違いが見つからなかったファイルがロックされているなら、ロックを解除します。
.TP
.BI \-V n
\*r システムのバージョン
.I n
のエミュレーションを行います。詳細は
.BR co (1) 
を参照してください。
.TP
.BI \-x "suffixes"
\*r ファイル拡張子を指定します。詳しくは
.BR ci (1)
を参照してください。
.SH 例
.LP
.RS
.ft 3
rcsclean  *.c  *.h
.ft
.RE
.LP
.B \&.c
または
.B \&.h
で終わるファイル名のワークファイルで、最後に取り出されて
から変更を受けていないものを削除します。
.LP
.RS
.ft 3
rcsclean
.ft
.RE
.LP
カレントディレクトリにあるワークファイルで最後に取り出されてから変更を
受けていないものを削除します。
.SH 関連ファイル
.B rcsclean
.B rcsclean
は
.BR ci (1)
と同様のファイルにアクセスします。
.SH 環境変数
.TP
.B \s-1RCSINIT\s0
コマンドラインで指定する引数に先立って指定されるべきオプションを指定し
ます。オプションは空白で区切って指定します。オプション中に空白が含まれ
る場合はバックスラッシュでエスケープします。
.B \-q
、
.B \-V
、
.B \-x
等を指定するのに用いると便利です。
.SH 診断
すべての動作が成功した場合、終了ステータス 0 を返します。ワークファイ
ルや \*r ファイルがなくても無視します。
.SH 作者
Author: Walter F. Tichy.
.br
Revision Number: \*(Rv; Release Date: \*(Dt.
.br
Copyright \(co 1982, 1988, 1989 by Walter F. Tichy.
.br
Copyright \(co 1990, 1991 by Paul Eggert.
.SH 関連項目
ci(1), co(1), ident(1), rcs(1), rcsdiff(1), rcsintro(1), rcsmerge(1), rlog(1),
rcsfile(5)
.br
Walter F. Tichy,
\*r\*-A System for Version Control,
.I "Software\*-Practice & Experience"
.BR 15 ,
7 (July 1985), 637-654.
