.\" Copyright (C) 2006, 2010 Michael Kerrisk <mtk.manpages@gmail.com>
.\" Copyright (C) 2009 Petr Baudis <pasky@suse.cz>
.\"
.\" Permission is granted to make and distribute verbatim copies of this
.\" manual provided the copyright notice and this permission notice are
.\" preserved on all copies.
.\"
.\" Permission is granted to copy and distribute modified versions of this
.\" manual under the conditions for verbatim copying, provided that the
.\" entire resulting derived work is distributed under the terms of a
.\" permission notice identical to this one.
.\"
.\" Since the Linux kernel and libraries are constantly changing, this
.\" manual page may be incorrect or out-of-date.  The author(s) assume no
.\" responsibility for errors or omissions, or for damages resulting from
.\" the use of the information contained herein.  The author(s) may not
.\" have taken the same level of care in the production of this manual,
.\" which is licensed free of charge, as they might when working
.\" professionally.
.\"
.\" Formatted or processed versions of this manual, if unaccompanied by
.\" the source, must acknowledge the copyright and authors of this work.
.\"
.\"*******************************************************************
.\"
.\" This file was generated with po4a. Translate the source file.
.\"
.\"*******************************************************************
.TH SIGEVENT 7 2011\-09\-09 GNU "Linux Programmer's Manual"
.SH 名前
sigevent \- structure for notification from asynchronous routines
.SH 書式
.nf

union sigval {          /* Data passed with notification */
    int     sival_int;         /* Integer value */
    void   *sival_ptr;         /* Pointer value */
};

struct sigevent {
    int          sigev_notify; /* Notification method */
    int          sigev_signo;  /* Notification signal */
    union sigval sigev_value;  /* Data passed with
                                  notification */
    void       (*sigev_notify_function) (union sigval);
                     /* Function used for thread
                        notification (SIGEV_THREAD) */
    void        *sigev_notify_attributes;
                     /* Attributes for notification thread
                        (SIGEV_THREAD) */
    pid_t        sigev_notify_thread_id;
                     /* ID of thread to signal (SIGEV_THREAD_ID) */
};
.fi
.SH 説明
.PP
The \fIsigevent\fP structure is used by various APIs to describe the way a
process is to be notified about an event (e.g., completion of an
asynchronous request, expiration of a timer, or the arrival of a message).
.PP
The definition shown in the SYNOPSIS is approximate: some of the fields in
the \fIsigevent\fP structure may be defined as part of a union.  Programs
should only employ those fields relevant to the value specified in
\fIsigev_notify\fP.
.PP
The \fIsigev_notify\fP field specifies how notification is to be performed.
This field can have one of the following values:
.TP  8
\fBSIGEV_NONE\fP
A "null" notification: don't do anything when the event occurs.
.TP 
\fBSIGEV_SIGNAL\fP
Notify the process by sending the signal specified in \fIsigev_signo\fP.
.IP
If the signal is caught with a signal handler that was registered using the
\fBsigaction\fP(2)  \fBSA_SIGINFO\fP flag, then the following fields are set in
the \fIsiginfo_t\fP structure that is passed as the second argument of the
handler:
.RS 8
.TP  10
\fIsi_code\fP
This field is set to a value that depends on the API delivering the
notification.
.TP 
\fIsi_signo\fP
This field is set to the signal number (i.e., the same value as in
\fIsigev_signo\fP).
.TP 
\fIsi_value\fP
This field is set to the value specified in \fIsigev_value\fP.
.RE
.IP
Depending on the API, other fields may also be set in the \fIsiginfo_t\fP
structure.
.IP
The same information is also available if the signal is accepted using
\fBsigwaitinfo\fP(2).
.TP 
\fBSIGEV_THREAD\fP
Notify the process by invoking \fIsigev_notify_function\fP "as if" it were the
start function of a new thread.  (Among the implementation possibilities
here are that each timer notification could result in the creation of a new
thread, or that a single thread is created to receive all notifications.)
The function is invoked with \fIsigev_value\fP as its sole argument.  If
\fIsigev_notify_attributes\fP is not NULL, it should point to a
\fIpthread_attr_t\fP structure that defines attributes for the new thread (see
\fBpthread_attr_init\fP(3)).
.TP 
\fBSIGEV_THREAD_ID\fP (Linux\-specific)
.\" | SIGEV_SIGNAL vs not?
Currently used only by POSIX timers; see \fBtimer_create\fP(2).
.SH 準拠
POSIX.1\-2001.
.SH 関連項目
\fBtimer_create\fP(2), \fBaio_fsync\fP(3), \fBaio_read\fP(3), \fBaio_write\fP(3),
\fBgetaddrinfo_a\fP(3), \fBlio_listio\fP(3), \fBmq_notify\fP(3), \fBaio\fP(7),
\fBpthreads\fP(7)
.SH この文書について
この man ページは Linux \fIman\-pages\fP プロジェクトのリリース 3.41 の一部
である。プロジェクトの説明とバグ報告に関する情報は
http://www.kernel.org/doc/man\-pages/ に書かれている。
