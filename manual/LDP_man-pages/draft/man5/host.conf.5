.\" Copyright (c) 1997 Martin Schulze (joey@infodrom.north.de)
.\"
.\" This is free documentation; you can redistribute it and/or
.\" modify it under the terms of the GNU General Public License as
.\" published by the Free Software Foundation; either version 2 of
.\" the License, or (at your option) any later version.
.\"
.\" The GNU General Public License's references to "object code"
.\" and "executables" are to be interpreted as the output of any
.\" document formatting or typesetting system, including
.\" intermediate and printed output.
.\"
.\" This manual is distributed in the hope that it will be useful,
.\" but WITHOUT ANY WARRANTY; without even the implied warranty of
.\" MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
.\" GNU General Public License for more details.
.\"
.\" You should have received a copy of the GNU General Public
.\" License along with this manual; if not, write to the Free
.\" Software Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139,
.\" USA.
.\"
.\" Much of the text is copied from the manpage of resolv+(8).
.\"
.\" 2003-08-23 Martin Schulze <joey@infodrom.org> Updated according to glibc 2.3.2
.\"
.\" Japanese Version Copyright (c) 2000-2003 Yuichi SATO
.\"         all rights reserved.
.\" Translated Sun Sep 24 06:18:14 JST 2000
.\"         by Yuichi SATO <sato@complex.eng.hokudai.ac.jp>
.\" Updated & Modified Sun Sep  7 17:51:03 JST 2003
.\"         by Yuichi SATO <ysato444@yahoo.co.jp>
.\"
.\"WORD:	method		方式
.\"WORD:	trim		取り去る
.\"WORD:	spoofing	偽装
.\"
.TH HOST.CONF 5 2003-08-23 "Linux" "Linux System Administration"
.\"O .SH NAME
.SH 名前
.\"O host.conf \- resolver configuration file
host.conf \- レゾルバ設定ファイル
.\"O .SH DESCRIPTION
.SH 説明
.\"O The file
.\"O .I /etc/host.conf
.\"O contains configuration information specific to the resolver library.
.\"O It should contain one configuration keyword per line, followed by
.\"O appropriate configuration information.
.\"O The keywords recognized are
.\"O .IR order ", " trim ", " multi ", " nospoof ", " spoof ", and " reorder .
.\"O These keywords are described below.
ファイル
.I /etc/host.conf
には、レゾルバライブラリの詳細な設定情報が含まれている。
このファイルには、1 行毎に 1 つの設定キーワードと
それに続く適切な設定情報がなければならない。
認識されるキーワードは
.IR order ", " trim ", " multi ", " nospoof ", " spoof ", " reorder
である。
各キーワードを、以下で説明する。
.TP
.I order
.\"O This keyword specifies how host lookups are to be performed.
.\"O It should be followed by one or more lookup methods, separated by commas.
.\"O Valid methods are
.\"O .IR bind ", " hosts ", and " nis .
このキーワードは、ホストのルックアップ方式を指定する。
このキーワードの後には、コンマで分けた
1 つ以上のルックアップ方式が続かなくてはならない。
使用可能な方式は
.IR bind ", " hosts ", " nis
である。
.TP
.I trim
.\"O This keyword may be listed more than once.
.\"O Each time it should be
.\"O followed by a list of domains, separated by colons (\(aq:\(aq), semicolons
.\"O (\(aq;\(aq) or commas (\(aq,\(aq), with the leading dot.
.\"O When set, the
.\"O resolv+ library will automatically trim the given domain name from the
.\"O end of any hostname resolved via DNS.
.\"O This is intended for use with
.\"O local hosts and domains.
.\"O (Related note: trim will not affect hostnames
.\"O gathered via NIS or the hosts file.
.\"O Care should be taken to
.\"O ensure that the first hostname for each entry in the hosts file is
.\"O fully qualified or unqualified, as appropriate for the local
.\"O installation.)
このキーワードは、2 回以上リストすることができる。
毎回、このキーワードの後には、
ドットではじまる 1 つ以上のドメイン名のリストを続けなければならない。
ドメイン名はコロン (\(aq:\(aq)、セミコロン (\(aq;\(aq)、コンマ (\(aq,\(aq)
で区切る。
このキーワードが設定されると、resolv+ ライブラリは DNS でレゾルブされた
すべてのホスト名の後ろから与えられたドメイン名を自動的に取り去る。
このキーワードはローカルなホストとドメインで使用することを意図している。
(関連した注意 : NIS または hosts ファイルで集められたホスト名に
trim は影響しない。
hosts ファイルの各エントリの最初のホスト名を、
完全なドメイン名付きのものにするかしないかは、
ホストごとのインストールポリシーにあわせて
適切に選択する必要がある。注意すること。)
.TP
.I multi
.\"O Valid values are
.\"O .IR on " and " off .
.\"O If set to
.\"O .IR on ,
.\"O the resolv+ library will return all valid addresses for a host that
.\"O appears in the
.\"O .I /etc/hosts
.\"O file,
.\"O instead of only the first.
.\"O This is
.\"O .I off
.\"O by default, as it may cause a substantial performance loss at sites
.\"O with large hosts files.
有効な値は
.IR on " と " off
である。
.I on
に設定された場合、最初のエントリのみを例外として、
resolv+ ライブラリは
.I /etc/hosts
ファイルに現れるホストに対して全ての有効なアドレスを返そうとする。
大きな hosts ファイルを持つサイトでは、
この設定は非常な性能の低下を招くので、
デフォルトでは
.I off
である。
.TP
.I nospoof
.\"O Valid values are
.\"O .IR on " and " off .
.\"O If set to
.\"O .IR on ,
.\"O the resolv+ library will attempt to prevent hostname spoofing to
.\"O enhance the security of
.\"O .BR rlogin " and " rsh .
.\"O It works as follows: after performing a host address lookup, resolv+
.\"O will perform a hostname lookup for that address.
.\"O If the two hostnames
.\"O do not match, the query will fail.
有効な値は
.IR on " と " off
である。
.I on
に設定された場合、resolv+ ライブラリは
.BR rlogin " と " rsh
のセキュリティを向上させるためホスト名の偽装を防止しようとする。
これは、「ホストアドレスのルックアップを行った後、
resolv+ はそのアドレスに対してホスト名のルックアップを行い、
もし 2 つのホスト名が一致しなかった場合は、クエリーは失敗する。」
というように動作する。
.\"O The default value is
.\"O .IR off .
デフォルトの値は
.I off
である。
.TP
.I spoofalert
.\"O Valid values are
.\"O .IR on " and " off .
有効な値は
.IR on " と " off
である。
.\"O If this option is set to
.\"O .I on
.\"O and the
.\"O .I nospoof
.\"O option is also set, resolv+ will log a warning of the error via the
.\"O syslog facility.
.\"O The default value is
.\"O .IR off .
このオプションが
.I on
に設定されていて、
.I nospoof
オプションも (on に) 設定されている場合、
resolv+ は syslog 機能を通じてエラーに関する警告のログをとる。
デフォルトの値は
.I off
である。
.TP
.I spoof
.\"O Valid values are
.\"O .IR off ", " nowarn " and " warn .
有効な値は
.IR off ", " nowarn ", " warn
である。
.\"O If this option is set to
.\"O .IR off ,
.\"O spoofed addresses are permitted and no warnings will be emitted
.\"O via the syslog facility.
このオプションを
.I off
に設定すると、偽装されたアドレスを許可して、
syslog 機能を通じた警告を発しない。
.\"O If this option is set to
.\"O .IR warn ,
.\"O resolv+ will attempt to prevent hostname spoofing to
.\"O enhance the security and log a warning of the error via the syslog
.\"O facility.
このオプションを
.I warn
に設定すると、resolv+ はセキュリティを高めるためにホスト名の偽装を防止し、
syslog 機能を通じてエラーに関する警告のログをとる。
.\"O If this option is set to
.\"O .IR nowarn ,
.\"O the resolv+ library will attempt to prevent hostname spoofing to
.\"O enhance the security but not emit warnings via the syslog facility.
このオプションを
.I nowarn
に設定すると、resolv+ はセキュリティを高めるためにホスト名の偽装を防止するが、
syslog 機能を通じた警告は発しない。
.\"O Setting this option to anything else is equal to setting it to
.\"O .IR nowarn .
このオプションを何も設定しない場合は、
.I nowarn
を設定したのと同じになる。
.TP
.I reorder
.\"O Valid values are
.\"O .IR on " and " off .
.\"O If set to
.\"O .IR on ,
.\"O resolv+ will attempt to reorder host addresses so that local addresses
.\"O (i.e., on the same subnet) are listed first when a
.\"O .BR gethostbyname (3)
.\"O is performed.
.\"O Reordering is done for all lookup methods.
.\"O The default
.\"O value is
.\"O .IR off .
有効な値は
.IR on " と " off
である。
.I on
に設定されると、
.B gethostbyname (3)
が実行されるとき、resolv+ ライブラリは、ローカルな
(つまり、同じサブネットにある) アドレスが最初にリストされるように
ホストアドレスを並べ変える。
すべてのルックアップ方式に対して並べ変えが行われる。
デフォルトの値は、
.I off
である。
.\"O .SH ENVIRONMENT
.SH 環境変数
.\"O There are six environment variables that can be used to allow users to
.\"O override the behavior which is configured in
.\"O .IR /etc/host.conf .
.I /etc/host.conf
で設定されている動作を、ユーザが上書きできる 6 つの環境変数がある。
.TP
.B RESOLV_HOST_CONF
.\"O If set this variable points to a file that should be read instead of
.\"O .IR /etc/host.conf .
この変数を設定すると、
.I /etc/host.conf
の代りに読み込むファイルを設定できる。
.TP
.B RESOLV_SERV_ORDER
.\"O Overrides the
.\"O .I order
.\"O command.
.I order
コマンドを上書きする。
.TP
.B RESOLV_SPOOF_CHECK
.\"O Overrides the
.\"O .IR nospoof ", " spoofalert " and " spoof
.\"O commands in the same way as the
.\"O .I spoof
.\"O command is parsed.
.\"O Valid values are
.\"O .IR off ", " nowarn " and " warn .
.I spoof
コマンドを解析するのと同じ方式で、
.IR nospoof ", " spoofalert ", " spoof
コマンドを上書きできる。
有効な値は
.IR off ", " nowarn ", " warn
である。
.TP
.B RESOLV_MULTI
.\"O Overrides the
.\"O .I multi
.\"O command.
.I multi
コマンドを上書きする。
.TP
.B RESOLV_REORDER
.\"O Overrides the
.\"O .I reorder
.\"O command.
.I reorder
コマンドを上書きする。
.TP
.B RESOLV_ADD_TRIM_DOMAINS
.\"O A list of domains,  separated by colons (\(aq:\(aq), semicolons (\(aq;\(aq) or
.\"O commas (\(aq,\(aq), with the leading dot, which will be added to the list of
.\"O domains that should be trimmed.
コロン (\(aq:\(aq)、セミコロン (\(aq;\(aq)、コンマ (\(aq,\(aq) で区切った
ドット (\(aq.\(aq) で始まるドメイン名のリスト。
ホスト名から取り去るドメイン名のリストに追加する。
.TP
.B RESOLV_OVERRIDE_TRIM_DOMAINS
.\"O A list of domains,  separated by colons (\(aq:\(aq), semicolons (\(aq;\(aq) or
.\"O commas (\(aq,\(aq), with the leading dot, which will replace the list of
.\"O domains that should be trimmed.
.\"O Overrides the
.\"O .I trim
.\"O command.
コロン (\(aq:\(aq)、セミコロン (\(aq;\(aq)、コンマ (\(aq,\(aq) で区切った
ドット (\(aq.\(aq) で始まるドメイン名のリスト。
ホスト名から取り去るドメイン名のリストを上書きする。
.I trim
コマンドを上書きする。
.\"O .SH FILES
.SH ファイル
.TP
.I /etc/host.conf
.\"O Resolver configuration file
リゾルバ設定ファイル
.TP
.I /etc/resolv.conf
.\"O Resolver configuration file
リゾルバ設定ファイル
.TP
.I /etc/hosts
.\"O Local hosts database
ローカルの hosts データベース
.\"O .SH NOTES
.SH 注意
.\"O The following differences exist compared to the original implementation.
元々の実装に比べて以下のような違いがある。
.\"O A new command
.\"O .I spoof
.\"O and a new environment variable
.\"O .B RESOLV_SPOOF_CHECK
.\"O can take arguments like
.\"O .IR off ", " nowarn " and " warn .
新しいコマンド
.I spoof
と新しい環境変数
.B RESOLV_SPOOF_CHECK
は、引き数
.IR off ", " nowarn ", " warn
をとる。
.\"O Line comments can appear anywhere and not only at the beginning of a line.
コメントは行頭だけではなく、どこに書いてもよい。
.\"O .SH SEE ALSO
.SH 関連項目
.BR gethostbyname (3),
.BR hostname (7),
.BR named (8),
.BR resolv+ (8)
