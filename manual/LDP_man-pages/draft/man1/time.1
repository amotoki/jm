.\" Copyright Andries Brouwer, 2000
.\"
.\" This page is distributed under GPL.
.\" Some fragments of text came from the time-1.7 info file.
.\" Inspired by kromJx@crosswinds.net.
.\"
.\" Japanese Version Copyright (c) 2008  Akihiro MOTOKI
.\"         all rights reserved.
.\" Translated 2008-11-20, Akihiro MOTOKI <amotoki@dd.iij4u.or.jp>, LDP v3.13
.\" 
.TH TIME 1 2008-11-14 "" "Linux User's Manual"
.\"O .SH NAME
.SH 名前
.\"O time \- time a simple command or give resource usage
time \- コマンドの時間計測やリソース使用量を表示する
.\"O .SH SYNOPSIS
.SH 書式
.BI "time [" options "] " command " [" arguments... "] "
.\"O .SH DESCRIPTION
.SH 説明
.\"O The
.\"O .B time
.\"O command runs the specified program
.\"O .I command
.\"O with the given arguments.
.B time
コマンドは、指定されたプログラム
.I command
を渡された引き数で実行する。
.\"O When
.\"O .I command
.\"O finishes,
.\"O .B time
.\"O writes a message to standard error giving timing statistics
.\"O about this program run.
.I command
が終了すると、
.B time
はこのプログラムの実行時間の統計情報についてのメッセージを
標準エラー出力に出力する。
.\"O These statistics consist of (i) the elapsed real time
.\"O between invocation and termination, (ii) the user CPU time
.\"O (the sum of the
.\"O .I tms_utime
.\"O and
.\"O .I tms_cutime
.\"O values in a
.\"O .I "struct tms"
.\"O as returned by
.\"O .BR times (2)),
.\"O and (iii) the system CPU time (the sum of the
.\"O .I  tms_stime
.\"O and
.\"O .I tms_cstime
.\"O values in a
.\"O .I "struct tms"
.\"O as returned by
.\"O .BR times (2)).
表示される統計情報は以下の三つから構成される:
(i) 起動から終了までに経過した実時間 (real time)、
(ii) ユーザ CPU 時間
.RB ( times (2)
が返す
.I "struct tms"
の
.I tms_utime
と
.I tms_cutime
の値の合計)、
(iii) システム CPU 時間
.RB ( times (2)
が返す
.I "struct tms"
の
.I tms_stime
と
.I tms_cstime
の値の合計)。

.\"O Note: some shells (e.g.,
.\"O .BR bash (1))
.\"O have a built-in
.\"O .B time
.\"O command that provides less functionality than the command described here.
.\"O To access the real command, you may need to specify its pathname
.\"O (something like
.\"O .IR /usr/bin/time ).
.RB ( bash (1)
などの) いくつかのシェルには、ここで説明するコマンドよりも
機能が少ない、組み込みの
.B time
コマンドが存在する。
組み込みではない実際のコマンドを使用するためには、
.RI ( /usr/bin/time
のような) コマンドのパス名を指定する必要があるかもしれない。
.\"O .SH OPTIONS
.SH オプション
.TP
.B \-p
.\"O When in the POSIX locale, use the precise traditional format
.\"O .br
.\"O .in +5
.\"O "real %f\enuser %f\ensys %f\en"
.\"O .in -5
.\"O .br
.\"O (with numbers in seconds)
.\"O where the number of decimals in the output for %f is unspecified
.\"O but is sufficient to express the clock tick accuracy, and at least one.
POSIX ロケールの場合、伝統的なフォーマットである
.in +5
"real %f\enuser %f\ensys %f\en"
.in -5
が使用される (各数字は秒単位)。
%f の出力での小数点以下の桁数は規定されていないが、
クロック・ティック (clock tick) の精度を表すのに十分な桁数となり、
少なくとも一桁は存在する。
.\"O .SH "EXIT STATUS"
.SH 終了ステータス
.\"O If
.\"O .I command
.\"O was invoked, the exit status is that of
.\"O .IR command .
.\"O Otherwise it is 127 if
.\"O .I command
.\"O could not be found, 126 if it could be found but could not be invoked,
.\"O and some other nonzero value (1-125) if something else went wrong.
.I command
が起動された場合は、
.I command
の終了ステータスが終了ステータスとなる。
.I command
が見つからなかった場合は終了ステータスは 127 で、
.I command
が見つかったが起動できなかった場合は 126 となる。
これ以外で何かエラーがあった場合は、終了ステータスは
0 以外の前記以外の値 (1-125) の何かになる。
.\"O .SH ENVIRONMENT
.SH 環境変数
.\"O The variables
.\"O .BR LANG ,
.\"O .BR LC_ALL ,
.\"O .BR LC_CTYPE ,
.\"O .BR LC_MESSAGES ,
.\"O .BR LC_NUMERIC ,
.\"O .BR NLSPATH ,
.\"O and
.\"O .B PATH
.\"O are used.
環境変数
.BR LANG ,
.BR LC_ALL ,
.BR LC_CTYPE ,
.BR LC_MESSAGES ,
.BR LC_NUMERIC ,
.BR NLSPATH ,
.B PATH
が使用される。
.\"O The last one to search for
.\"O .IR command .
.\"O The remaining ones for the text and formatting of the output.
.B PATH
は
.I command
を探すのに使われる。それ以外は出力文字や書式に使用される。
.\"O .SH "GNU VERSION"
.SH GNU バージョン
.\"O Below a description of the GNU 1.7 version of
.\"O .BR time .
.\"O Disregarding the name of the utility, GNU makes it output lots of
.\"O useful information, not only about time used, but also on other
.\"O resources like memory, I/O and IPC calls (where available).
.\"O The output is formatted using a format string that can be specified
.\"O using the \-f option or the
.\"O .B TIME
.\"O environment variable.
以下は GNU 1.7 バージョンの
.BR time
の説明である。コマンド名とは裏腹に、GNU バージョンでは
有益な情報がたくさん出力される。使用時間だけでなく、
(取得できる場合には) メモリや I/O、IPC 呼び出しなどの他のリソース
に関する情報も出力される。
出力はフォーマット文字列を使って整形され、
フォーマット文字列は \-f オプションか環境変数
.B TIME
で指定できる。
.LP
.\"O The default format string is
デフォルトのフォーマット文字列は以下の通り。
.br
.in +3
%Uuser %Ssystem %Eelapsed %PCPU (%Xtext+%Ddata %Mmax)k
.br
%Iinputs+%Ooutputs (%Fmajor+%Rminor)pagefaults %Wswaps
.br
.in -3
.LP
.\"O When the \-p option is given the (portable) output format
\-p オプションが指定された場合には、(他と互換性のある) 出力
フォーマットが使用される。
.br
.in +3
real %e
.br
user %U
.br
sys %S
.br
.in -3
.\"O is used.
.\"O .SS "The format string"
.SS "フォーマット文字列"
.\"O The format is interpreted in the usual printf-like way.
.\"O Ordinary characters are directly copied, tab, newline
.\"O and backslash are escaped using \et, \en and \e\e,
.\"O a percent sign is represented by %%, and otherwise %
.\"O indicates a conversion.
.\"O The program
.\"O .B time
.\"O will always add a trailing newline itself.
.\"O The conversions follow.
.\"O All of those used by
.\"O .BR tcsh (1)
.\"O are supported.
フォーマットはよくある printf 形式で解釈される。
通常の文字はそのままコピーされ、
タブ、改行 (newline)、バックスラッシュはそれぞれ \et, \en, \e\e で
エスケープされる。
パーセント記号は %% で表現され、それ以外の % は変換を示す。
末尾には必ず改行文字 (newline) が追加される。
変換は以下の通りである。
.BR tcsh (1)
で使用される変換は全てサポートされている。
.LP
.B "Time"
.TP
.B %E
.\"O Elapsed real time (in [hours:]minutes:seconds).
経過した実時間 ([hours:]minutes:seconds の形式)。
.TP
.B %e
.\"O (Not in tcsh.) Elapsed real time (in seconds).
(tcsh にはない) 経過した実時間 (秒単位)。
.TP
.B %S
.\"O Total number of CPU-seconds that the process spent in kernel mode.
そのプロセスがカーネルモードで消費した CPU 時間の合計 (秒単位)。
.TP
.B %U
.\"O Total number of CPU-seconds that the process spent in user mode.
そのプロセスがユーザモードで消費した CPU 時間の合計 (秒単位)。
.TP
.B %P
.\"O Percentage of the CPU that this job got, computed as (%U + %S) / %E.
このジョブが獲得した CPU の割り合い (パーセンテージ)。
(%U + %S) / %E で計算される。
.LP
.B "Memory"
.TP
.B %M
.\"O Maximum resident set size of the process during its lifetime, in Kbytes.
プロセス生存中のそのプロセスの resident set size の最大値。
キロバイト単位。
.TP
.B %t
.\"O (Not in tcsh.) Average resident set size of the process, in Kbytes.
(tcsh にはない)
そのプロセスの resident set size の平均値。
キロバイト単位。
.TP
.B %K
.\"O Average total (data+stack+text) memory use of the process,
.\"O in Kbytes.
そのプロセスのメモリ使用量の合計 (データ+スタック+テキスト) の平均値。
キロバイト単位。
.TP
.B %D
.\"O Average size of the process's unshared data area, in Kbytes.
そのプロセスの非共有データ領域の平均サイズ。
キロバイト単位。
.TP
.B %p
.\"O (Not in tcsh.) Average size of the process's unshared stack space, in Kbytes.
(tcsh にはない)
そのプロセスの非共有スタック空間の平均サイズ。
キロバイト単位。
.TP
.B %X
.\"O Average size of the process's shared text space, in Kbytes.
そのプロセスの共有テキスト空間の平均サイズ。
キロバイト単位。
.TP
.B %Z
.\"O (Not in tcsh.) System's page size, in bytes.
.\"O This is a per-system constant, but varies between systems.
(tcsh にはない) システムのページサイズ (バイト単位)。
この値はシステム毎に決まる定数だが、システムにより異なる。
.TP
.B %F
.\"O Number of major page faults that occurred while the process was running.
.\"O These are faults where the page has to be read in from disk.
プロセスの動作中に発生したメジャーページフォルトの回数。
これは、ディスクからページを読み込む必要があったページフォルトに
関するものである。
.TP
.B %R
.\"O Number of minor, or recoverable, page faults.
.\"O These are faults for pages that are not valid but which have
.\"O not yet been claimed by other virtual pages.  Thus the data
.\"O in the page is still valid but the system tables must be updated.
マイナーページフォールト、つまり回復可能なページフォルトの回数。
これは、そのページは有効でないが、まだ他の仮想ページに奪われて
いなかったページに対するページフォルトに関するものである。
.TP
.B %W
.\"O Number of times the process was swapped out of main memory.
そのプロセスが主記憶からスワップアウトされた回数。
.TP
.B %c
.\"O Number of times the process was context-switched involuntarily
.\"O (because the time slice expired).
そのプロセスが (タイムスライスの経過により) 強制的にコンテキストスイッチ
された回数。
.TP
.B %w
.\"O Number of waits: times that the program was context-switched voluntarily,
.\"O for instance while waiting for an I/O operation to complete.
wait の回数、つまりそのプログラムが自発的にコンテキストスイッチされた回数。
例えば、I/O 操作の完了を待っている間などが該当する。
.LP
.B "I/O"
.TP
.B %I
.\"O Number of file system inputs by the process.
そのプロセスによるファイルシステムからの入力の回数。
.TP
.B %O
.\"O Number of file system outputs by the process.
そのプロセスによるファイルシステムへの出力の回数。
.TP
.B %r
.\"O Number of socket messages received by the process.
そのプロセスが受信したソケットメッセージ数。
.TP
.B %s
.\"O Number of socket messages sent by the process.
そのプロセスが送信したソケットメッセージ数。
.TP
.B %k
.\"O Number of signals delivered to the process.
そのプロセスに配送されたシグナル数。
.TP
.B %C
.\"O (Not in tcsh.) Name and command line arguments of the command being timed.
(tcsh にはない) time の対象となったコマンド名とコマンドライン引き数。
.TP
.B %x
.\"O (Not in tcsh.) Exit status of the command.
(tcsh にはない) コマンドの終了ステータス。
.\"O .SS "GNU Options"
.SS "GNU オプション"
.TP
.BI "\-f " FORMAT ", \-\-format=" FORMAT
.\"O Specify output format, possibly overriding the format specified
.\"O in the environment variable TIME.
出力フォーマットを指定する。
環境変数
.B TIME
で指定されたフォーマットよりも優先される。
.TP
.B "\-p, \-\-portability"
.\"O Use the portable output format.
他の time と互換性のある出力フォーマットを使用する。
.TP
.BI "\-o " FILE ", \-\-output=" FILE
.\"O Do not send the results to \fIstderr\fp, but overwrite the specified file.
結果を \fIstderr\fP に送らず、指定されたファイルに書き込む。
ファイルは上書きされる。
.TP
.B "\-a, \-\-append"
.\"O (Used together with \-o.) Do not overwrite but append.
(\-o と一緒に使用する。)
ファイルを上書きせずに、結果をファイル末尾に追加する。
.TP
.B "\-v, \-\-verbose"
.\"O Give very verbose output about all the program knows about.
非常に詳しい出力で、入手できる全ての情報を出力する。
.\"O .SS "GNU Standard Options"
.SS "GNU 標準オプション"
.TP
.B "\-\-help"
.\"O Print a usage message on standard output and exit successfully.
使用方法に関するメッセージを標準出力に表示し、正常終了する。
.TP
.B "\-V, \-\-version"
.\"O Print version information on standard output, then exit successfully.
バージョン情報を標準出力に表示し、正常終了する。
.TP
.B "\-\-"
.\"O Terminate option list.
オプションリストの末尾を示す。
.\"O .SH BUGS
.SH バグ
.\"O Not all resources are measured by all versions of UNIX,
.\"O so some of the values might be reported as zero.
.\"O The present selection was mostly inspired by the data
.\"O provided by 4.2 or 4.3BSD.
全てのリソースが UNIX の全てのバージョンで計測されているわけではないので、
いくつかの値が 0 と報告される可能性がある。
現在の出力項目のほとんどは 4.2BSD や 4.3BSD で取得可能なデータに
基づいて選択されている。
.LP
.\"O GNU time version 1.7 is not yet localized.
.\"O Thus, it does not implement the POSIX requirements.
GNU time バージョン 1.7 はまだローカライズされていない。
そのため、POSIX の要件を実装していないことになる。
.LP
.\"O The environment variable
.\"O .B TIME
.\"O was badly chosen.
.\"O It is not unusual for systems like
.\"O .BR autoconf (1)
.\"O or
.\"O .BR make (1)
.\"O to use environment variables with the name of a utility to override
.\"O the utility to be used.
.\"O Uses like MORE or TIME for options to programs
.\"O (instead of program pathnames) tend to lead to difficulties.
.B TIME
という環境変数は名前の選択がまずい。
.BR autoconf (1)
や
.BR make (1)
のようなシステムでは、使用するコマンドを上書きするのにそのコマンドの
名前の環境変数を使うのが珍しくない。
MORE や TIME のような名前を (プログラムのパス名の指定ではなく)
プログラムへのオプションを指定するのに使うと、
面倒なことを引き起こす可能性が高い。
.LP
.\"O It seems unfortunate that \-o overwrites instead of appends.
.\"O (That is, the \-a option should be the default.)
\-o が追記ではなく上書きになっているのは残念なことだ
(つまり \-a オプションがデフォルトになっているべきだろうということだ)。
.LP
.\"O Mail suggestions and bug reports for GNU
.\"O .B time
.\"O to
.\"O .br
.\"O .I bug\-utils@prep.ai.mit.edu
.\"O .br
.\"O Please include the version of
.\"O .BR time ,
.\"O which you can get by running
.\"O .br
.\"O .I time \-\-version
.\"O .br
.\"O and the operating system
.\"O and C compiler you used.
GNU
.B time
に対する提案やバグレポートは
.br
.I bug\-utils@prep.ai.mit.edu
.br
までメールを送ってほしい。
その場合には
.B time
や OS、使用している C コンパイラの
バージョンを記載してほしい。
.B time
のバージョンは以下のコマンドで取得できる。
.br
.I time \-\-version
.br
.\" .SH AUTHORS
.\" .TP
.\" .IP "David Keppel"
.\" Original version
.\" .IP "David MacKenzie"
.\" POSIXization, autoconfiscation, GNU getoptization,
.\" documentation, other bug fixes and improvements.
.\" .IP "Arne Henrik Juul"
.\" Helped with portability
.\" .IP "Francois Pinard"
.\" Helped with portability
.\"O .SH "SEE ALSO"
.SH 関連項目
.BR tcsh (1),
.BR times (2),
.BR wait3 (2)
