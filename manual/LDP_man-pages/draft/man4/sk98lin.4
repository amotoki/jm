.\" (C)Copyright 1999-2003 Marvell(R) -- linux@syskonnect.de
.\" sk98lin.4 1.1 2003/12/17 10:03:18
.\" This manpage can be viewed using `groff -Tascii -man sk98lin.4 | less`
.\"
.\" This is free documentation; you can redistribute it and/or
.\" modify it under the terms of the GNU General Public License as
.\" published by the Free Software Foundation; either version 2 of
.\" the License, or (at your option) any later version.
.\"
.\" The GNU General Public License's references to "object code"
.\" and "executables" are to be interpreted as the output of any
.\" document formatting or typesetting system, including
.\" intermediate and printed output.
.\"
.\" This manual is distributed in the hope that it will be useful,
.\" but WITHOUT ANY WARRANTY; without even the implied warranty of
.\" MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
.\" GNU General Public License for more details.
.\"
.\" You should have received a copy of the GNU General Public
.\" License along with this manual; if not, write to the Free
.\" Software Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA 02111,
.\" USA.
.\"
.\" Japanese Version Copyright (c) 2004 Yuichi SATO
.\"         all rights reserved.
.\" Translated 2004-10-09, Yuichi SATO <ysato444@yahoo.co.jp>
.\" Modified 2007-06-05, Akihiro MOTOKI <amotoki@dd.iij4u.or.jp>, LDP v2.51
.\"
.\"WORD:	autonegotiation	自動設定
.\"WORD:	interrupt moderation	割り込み調停
.\"
.TH SK98LIN 4 2007-11-25 "Linux" "Linux Programmer's Manual"
.\"O .SH NAME
.SH 名前
.\"O sk98lin \- Marvell/SysKonnect Gigabit Ethernet driver v6.21
sk98lin \- Marvell/SysKonnect ギガビットイーサネットドライバ v6.21
.\"O .SH SYNOPSIS
.SH 書式
.B insmod sk98lin.o
.RB [ Speed_A=\c
.IR i,j,... ]
.RB [ Speed_B=\c
.IR i,j,... ]
.RB [ AutoNeg_A=\c
.IR i,j,... ]
.RB [ AutoNeg_B=\c
.IR i,j,... ]
.RB [ DupCap_A=\c
.IR i,j,... ]
.RB [ DupCap_B=\c
.IR i,j,... ]
.RB [ FlowCtrl_A=\c
.IR i,j,... ]
.RB [ FlowCtrl_B=\c
.IR i,j,... ]
.RB [ Role_A=\c
.IR i,j,... ]
.RB [ Role_B=\c
.IR i,j,... ]
.RB [ ConType=\c
.IR i,j,... ]
.RB [ Moderation=\c
.IR i,j,... ]
.RB [ IntsPerSec=\c
.IR i,j,... ]
.RB [ PrefPort=\c
.IR i,j,... ]
.RB [ RlmtMode=\c
.IR i,j,... ]
.\"O .SH DESCRIPTION
.SH 説明
.ad l
.hy 0
.\"O .B sk98lin
.\"O is the Gigabit Ethernet driver for Marvell and SysKonnect network adapter cards.
.\"O It supports SysKonnect SK-98xx/SK-95xx compliant Gigabit Ethernet Adapter and
.\"O any Yukon compliant chipset.
.B sk98lin
は Marvell と SysKonnect のネットワークアダプタカードの
ギガビットイーサネットドライバである。
これは SysKonnect SK-98xx/SK-95xx 互換のギガビットイーサネットアダプタと
Yukon 互換のチップセットをサポートしている。

.\"O When loading the driver using insmod, parameters for the network adapter cards
.\"O might be stated as a sequence of comma separated commands.
.\"O If for instance two network adapters are installed and AutoNegotiation on
.\"O Port A of the first adapter should be ON,
.\"O but on the Port A of the second adapter switched OFF, one must enter:
insmod を使ってドライバをロードする際、
ネットワークアダプタカードのパラメータを
コンマで区切られたコマンドの列として指定することができる。
2 つのネットワークアダプタが取り付けられている時に、
例えば、1 つ目のアダプタのポート A の自動ネゴシエーションは ON にするが、
2 つ目のアダプタのポート A は OFF にする場合は、
以下のように入力すればよい:

   insmod sk98lin.o AutoNeg_A=On,Off

.\"O After
.\"O .B sk98lin
.\"O is bound to one or more adapter cards and the
.\"O .I /proc
.\"O file system is mounted on your system, a dedicated statistics file
.\"O will be created in folder
.\"O .I /proc/net/sk98lin
.\"O for all ports of the installed network adapter cards.
.\"O Those files are named
.\"O .I eth[x]
.\"O whereas
.\"O .I x
.\"O is the number of the interface that has been assigned to a
.\"O dedicated port by the system.
.B sk98lin
が 1 つ以上のアダプタカードに関連づけられていて、
かつ
.I /proc
ファイルシステムがシステムにマウントされている場合、
取り付けられているネットワークアダプタカードの全てのポートについて、
(ポート単位に) 専用の統計ファイルがフォルダ
.I /proc/net/sk98lin
に作られる。
これらのファイルは
.I eth[x]
という名前であり、
.I x
はインタフェースの番号である。
この番号はシステムによってポート毎に割り当てられたものである。

.\"O If loading is finished, any desired IP address can be
.\"O assigned to the respective
.\"O .I eth[x]
.\"O interface using the
.\"O .BR ifconfig (8)
.\"O command.
.\"O This causes the adapter to connect to the Ethernet and to display a status
.\"O message on the console saying "ethx: network connection up using port y"
.\"O followed by the configured or detected connection parameters.
ロードが完了すると、
.BR ifconfig (8)
コマンドを使って、各
.I eth[x]
インタフェースに希望する IP アドレスを割り当てることができる。
これによりアダプタがイーサネットに接続され、
コンソールに状態メッセージが表示される。
このメッセージでは、
"ethx: network connection up using port y" の後に
設定されたり検出された接続パラメータが表示される。

.\"O The
.\"O .B sk98lin
.\"O also supports large frames (also called jumbo frames).
.\"O Using jumbo frames can improve throughput tremendously when
.\"O transferring large amounts of data.
.\"O To enable large frames, the MTU (maximum transfer unit) size
.\"O for an interface is to be set to a high value.
.\"O The default MTU size is 1500 and can be changed up to 9000 (bytes).
.\"O Setting the MTU size can be done when assigning the IP address
.\"O to the interface or later by using the
.\"O .BR ifconfig (8)
.\"O command with the mtu parameter.
.\"O If for instance eth0 needs an IP
.\"O address and a large frame MTU size,
.\"O the following two commands might be used:
.B sk98lin
はラージフレーム (ジャンボフレームとも呼ばれる) もサポートする。
ジャンボフレームを使うと、大量のデータを転送する際に、
スループットを大幅に向上させることができる。
ラージフレームを有効にするには、
インタフェースの MTU (maximum transfer unit, 最大転送単位) サイズを
大きな値に設定すればよい。
デフォルトの MTU サイズは 1500 であり、
最大で 9000 (バイト) まで設定することができる。
MTU サイズを設定するのは、
インタフェースに IP アドレスを割り当てるときにもできるし、後から
.BR ifconfig (8)
コマンドに mtu 引き数を指定することで設定することもできる。
例えば、eth0 に IP アドレスとラージフレーム MTU サイズを
割り当てたい場合、以下の 2 つのコマンドを実行すればよい:

    ifconfig eth0 10.1.1.1
    ifconfig eth0 mtu 9000

.\"O Those two commands might even be combined into one:
これらの 2 つのコマンドは 1 つにまとめることもできる:

    ifconfig eth0 10.1.1.1 mtu 9000

.\"O Note that large frames can only be used if permitted by
.\"O your network infrastructure.
.\"O This means, that any switch being used in your Ethernet must
.\"O also support large frames.
.\"O Quite some switches support large frames,
.\"O but need to be configured to do so.
.\"O Most of the times, their default setting is to support only
.\"O standard frames with an MTU size of 1500 (bytes).
.\"O In addition to the switches inside the network,
.\"O all network adapters that are to be used must also be
.\"O enabled regarding jumbo frames.
.\"O If an adapter is not set to receive large frames it will simply drop them.
ラージフレームを使用できるのは、ネットワーク環境全体で
ラージフレームの使用が認められている場合のみである点に注意すること。
つまり、イーサネットで使われている全てのスイッチでも
ラージフレームがサポートされていなければならない。
多くのスイッチがラージフレームをサポートしてはいるが、
設定を行う必要がある。
多くの場合、デフォルトの設定では標準フレーム
(1500 バイトの MTU サイズ) だけしかサポートしない。
ネットワーク内のスイッチに加え、
使用される全てのネットワークアダプタでも
ジャンボフレームが有効になっていなければならない。
アダプタがラージフレームを受け取るように設定されていない場合、
アダプタはそのフレームを単純に捨ててしまう。

.\"O Switching back to the standard Ethernet frame size can be done by using the
.\"O .BR ifconfig (8)
.\"O command again:
標準のイーサネットフレームサイズに戻すのは、再び
.BR ifconfig (8)
コマンドを使えばよい:

    ifconfig eth0 mtu 1500

.\"O The Marvell/SysKonnect Gigabit Ethernet driver for Linux is able to
.\"O support VLAN and Link Aggregation according to
.\"O IEEE standards 802.1, 802.1q, and 802.3ad.
.\"O Those features are only available after installation of open source modules
.\"O which can be found on the Internet:
Linux の Marvell/SysKonnect ギガビットイーサネットドライバは、
IEEE 規格 802.1, 802.1q, 802.3ad に準拠する
VLAN と Link Aggregation に対応している。
これらの機能は、インターネットにあるオープンソースモジュールを
インストールした後でのみ利用可能である:

.IR VLAN \c
: http://www.candelatech.com/~greear/vlan.html
.br
.I Link
.IR Aggregation \c
: http://www.st.rim.or.jp/~yumo

.br
.\"O Note that Marvell/SysKonnect does not offer any support for these
.\"O open source modules and does not take the responsibility for any
.\"O kind of failures or problems arising when using these modules.
Marvell/SysKonnect は、これらのオープンソースモジュールに対するサポートは
行っておらず、これらを使った場合に生じるいかなる失敗や問題についても
責任を負わない点に注意すること。
.\"O .SS Parameters
.SS 引き数
.TP
.BI Speed_A= i,j,...
.\"O This parameter is used to set the speed capabilities of port A of an
.\"O adapter card.
.\"O It is only valid for Yukon copper adapters.
.\"O Possible values are:
このパラメータはアダプタカードのポート A がサポートするリンク速度を
設定するのに使われる。これは Yukon copper アダプタでのみ有効である。
使用可能な値は以下の通り:
.\"O .IR 10 ,
.\"O .IR 100 ,
.\"O .I 1000
.\"O or
.\"O .I Auto
.\"O whereas
.\"O .I Auto
.\"O is the default.
.\"O Usually, the speed is negotiated between the two ports
.\"O during link establishment.
.\"O If this fails, a port can be forced to a specific setting with this parameter.
.IR 10 ,
.IR 100 ,
.IR 1000 ,
.IR Auto 。
デフォルトは
.I Auto
である。
通常、リンク速度はリンクの確立時に 2 つのポートの間で自動設定される。
これに失敗した場合、ポートはこの引き数で指定された設定になる。
.TP
.BI Speed_B= i,j,...
.\"O This parameter is used to set the speed capabilities of port B of
.\"O an adapter card.
.\"O It is only valid for Yukon copper adapters.
.\"O Possible values are:
このパラメータはアダプタカードのポート B がサポートするリンク速度を
設定するのに使われる。これは Yukon copper アダプタでのみ有効である。
使用可能な値は以下の通り:
.\"O .IR 10 ,
.\"O .IR 100 ,
.\"O .I 1000
.\"O or
.\"O .I Auto
.\"O whereas
.\"O .I Auto
.\"O is the default.
.\"O Usually, the speed is negotiated between the two ports during link
.\"O establishment.
.\"O If this fails, a port can be forced to a specific setting with this parameter.
.IR 10 ,
.IR 100 ,
.IR 1000 ,
.IR Auto 。
デフォルトは
.I Auto
である。
通常、リンク速度はリンクの確立時に 2 つのポートの間で自動設定される。
これに失敗した場合、ポートはこの引き数で指定された設定になる。
.TP
.BI AutoNeg_A= i,j,...
.\"O Enables or disables the use of autonegotiation of port A of an adapter card.
.\"O Possible values are:
アダプタカードのポート A の自動設定 (autonegotiation) の使用を
有効または無効にする。使用可能な値は以下の通り:
.\"O .IR On ,
.\"O .I Off
.\"O or
.\"O .I Sense
.\"O whereas
.\"O .I On
.\"O is the default.
.\"O The
.\"O .I Sense
.\"O mode automatically detects whether the link partner supports
.\"O auto-negotiation or not.
.IR On ,
.IR Off ,
.IR Sense 。
デフォルトは
.I On
である。
.I Sense
モードはリンクパートナが自動設定をサポートしているか否かを
自動的に検知する。
.TP
.BI AutoNeg_B= i,j,...
.\"O Enables or disables the use of autonegotiation of port B of an adapter card.
.\"O Possible values are:
アダプタカードのポート B の自動設定 (autonegotiation) の使用を
有効または無効にする。使用可能な値は以下の通り:
.\"O .IR On ,
.\"O .I Off
.\"O or
.\"O .I Sense
.\"O whereas
.\"O .I On
.\"O is the default.
.\"O The
.\"O .I Sense
.\"O mode automatically detects whether the link partner supports
.\"O auto-negotiation or not.
.IR On ,
.IR Off ,
.IR Sense 。
デフォルトは
.I On
である。
.I Sense
モードはリンクパートナが自動設定をサポートしているか否かを
自動的に検知する。
.TP
.BI DupCap_A= i,j,...
.\"O This parameter indicates the duplex mode to be used for port A
.\"O of an adapter card.
.\"O Possible values are:
この引き数はアダプタカードのポート A で使う二重通信 (duplex) モードを示す。
使用可能な値は以下の通り:
.\"O .IR Half ,
.\"O .I Full
.\"O or
.\"O .I Both
.\"O whereas
.\"O .I Both
.\"O is the default.
.\"O This parameter is only relevant if AutoNeg_A of port A is not set to
.\"O .IR Sense .
.IR Half ,
.IR Full ,
.IR Both 。
デフォルトは
.I Both
である。
この引き数はポート A の AutoNeg_A が
.I Sense
に設定されていない場合にのみ有効である。
.\"O If AutoNeg_A is set to
.\"O .I On
.\"O , all three values of DupCap_A (
.\"O .IR Half ,
.\"O .I Full
.\"O or
.\"O .IR Both )
.\"O might be stated.
.\"O If AutoNeg_A is set to
.\"O .IR Off ,
.\"O only DupCap_A values
.\"O .I Full
.\"O and
.\"O .I Half
.\"O are allowed.
.\"O This DupCap_A parameter is useful if your link partner does not
.\"O support all possible duplex combinations.
AutoNeg_A が
.I On
の場合、DupCap_A の 3 つの値
.RI ( Half ,
.IR Full ,
.IR Both )
のうちどれでも指定することができる。
AutoNeg_A が
.I Off
の場合、DupCap_A の値
.I Full
と
.I Half
のみを指定することができる。
この DupCap_A 引き数は、リンクパートナが全ての二重通信の組み合わせを
サポートしていない場合に役に立つ。
.TP
.BI DupCap_B= i,j,...
.\"O This parameter indicates the duplex mode to be used for port B
.\"O of an adapter card.
.\"O Possible values are:
この引き数はアダプタカードのポート B で使う二重通信モードを示す。
使用可能な値は以下の通り:
.\"O .IR Half ,
.\"O .I Full
.\"O or
.\"O .I Both
.\"O whereas
.\"O .I Both
.\"O is the default.
.\"O This parameter is only relevant if AutoNeg_B of port B is not set to
.\"O .IR Sense .
.IR Half ,
.IR Full ,
.IR Both 。
デフォルトは
.I Both
である。
この引き数はポート B の AutoNeg_B が
.I Sense
に設定されていない場合にのみ有効である。
.\"O If AutoNeg_B is set to
.\"O .IR On ,
.\"O all three values of DupCap_B (
.\"O .IR Half ,
.\"O .I Full
.\"O or
.\"O .IR Both )
.\"O might be stated.
.\"O If AutoNeg_B is set to
.\"O .IR Off ,
.\"O only DupCap_B values
.\"O .I Full
.\"O and
.\"O .I Half
.\"O are allowed.
.\"O This DupCap_B parameter is useful if your link partner does not
.\"O support all possible duplex combinations.
AutoNeg_B が
.I On
の場合、DupCap_B の 3 つの値
.RI ( Half ,
.IR Full ,
.IR Both )
のうちどれでも指定することができる。
AutoNeg_B が
.I Off
の場合、DupCap_B の値
.I Full
と
.I Half
のみを指定することができる。
この DupCap_B 引き数は、リンクパートナが全ての二重通信の組み合わせを
サポートしていない場合に役に立つ。
.TP
.BI FlowCtrl_A= i,j,...
.\"O This parameter can be used to set the flow control capabilities the
.\"O port reports during auto-negotiation.
.\"O Possible values are:
この引き数は自動設定時にポートが対向に伝える
フロー制御機能を設定する。
使用可能な値は以下の通り:
.\"O .IR Sym ,
.\"O .IR SymOrRem ,
.\"O .I LocSend
.\"O or
.\"O .I None
.\"O whereas
.\"O .I SymOrRem
.\"O is the default.
.\"O The different modes have the following meaning:
.IR Sym ,
.IR SymOrRem ,
.IR LocSend ,
.IR None 。
デフォルトは
.I SymOrRem
である。
それぞれのモードには以下のような意味がある:

.br
.I Sym
= Symmetric
.\"O  both link partners are allowed to send PAUSE frames
 リンクパートナの双方が PAUSE フレームを送ることができる。
.br
.I SymOrRem
= SymmetricOrRemote
.\"O  both or only remote partner are allowed to send PAUSE frames
 リンクパートナの双方またはリモートパートナのみが
PAUSE フレームを送ることができる。
.br
.I LocSend
= LocalSend
.\"O  only local link partner is allowed to send PAUSE frames
 ローカルリンクパートナのみが PAUSE フレームを送ることができる。
.br
.I None
= None
.\"O  no link partner is allowed to send PAUSE frames
 リンクパートナのどちらも PAUSE フレームを送ることはできない。

.\"O Note that this parameter is ignored if AutoNeg_A is set to
.\"O .IR Off .
このパラメータは AutoNeg_A が
.I Off
の場合には無視される点に注意すること。
.TP
.BI FlowCtrl_B= i,j,...
.\"O This parameter can be used to set the flow control capabilities the
.\"O port reports during auto-negotiation.
.\"O Possible values are:
この引き数は自動設定時にポートが対向に伝える
フロー制御機能を設定する。
使用可能な値は以下の通り:
.\"O .IR Sym ,
.\"O .IR SymOrRem ,
.\"O .I LocSend
.\"O or
.\"O .I None
.\"O whereas
.\"O .I SymOrRem
.\"O is the default.
.\"O The different modes have the following meaning:
.IR Sym ,
.IR SymOrRem ,
.IR LocSend ,
.IR None 。
デフォルトは
.I SymOrRem
である。
それぞれのモードには以下のような意味がある:

.I Sym
= Symmetric
.\"O  both link partners are allowed to send PAUSE frames
 リンクパートナの双方が PAUSE フレームを送ることができる。
.br
.I SymOrRem
= SymmetricOrRemote
.\"O  both or only remote partner are allowed to send PAUSE frames
 リンクパートナの双方またはリモートパートナのみが
PAUSE フレームを送ることができる。
.br
.I LocSend
= LocalSend
.\"O  only local link partner is allowed to send PAUSE frames
 ローカルリンクパートナのみが PAUSE フレームを送ることができる。
.br
.I None
= None
.\"O  no link partner is allowed to send PAUSE frames
 リンクパートナのどちらも PAUSE フレームを送ることはできない。
.br

.\"O Note that this parameter is ignored if AutoNeg_B is set to
.\"O .IR Off .
このパラメータは AutoNeg_B が
.I Off
の場合には無視される点に注意すること。
.TP
.BI Role_A= i,j,...
.\"O This parameter is only valid for 1000Base-T adapter cards.
.\"O For two 1000Base-T ports to communicate,
.\"O one must take the role of the master (providing timing information),
.\"O while the other must be the slave.
.\"O Possible values are:
この引き数は 1000Base-T アダプタカードでのみ有効である。
2 つの 1000Base-T ポートが通信する場合、
片方が (タイミング情報を提供する) マスタの役割をしなければならず、
もう片方がスレーブにならなければならない。
使用可能な値は以下の通り:
.\"O .IR Auto ,
.\"O .I Master
.\"O or
.\"O .I Slave
.\"O whereas
.\"O .I Auto
.\"O is the default.
.\"O Usually, the role of a port is negotiated between two ports during
.\"O link establishment, but if that fails the port A of an adapter card
.\"O can be forced to a specific setting with this parameter.
.IR Auto ,
.IR Master ,
.IR Slave 。
デフォルトは
.I Auto
である。
通常、ポートの役割は 2 つのポートでリンクを確立するときに自動設定される。
自動設定に失敗した場合、
アダプタカードのポート A はこの引き数で指定された設定になる。
.TP
.BI Role_B= i,j,...
.\"O This parameter is only valid for 1000Base-T adapter cards.
.\"O For two 1000Base-T ports to communicate, one must take
.\"O the role of the master (providing timing information),
.\"O while the other must be the slave.
.\"O Possible values are:
この引き数は 1000Base-T アダプタカードでのみ有効である。
2 つの 1000Base-T ポートが通信する場合、
片方が (タイミング情報を提供する) マスタの役割をしなければならず、
もう片方がスレーブにならなければならない。
使用可能な値は以下の通り:
.\"O .IR Auto ,
.\"O .I Master
.\"O or
.\"O .I Slave
.\"O whereas
.\"O .I Auto
.\"O is the default.
.\"O Usually, the role of a port is negotiated between
.\"O two ports during link establishment, but if that fails
.\"O the port B of an adapter card can be forced to a
.\"O specific setting with this parameter.
.IR Auto ,
.IR Master ,
.IR Slave 。
デフォルトは
.I Auto
である。
通常、ポートの役割は 2 つのポートでリンクを確立するときに自動設定される。
自動設定に失敗した場合、
アダプタカードのポート B はこの引き数で指定された設定になる。
.TP
.BI ConType= i,j,...
.\"O This parameter is a combination of all five per-port parameters
.\"O within one single parameter.
.\"O This simplifies the configuration of both ports of an adapter card.
.\"O The different values of this variable reflect the
.\"O most meaningful combinations of port parameters.
.\"O Possible values and their corresponding combination of per-port parameters:
この引き数は、ポート毎に指定する、全部で 5 個の引き数の組み合わせを、
1 つの引き数にしたものである。
これによりアダプタカードの 2 つのポートの設定を簡略化できる。
この変数のそれぞれの値は、
ポート引き数の最も意味のある組み合わせを反映したものである。
使用可能な値とそれに対応するポート毎のパラメータの組み合わせは、
以下の通り:

.nf
ConType | DupCap   AutoNeg   FlowCtrl   Role   Speed
--------+-------------------------------------------
\fIAuto\fP    |  Both      On      SymOrRem   Auto   Auto
.br
\fI100FD\fP   |  Full      Off       None     Auto   100
.br
\fI100HD\fP   |  Half      Off       None     Auto   100
.br
\fI10FD\fP    |  Full      Off       None     Auto   10
.br
\fI10HD\fP    |  Half      Off       None     Auto   10

.fi
.\"O Stating any other port parameter together with this
.\"O .I ConType
.\"O parameter will result in a merged configuration of those settings.
.\"O This is due to
.\"O the fact, that the per-port parameters (e.g.
.\"O .IR Speed_A )
.\"O have a higher priority than the combined variable
.\"O .IR ConType .
その他のポート引き数を
.I ConType
引き数と組み合わせて指定すると、それらの設定を結合した設定となる。
これは、ポート毎の引き数 (例えば
.IR Speed_A )
の方が組み合わせ変数
.I ConType
より優先順位が高いためである。
.TP
.BI Moderation= i,j,...
.\"O Interrupt moderation is employed to limit the maximum number of interrupts
.\"O the driver has to serve.
.\"O That is, one or more interrupts (which indicate any transmit or
.\"O receive packet to be processed) are queued until the driver processes them.
.\"O When queued interrupts are to be served, is determined by the
.\"O .I IntsPerSec
.\"O parameter, which is explained later below.
.\"O Possible moderation modes are:
割り込み調停 (interrupt moderation) は、ドライバが処理を開始しなければ
ならない割り込み回数の最大値を設定するために使用される。
つまり、ドライバが処理を行うまで、1回以上の割り込み
(送信または受信パケットが処理されること) がキューに入れられる。
キューに入れられた割り込みがいつ処理されるかは、
以下で説明する
.I IntsPerSec
引き数で決定される。
使用可能な調停モードは以下の通り:
.\"O .IR None ,
.\"O .I Static
.\"O or
.\"O .I Dynamic
.\"O whereas
.\"O .I None
.\"O is the default.
.\"O The different modes have the following meaning:
.IR None ,
.IR Static ,
.IR Dynamic 。
デフォルトは
.I None
である。
それぞれのモードは以下の意味を持つ:

.I None
.\"O No interrupt moderation is applied on the adapter card.
.\"O Therefore, each transmit or receive interrupt is served immediately
.\"O as soon as it appears on the interrupt line of the adapter card.
アダプタカードに対して割り込み調停を適用しない。
よって送信または受信割り込みは、
アダプタカードの割り込み線に現れると直ぐに処理される。

.br
.I Static
.\"O Interrupt moderation is applied on the adapter card.
.\"O All transmit and receive interrupts are queued until
.\"O a complete moderation interval ends.
.\"O If such a moderation interval ends, all queued interrupts
.\"O are processed in one big bunch without any delay.
.\"O The term
.\"O .I Static
.\"O reflects the fact, that interrupt moderation is always enabled,
.\"O regardless how much network load is currently passing via a
.\"O particular interface.
.\"O In addition, the duration of the moderation interval has a fixed
.\"O length that never changes while the driver is operational.
アダプタカードに対して割り込み調停が適用される。
全ての送信または受信割り込みは、調停間隔が完全に終わるまで
キューに入れられる。
この調停間隔が終わると、キューに入れられた全ての割り込みは、
1個の大きな塊として遅延なく処理される。
.I Static
という用語は、あるインタフェースに現在どれだけの
ネットワーク負荷がかかっているかに関わらず、
割り込み調停が常に有効になることを表している。
さらに、調停間隔の時間は固定で、ドライバが動作している間は変化しない。

.br
.I Dynamic
.\"O Interrupt moderation might be applied on the adapter card,
.\"O depending on the load of the system.
.\"O If the driver detects that the system load is too high,
.\"O the driver tries to shield the system against too much network
.\"O load by enabling interrupt moderation.
.\"O If\(emat a later time\(emthe CPU utilization decreases
.\"O again (or if the network load is negligible) the interrupt
.\"O moderation will automatically be disabled.
システムの負荷に応じて、アダプタカードに対して割り込み調停が適用される。
ドライバがシステムの負荷が高すぎると検出した場合、
割り込み調停を有効にすることにより、
過剰なネットワーク負荷からシステムを保護しようとする。
\(emその後に\(emCPU 利用率が再び下がった場合
(またはネットワーク負荷が極わずかになった場合)、
割り込み調停は自動的に無効にされる。

.\"O Interrupt moderation should be used when the driver has to
.\"O handle one or more interfaces with a high network load,
.\"O which\(emas a consequence\(emleads also to a high CPU utilization.
.\"O When moderation is applied in such high network load situations,
.\"O CPU load might be reduced by 20-30% on slow computers.
ドライバが扱わなければならないインタフェースのうち
ネットワーク負荷が高いものが 1 つ以上あり、
\(emその結果\(emCPU 利用率が高くなっている場合、
割り込み調停を使うべきである。
ネットワーク負荷が高い状況で調停が適用されると、
遅いコンピュータでは CPU 負荷が 20-30% 削減されるだろう。

.\"O Note that the drawback of using interrupt moderation is an increase of
.\"O the round-trip-time (RTT), due to the queuing and serving of
.\"O interrupts at dedicated moderation times.
割り込み調停を使うことの欠点として、
往復遅延時間 (round-trip-time, RTT) の増加がある点に注意すること。
これは、割り込みがキューに入れられ、まとめて処理されるためである。
.TP
.BI IntsPerSec= i,j,...
.\"O This parameter determines the length of any interrupt moderation interval.
この引き数は割り込み調停の間隔を決定する。
.\"O Assuming that static interrupt moderation is to be used, an
.\"O .I IntsPerSec
.\"O parameter value of 2000 will lead to an interrupt moderation interval of
.\"O 500 microseconds.
.\"O Possible values for this parameter are in the range of
.\"O 30...40000 (interrupts per second).
.\"O The default value is 2000.
静的 (static) 割り込み調停が使われている場合、
.I IntsPerSec
引き数の値が 2000 であれば、割り込み調停の間隔は 500 ミリ秒になる。
この引き数に設定可能な値は 30...40000 の範囲で、
これは 1 秒毎の割り込み回数である。
デフォルト値は 2000 である。

.\"O This parameter is only used, if either static or dynamic interrupt moderation
.\"O is enabled on a network adapter card.
.\"O This parameter is ignored if no moderation is applied.
この引き数は静的 (static) または動的 (dynamic) 割り込み調停が
有効になっているときにのみ使用される。
この引き数は割り込み調停が適用されていない場合には無視される。

.\"O Note that the duration of the moderation interval is to be chosen with care.
.\"O At first glance, selecting a very long duration (e.g., only 100 interrupts per
.\"O second) seems to be meaningful, but the increase of packet-processing delay
.\"O is tremendous.
.\"O On the other hand, selecting a very short moderation time might
.\"O compensate the use of any moderation being applied.
調停間隔の期間は注意して選ぶこと。
一見したところでは、とても長い期間 (例えば 1 秒間に 100 回だけの割り込み) を
選ぶことに意味があるように見えるかもしれないが、そうすると
パケット処理の遅延が激しく増加する。
一方で、とても短い調停時間を選ぶと、割り込み調停を使う意味がなくなってしまう。
.TP
.BI PrefPort= i,j,...
.\"O This parameter is used to force the preferred port to
.\"O A or B (on dual-port network adapters).
.\"O The preferred port is the one that is used if both ports A and B are
.\"O detected as fully functional.
.\"O Possible values are:
この引き数は (2 ポートのネットワークアダプタで)
優先 (preferred) ポートを A または B のどちらにするかを指定するのに使われる。
優先ポートとは、A と B の両方のポートが完全に機能していると検知された場合に
使用されるポートである。
使用可能な値は以下の通り:
.\"O .I A
.\"O or
.\"O .I B
.\"O whereas
.\"O .I A
.\"O is the default.
.I A
または
.IR B 。
デフォルトは
.I A
である。
.TP
.BI RlmtMode= i,j,...
.\"O RLMT monitors the status of the port.
.\"O If the link of the active port fails,
.\"O RLMT switches immediately to the standby link.
.\"O The virtual link is maintained as long as at least one "physical" link is up.
.\"O This parameters states how RLMT should monitor both ports.
.\"O Possible values are:
RLMT はポートの状態を監視する。
アクティブなポートのリンクが落ちた場合、
RLMT は即時に待機しているリンクに切り替える。
少なくとも 1 つの「物理的」リンクが起動するまでは、仮想リンクが維持される。
この引き数は RLMT が両方のポートをどのように監視するかを決める。
使用可能な値は以下の通り:
.\"O .IR CheckLinkState ,
.\"O .IR CheckLocalPort ,
.\"O .I CheckSeg
.\"O or
.\"O .I DualNet
.\"O whereas
.\"O .I CheckLinkState
.\"O is the default.
.\"O The different modes have the following meaning:
.IR CheckLinkState ,
.IR CheckLocalPort ,
.IR CheckSeg ,
.IR DualNet 。
デフォルトは
.I CheckLinkState
である。
各モードは以下のような意味を持つ。

.I CheckLinkState
.\"O Check link state only: RLMT uses the link state reported by the adapter
.\"O hardware for each individual port to determine whether a port can be used
.\"O for all network traffic or not.
リンク状態のチェックのみ:
RLMT は、各ポートについてアダプタハードウェアが報告するリンク状態を使い、
そのポートが全てのネットワークトラフィックを送受信するのに使用可能かを
決定する。

.br
.I CheckLocalPort
.\"O In this mode, RLMT monitors the network path between the two
.\"O ports of an adapter by regularly exchanging packets between them.
.\"O This mode requires a network configuration in which the
.\"O two ports are able to "see" each other (i.e., there
.\"O must not be any router between the ports).
このモードでは、RLMT はアダプタカードの 2 つのポートの間で
定期的にパケットを交換することにより、
2 つのポートの間のネットワーク経路を監視する。
このモードでは 2 つのポートが互いに「見える」ような
ネットワーク設定が必要である
(つまり、ポート間にルータがあってはならない)。

.br
.I CheckSeg
.\"O Check local port and segmentation:
.\"O This mode supports the same functions as the CheckLocalPort
.\"O mode and additionally checks network segmentation between the ports.
.\"O Therefore, this mode is only to be used if Gigabit Ethernet
.\"O switches are installed on the network that have been
.\"O configured to use the Spanning Tree protocol.
ローカルポートとセグメントをチェックする。
このモードは CheckLocalPort モードと同じ機能を提供し、
更にポート間のネットワークセグメントをチェックする。
よって、このモードはネットワーク上に
スパニングツリープロトコル (Spanning Tree protocol) を
使うように設定されたギガビットイーサネットスイッチが
設置されている場合にのみ使用できる。

.br
.I DualNet
.\"O In this mode, ports A and B are used as separate devices.
.\"O If you have a dual port adapter, port A will be configured as
.\"O .IR eth[x]
.\"O and port B as
.\"O .I eth[x+1]
.\"O Both ports can be used independently with distinct IP addresses.
.\"O The preferred port setting is not used.
.\"O RLMT is turned off.
このモードでは、ポート A と B が別々のデバイスとして使用される。
2 ポートのアダプタを持っている場合、ポート A を
.I eth[x]
に、ポート B を
.I eth[x+1]
に設定することができる。
2 つのポートは別々の IP アドレスを付けて独立に使用することができる。
優先ポートの設定は使用されない。
RLMT は無効にされる。

.\"O Note that RLMT modes
.\"O .I CheckLocalPort
.\"O and
.\"O .I CheckLinkState
.\"O are designed to operate in configurations where a
.\"O network path between the ports on one adapter exists.
.\"O Moreover, they are not designed to work where adapters are
.\"O connected back-to-back.
RLMT モード
.I CheckLocalPort
と
.I CheckLinkState
は、1 つのアダプタ上のポート間でネットワーク経路があるような設定で
動作するように設計されている。
さらに、このモードはアダプタ同士が直結 (back-to-back) で
接続されている状態で動作するようには設計されていない。
.\"O .SH FILES
.SH ファイル
.TP
.I /proc/net/sk98lin/eth[x]
.br
.\"O The statistics file of a particular interface of an adapter card.
.\"O It contains generic information about the adapter card plus a detailed
.\"O summary of all transmit and receive counters.
アダプタカードの特定のインタフェースの統計ファイル。
このファイルには、アダプタカードの一般的な情報と、
全ての送信・受信カウンタの詳細な一覧が含まれる。
.TP
.I /usr/src/linux/Documentation/networking/sk98lin.txt
.br
.\"O This is the
.\"O .I README
.\"O file of the
.\"O .I sk98lin
.\"O driver.
.\"O It contains a detailed installation HOWTO and describes all parameters
.\"O of the driver.
.\"O It denotes also common problems and provides the solution to them.
.I sk98lin
ドライバの
.I README
ファイルである。
これには詳細なインストール HOWTO が含まれており、
ドライバの全ての引き数が記述されている。
また一般的な問題とその解決法についても書かれている。
.\"O .SH BUGS
.SH バグ
.\"O Report any bugs to linux@syskonnect.de
バグは linux@syskonnect.de に報告してほしい。
.\"O .\" .SH AUTHORS
.\" .SH 著者
.\" Ralph Roesler \(em rroesler@syskonnect.de
.\" .br
.\" Mirko Lindner \(em mlindner@syskonnect.de
.\"O .SH "SEE ALSO"
.SH 関連項目
.BR insmod (8),
.BR ifconfig (8),
.BR modprobe (8)
