.\" t
.\" roff.\" Copyright
.\" This manpage is Copyright (C) 1996 Michael Haardt.
.\" Updates Nov 1998, Andries Brouwer
.\"
.\" Permission is granted to make and distribute verbatim copies of this
.\" manual provided the copyright notice and this permission notice are
.\" preserved on all copies.
.\"
.\" Permission is granted to copy and distribute modified versions of this
.\" manual under the conditions for verbatim copying, provided that the
.\" entire resulting derived work is distributed under the terms of a
.\" permission notice identical to this one.
.\"
.\" Since the Linux kernel and libraries are constantly changing, this
.\" manual page may be incorrect or out-of-date.  The author(s) assume no
.\" responsibility for errors or omissions, or for damages resulting from
.\" the use of the information contained herein.  The author(s) may not
.\" have taken the same level of care in the production of this manual,
.\" which is licensed free of charge, as they might when working
.\" professionally.
.\"
.\" Formatted or processed versions of this manual, if unaccompanied by
.\" the source, must acknowledge the copyright and authors of this work.
.\"
.\" Japanese Version Copyright (c) 1996,1997,1998
.\"         ISHIKAWA Mutsumi,TAKAHASHI Mutsuji
.\"         all rights reserved.
.\" Translated Tue Feb 14 00:47:44 JST 1997
.\"         by ISHIKAWA Mutsumi <ishikawa@linux.or.jp.jp>
.\"            and TAKAHASHI Mutsuji <muz@ilp.iijnet.or.jp>
.\"
.\" Japanese Version Last Modified Sun Jan 11 03:55:54 1998
.\"	by ISHIKAWA Mutsumi <ishikawa@linux.or.jp>
.\" Updated & Modefied Sat Feb 27 1999 by Shouichi Saito
.\"
.\" WORD:	serial mouse		シリアルマウス
.\" WORD:	interface		インターフェース
.\" WORD:	RS232/V24		RS232/V24
.\" WORD:	dialout line		ダイアルアウトライン
.\" WORD:	pinout			ピン配列
.\" WORD:	Microsoft-compatible	マイクロソフト互換
.\"
.TH MOUSE 4 1996-02-10 "Linux" "Linux Programmer's Manual"
.\"O .SH NAME
.\"O mouse \- serial mouse interface
.SH 名前
mouse \- シリアルマウスインターフェース
.\"O .SH CONFIGURATION
.SH 設定
.\"O Serial mice are connected to a serial RS232/V24 dialout line, see
.\"O .BR ttyS (4)
.\"O for a description.
シリアルマウスは RS232/V24 ダイアルアウトラインに接続される。
RS232/V24 ダイアルアウトライン については
.BR ttyS (4)
を参照のこと。
.\"O .SH DESCRIPTION
.SH 説明
.\"O .SS Introduction
.SS 概説
.\"O The pinout of the usual 9 pin plug as used for serial mice is:
シリアルマウスで使われる普通の 9 ピンプラグのピン配列は以下である:
.TS
center;
r c l.
pin	name	used for
2	RX	Data
3	TX	\-12 V, Imax = 10 mA
4	DTR	+12 V, Imax = 10 mA
7	RTS	+12 V, Imax = 10 mA
5	GND	Ground
.TE

.\"O This is the specification, in fact 9 V suffices with most mice.
これは仕様書であり、実際はほとんどのマウスでは 9 V で十分である。
.PP
.\"O The mouse driver can recognize a mouse by dropping RTS to low and raising
.\"O it again.
.\"O About 14 ms later the mouse will send 0x4D (\(aqM\(aq) on the data line.
.\"O After a further 63 ms, a Microsoft-compatible 3-button mouse will send
.\"O 0x33 (\(aq3\(aq).
マウスドライバは RTS をロー(low)に落し、再び上げることによって、マウスを認識でき
る。およそ 14 ms 後、マウスはデータライン上に 0x4D (\(aqM\(aq) を送るだろう。さら
に 63ms あと、マイクロソフト互換 3ボタンマウスは 0x33 (\(aq3\(aq) を送る。
.PP
.\"O The relative mouse movement is sent as \fIdx\fP (positive means right)
.\"O and \fIdy\fP (positive means down).
.\"O Various mice can operate at different speeds.
.\"O To select speeds, cycle through the
.\"O speeds 9600, 4800, 2400 and 1200 bit/s, each time writing the two characters
.\"O from the table below and waiting 0.1 seconds.
.\"O The following table shows available speeds and the strings that select them:
マウスの相対的な移動は、\fIdx\fP(正が右)と\fIdy\fP(正が下)として伝えられる。
各種のマウスは異なったスピードで操作できる。スピードを選択するには、
下の表の２文字を送ってから 0.1 秒待つことで、9600, 4800, 2400, 1200
bit/s を順に選べる。
以下の表では選択可能なスピードとそれを選択するための文字列を示している。
.TS
center;
l l.
bit/s	string
9600	*q
4800	*p
2400	*o
1200	*n
.TE

.\"O The first byte of a data packet can be used to synchronization purposes.
データパケットの第 1 バイトは同期をとるのに利用できる。
.\"O .SS "Microsoft protocol"
.SS "マイクロソフト プロトコル(Microsoft Protocol)"
.\"O The \fBMicrosoft\fP protocol uses 1 start bit, 7 data bits, no parity
.\"O and one stop bit at the speed of 1200 bits/sec.
.\"O Data is sent to RxD in 3-byte packets.
.\"O The \fIdx\fP and \fIdy\fP movements are sent as
.\"O two's-complement, \fIlb\fP (\fIrb\fP) are set when the left (right)
.\"O button is pressed:
\fBマイクロソフト\fPプロトコルは、1200 bits/sec のスピードで、1 ス
タートビット(1 start bit)、7 データビット(7 data bits)、パリティな
し、1 ストップビット(1 stop bit)である。
データは RxD に 3 バイトのパケットとして送られる。\fIdx\fP と \fIdy\fP
の動きは 2 の補数表示で送られ、左(右)のボタンが押された時には \fIlb\fP
(\fIrb\fP)がセットされる。
.TS
center;
r c c c c c c c.
byte	d6	d5	d4	d3	d2	d1	d0
1	1	lb	rb	dy7	dy6	dx7	dx6
2	0	dx5	dx4	dx3	dx2	dx1	dx0
3	0	dy5	dy4	dy3	dy2	dy1	dy0
.TE
.\"O .SS "3-button Microsoft protocol"
.SS "3つボタン マイクロソフト プロトコル(3-button Microsoft protocol)"
.\"O Original Microsoft mice only have two buttons.
.\"O However, there are some
.\"O three button mice which also use the Microsoft protocol.
.\"O Pressing or
.\"O releasing the middle button is reported by sending a packet with zero
.\"O movement and no buttons pressed.
.\"O (Thus, unlike for the other two buttons, the status of the middle
.\"O button is not reported in each packet.)
本来のマイクロソフトマウスは 2 つのボタンしか持たない。しかし、3 つボタン
のマウスでマイクロソフトプロトコルの物も存在する。真中のボタンを押す、
または放すということは、動きゼロでボタンが押されていないというパケット
を送ることで伝えられる。(従って他の二つのボタンと違い、真中のボタ
ンのステータスは、それぞれのパケットからは伝わって来ない。)
.\"O .SS "Logitech protocol"
.SS "ロジテック プロトコル(Logitech protocol)"
.\"O Logitech serial 3-button mice use a different extension of the
.\"O Microsoft protocol: when the middle button is up, the above 3-byte
.\"O packet is sent.
.\"O When the middle button is down a 4-byte packet is
.\"O sent, where the 4th byte has value 0x20 (or at least has the 0x20
.\"O bit set).
.\"O In particular, a press of the middle button is reported
.\"O as 0,0,0,0x20 when no other buttons are down.
ロジテック シリアル 3つボタンマウスは、マイクロソフト プロトコルとは
異なった拡張をしている。:真中のボタンが押されてないと、上記 3バイトの
パケットが送られる。真中のボタンが押されていると、4バイトのパケットが
送られる。第４バイトは 0x20 の値を持っている(あるいは、少なくとも 0x20
ビットがセットされている)。 但し、他のボタンが押されていない状態で、
真中のボタンが押されると、0,0,0,0x20 と伝えられる。
.\"O .SS "Mousesystems protocol"
.SS "マウスシステムズ プロトコル(Mousesystems protocol)"
.\"O The \fBMousesystems\fP protocol uses 1 start bit, 8 data bits, no parity
.\"O and two stop bits at the speed of 1200 bits/sec.
.\"O Data is sent to RxD in
.\"O 5-byte packets.
.\"O \fIdx\fP is sent as the sum of the two two's-complement
.\"O values, \fIdy\fP is send as negated sum of the two two's-complement
.\"O values.
.\"O \fIlb\fP (\fImb\fP, \fIrb\fP) are cleared when the left (middle,
.\"O right) button is pressed:
\fBマウスシステムズ\fPプロトコルは、1200 bits/secで、1 スタートビット、
8 データビット、パリティなし、2 ストップビットである。
データは、RxD に 5 バイトのパケットとして送られる。\fIdx\fP は 2 つの
2 の補数の和として送られ、\fIdy\fP は 2 つの 2 の補数の和の否定
として送られる。左(中、右)のボタンが押された時には\fIlb\fP
(\fImb\fP, \fIrb\fP) がクリアされる。
.TS
center;
r c c c c c c c c.
byte	d7	d6	d5	d4	d3	d2	d1	d0
1	1	0	0	0	0	lb	mb	rb
2	0	dxa6	dxa5	dxa4	dxa3	dxa2	dxa1	dxa0
3	0	dya6	dya5	dya4	dya3	dya2	dya1	dya0
4	0	dxb6	dxb5	dxb4	dxb3	dxb2	dxb1	dxb0
5	0	dyb6	dyb5	dyb4	dyb3	dyb2	dyb1	dyb0
.TE

.\"O Bytes 4 and 5 describe the change that occurred since bytes 2 and 3
.\"O were transmitted.
第 4,5 バイトには、第 2,3 バイトが送られたあと生じた変更が記述される。
.\"O .SS "Sun protocol"
.SS "サン プロトコル(Sun protocol)"
.\"O The \fBSun\fP protocol is the 3-byte version of the above 5-byte
.\"O Mousesystems protocol: the last two bytes are not sent.
\fBサン\fP プロトコルは、上記の 5 バイト マウスシステムプロトコルの 3
バイト版です。後の 2 バイトは送られません。
.\"O .SS "MM protocol"
.SS "MM プロトコル(MM protocol)"
.\"O The \fBMM\fP protocol uses 1 start bit, 8 data bits, odd parity and one
.\"O stop bit at the speed of 1200 bits/sec.
.\"O Data is sent to RxD in 3-byte
.\"O packets.
.\"O \fIdx\fP and \fIdy\fP are sent as single signed values, the
.\"O sign bit indicating a negative value.
.\"O \fIlb\fP (\fImb\fP, \fIrb\fP) are
.\"O set when the left (middle, right) button is pressed:
\fBMM\fP プロトコルは 1200 bits/sec で 1 スタートビット、8 データビッ
ト、奇数パリティ、 1 ストップビットを使う。データは RxD に 3 バイトのパ
ケットとして送られる。\fIdx\fP と \fIdy\fP は一つの符号つきの値として
送られ、サインビットは負の値を表す。左(中、右)のボタンが押された時には
\fIlb\fP (\fImb\fP, \fIrb\fP)がセットされる。
.TS
center;
r c c c c c c c c.
byte	d7	d6	d5	d4	d3	d2	d1	d0
1	1	0	0	dxs	dys	lb	mb	rb
2	0	dx6	dx5	dx4	dx3	dx2	dx1	dx0
3	0	dy6	dy5	dy4	dy3	dy2	dy1	dy0
.TE
.\"O .SH FILES
.SH ファイル
.TP
.I /dev/mouse
.\"O A commonly used symlink pointing to a mouse device.
一般的にマウスデバイスをさすのに使われるシンボリックリンク
.\"O .SH "SEE ALSO"
.SH 関連項目
.BR ttyS (4),
.BR gpm (8)
