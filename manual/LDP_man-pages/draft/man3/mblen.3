.\" Copyright (c) Bruno Haible <haible@clisp.cons.org>
.\"
.\" This is free documentation; you can redistribute it and/or
.\" modify it under the terms of the GNU General Public License as
.\" published by the Free Software Foundation; either version 2 of
.\" the License, or (at your option) any later version.
.\"
.\" References consulted:
.\"   GNU glibc-2 source code and manual
.\"   Dinkumware C library reference http://www.dinkumware.com/
.\"   OpenGroup's Single UNIX specification http://www.UNIX-systems.org/online.html
.\"   ISO/IEC 9899:1999
.\"
.\" Japanese Version Copyright (c) 1999 HANATAKA Shinya
.\"         all rights reserved.
.\" Translated Tue Jan 11 00:56:22 JST 2000
.\"         by HANATAKA Shinya <hanataka@abyss.rim.or.jp>
.\"
.\"
.TH MBLEN 3 1999-07-25 "GNU" "Linux Programmer's Manual"
.\"O .SH NAME
.SH 名前
.\"O mblen \- determine number of bytes in next multibyte character
mblen \- 次のマルチバイト文字のバイト数を返す
.\"O .SH SYNOPSIS
.SH 書式
.nf
.B #include <stdlib.h>
.sp
.BI "int mblen(const char *" s ", size_t " n );
.fi
.\"O .SH DESCRIPTION
.SH 説明
.\"O If \fIs\fP is not a NULL pointer, the
.\"O .BR mblen ()
.\"O function inspects at most
.\"O \fIn\fP bytes of the multibyte string starting at \fIs\fP and extracts the
.\"O next complete multibyte character.
.\"O It uses a static anonymous shift state only
.\"O known to the
.\"O .BR mblen ()
.\"O function.
.\"O If the multibyte character is not the null wide
.\"O character, it returns the number of bytes that were consumed from \fIs\fP.
.\"O If the multibyte character is the null wide character, it returns 0.
\fIs\fP が NULL ポインターでなければ、
.BR mblen ()
関数は \fIs\fP から始まる最大 \fIn\fP バイトのマルチバイト文字列を検査して、
次の完全なマルチバイト文字を取り出す。これには
.BR mblen ()
関数のみが使用する静的で名前のないシフト状態が使用される。
マルチバイト文字がナルワイド文字でなければ \fIs\fP から消費される
バイト数を返す。マルチバイト文字がナルワイド文字ならば 0 を返す。
.PP
.\"O If the \fIn\fP bytes starting at \fIs\fP do not contain a complete multibyte
.\"O character,
.\"O .BR mblen ()
.\"O returns \-1.
.\"O This can happen even if
.\"O \fIn\fP is greater than or equal to \fIMB_CUR_MAX\fP,
.\"O if the multibyte string contains redundant shift sequences.
\fIs\fP から始まる \fIn\fP バイトが完全なマルチバイト文字を含んで
いなければ、
.BR mblen ()
は \-1 を返す。マルチバイト文字列
に冗長なシフトシーケンスが含まれていると、
\fIn\fP が \fIMB_CUR_MAX\fP 以上の場合にも
このようなことが起こりえる。
.PP
.\"O If the multibyte string starting at \fIs\fP contains an invalid multibyte
.\"O sequence before the next complete character,
.\"O .BR mblen ()
.\"O also returns \-1.
\fIs\fP から始まるマルチバイト文字列が次の完全な文字の前に
不正なマルチバイト列を含んでいる場合にも、
.BR mblen ()
は \-1 を返す。
.PP
.\"O If \fIs\fP is a NULL pointer, the
.\"O .BR mblen ()
.\"O function
.\" The Dinkumware doc and the Single UNIX specification say this, but
.\" glibc doesn't implement this.
.\"O resets the shift state, only known to this function, to the initial state, and
.\"O returns nonzero if the encoding has nontrivial shift state, or zero if the
.\"O encoding is stateless.
\fIs\fP が NULL ポインターならば、
.BR mblen ()
関数はこの関数のみが
使用するシフト状態を初期化状態に戻し、シフト状態を使用した文字符号の場合に
はゼロ以外を、文字符号がシフト状態を持たない場合にはゼロを返す。
.\"O .SH "RETURN VALUE"
.SH 返り値
.\"O The
.\"O .BR mblen ()
.\"O function returns the number of
.\"O bytes parsed from the multibyte
.\"O sequence starting at \fIs\fP, if a non-null wide character was recognized.
.\"O It returns 0, if a null wide character was recognized.
.\"O It returns \-1, if an
.\"O invalid multibyte sequence was encountered or if it couldn't parse a complete
.\"O multibyte character.
.BR mblen ()
関数は \fIs\fP から始まるマルチバイト列を検査して
ナルワイド文字以外を確認した場合にはそのバイト数を返す。
ナルワイド文字を確認した場合にはゼロを返す。不正なマルチバイト列に
遭遇した場合や完全なマルチバイト文字を解析できなかった場合には \-1 を返す。
.\"O .SH "CONFORMING TO"
.SH 準拠
C99.
.\"O .SH NOTES
.SH 注意
.\"O The behavior of
.\"O .BR mblen ()
.\"O depends on the
.\"O .B LC_CTYPE
.\"O category of the
.\"O \"O current locale.
.BR mblen ()
の動作は現在のロケールの
.B LC_CTYPE
カテゴリに依存している。
.PP
.\"O The function
.\"O .BR mbrlen (3)
.\"O provides a better interface to the same
.\"O functionality.
.BR mbrlen (3)
関数は同じ機能のより良いインタフェースを提供する。
.\"O .SH "SEE ALSO"
.SH 関連項目
.BR mbrlen (3)
