.\" Copyright (c) Bruno Haible <haible@clisp.cons.org>
.\"
.\" This is free documentation; you can redistribute it and/or
.\" modify it under the terms of the GNU General Public License as
.\" published by the Free Software Foundation; either version 2 of
.\" the License, or (at your option) any later version.
.\"
.\" References consulted:
.\"   GNU glibc-2 source code and manual
.\"   Dinkumware C library reference http://www.dinkumware.com/
.\"   OpenGroup's Single UNIX specification
.\"     http://www.UNIX-systems.org/online.html
.\"   ISO/IEC 9899:1999
.\"
.\" Modified Tue Oct 16 23:18:40 BST 2001 by John Levon <moz@compsoc.man.ac.uk>
.\"
.\" About this Japanese page, please contact to JM Project <JM@linux.or.jp>
.\" Translated Sun Aug 29 15:03:42 JST 1999
.\"           by FUJIWARA Teruyoshi <fujiwara@linux.or.jp>
.\" Updated Sat Oct 27 09:01:41 JST 2001
.\"           by Yuichi SATO <ysato@h4.dion.ne.jp>
.\"
.\" WORD: null wide characters	ナルワイド文字
.\"
.TH FGETWS 3  2011-09-28 "GNU" "Linux Programmer's Manual"
.\"O .SH NAME
.SH 名前
.\"O fgetws \- read a wide-character string from a FILE stream
fgetws \- ワイド文字の文字列を FILE ストリームから読み込む
.\"O .SH SYNOPSIS
.SH 書式
.nf
.B #include <wchar.h>
.sp
.BI "wchar_t *fgetws(wchar_t *" ws ", int " n ", FILE *" stream );
.fi
.\"O .SH DESCRIPTION
.SH 説明
.\"O The
.\"O .BR fgetws ()
.\"O function is the wide-character equivalent
.\"O of the
.\"O .BR fgets (3)
.\"O function.
.\"O It reads a string of at most \fIn\-1\fP wide characters into the
.\"O wide-character array pointed to by \fIws\fP,
.\"O and adds a terminating null wide character (L\(aq\\0\(aq).
.\"O It stops reading wide characters after it has encountered and
.\"O stored a newline wide character.
.\"O It also stops when end of stream is reached.
.BR fgetws ()
関数は
.BR fgets (3)
に対応するワイド文字関数である。
この関数は、最大 \fIn\-1\fP 文字のワイド文字を
\fIws\fP が示すワイド文字の配列に読み込み、
終端の NULL ワイド文字 (L\(aq\\0\(aq) を追加する。
この関数は、ワイド文字の改行文字を見つけ、これを格納すると読み込むのを止める。
この関数はストリームの終わりに達した場合も読み込みを止める。
.PP
.\"O The programmer must ensure that there is room for at least \fIn\fP wide
.\"O characters at \fIws\fP.
プログラマは、\fIws\fP には少なくとも \fIn\fP 文字のワイド文字を
格納できる領域を必ず確保していなければならない。
.PP
.\"O For a nonlocking counterpart, see
.\"O .BR unlocked_stdio (3).
これらの処理をロックせずに行いたいときは、
.BR unlocked_stdio (3)
を参照すること。
.\"O .SH "RETURN VALUE"
.SH 返り値
.\"O The
.\"O .BR fgetws ()
.\"O function, if successful, returns \fIws\fP.
.\"O If end of stream
.\"O was already reached or if an error occurred, it returns NULL.
.BR fgetws ()
は成功すると \fIws\fP を返す。
既にストリームの終わりに達しているか、エラーが起きた場合には NULL を返す。
.\"O .SH "CONFORMING TO"
.SH 準拠
C99, POSIX.1-2001.
.\"O .SH NOTES
.SH 注意
.\"O The behavior of
.\"O .BR fgetws ()
.\"O depends on the
.\"O .B LC_CTYPE
.\"O category of the
.\"O current locale.
.BR fgetws ()
の動作は、現在のロケールの
.B LC_CTYPE
カテゴリに依存する。
.PP
.\"O In the absence of additional information passed to the
.\"O .BR fopen (3)
.\"O call, it is
.\"O reasonable to expect that
.\"O .BR fgetws ()
.\"O will actually read a multibyte string
.\"O from the stream and then convert it to a wide-character string.
.BR fopen (3)
システムコールに渡す追加の情報がない場合には、
.BR fgetws ()
が実際にはマルチバイトシーケンスをストリームから読み込み、
これをワイド文字に変換すると期待することは適切である。
.PP
.\"O This function is unreliable,
.\"O because it does not permit to deal properly with
.\"O null wide characters that may be present in the input.
この関数は信頼できない。なぜなら、入力に含まれるかもしれない
ナルワイド文字を適切に処理することができないからである。
.\"O .SH "SEE ALSO"
.SH 関連項目
.BR fgetwc (3),
.BR unlocked_stdio (3)
