.\" Copyright (C) 1996 Free Software Foundation, Inc.
.\" This file is distributed according to the GNU General Public License.
.\" See the file COPYING in the top level source directory for details.
.\"
.\" 2006-02-09, some reformatting by Luc Van Oostenryck; some
.\" reformatting and rewordings by mtk
.\"
.\" Japanese Version Copyright (c) 2006 Akihiro MOTOKI all rights reserved.
.\" Translated 2006-07-29, Akihiro MOTOKI <amotoki@dd.iij4u.or.jp>
.\"
.TH CREATE_MODULE 2 2007-06-03 "Linux" "Linux Programmer's Manual"
.\"O .SH NAME
.SH 名前
.\"O create_module \- create a loadable module entry
create_module \- ローダブルモジュールのエントリを作成する
.\"O .SH SYNOPSIS
.SH 書式
.nf
.B #include <linux/module.h>
.sp
.BI "caddr_t create_module(const char *" name ", size_t " size );
.fi
.\"O .SH DESCRIPTION
.SH 説明
.\"O .BR create_module ()
.\"O attempts to create a loadable module entry and reserve the kernel memory
.\"O that will be needed to hold the module.
.\"O This system call requires privilege.
.BR create_module ()
は、ローダブルモジュールのエントリを作成し、そのモジュールの保持に必要な
カーネルメモリを予約しようとする。
このシステムコールを使うには特権が必要である。
.\"O .SH "RETURN VALUE"
.SH 返り値
.\"O On success, returns the kernel address at which the module will reside.
.\"O On error \-1 is returned and
.\"O .I errno
.\"O is set appropriately.
成功すると、モジュールが配置されるカーネル空間のアドレスを返す。
エラーの場合 \-1 を返し、
.I errno
を適切に設定する。
.\"O .SH ERRORS
.SH エラー
.TP
.B EEXIST
.\"O A module by that name already exists.
その名前のモジュールがすでに存在する。
.TP
.B EFAULT
.\"O .I name
.\"O is outside the program's accessible address space.
.I name
がプログラムがアクセスできるアドレス空間の外部にある。
.TP
.B EINVAL
.\"O The requested size is too small even for the module header information.
要求したサイズが小さすぎて、モジュールのヘッダ情報すら格納できない。
.TP
.B ENOMEM
.\"O The kernel could not allocate a contiguous block of memory large
.\"O enough for the module.
モジュールを格納するのに必要な大きさの連続したメモリブロックを
カーネルが確保できなかった。
.TP
.B ENOSYS
.\"O .BR create_module ()
.\"O is not supported in this version of the kernel.
.BR create_module ()
がこのバージョンのカーネルではサポートされていない。
.TP
.B EPERM
.\"O The caller was not privileged
.\"O (did not have the
.\"O .B CAP_SYS_MODULE
.\"O capability).
呼び出し元が特権
.RB ( CAP_SYS_MODULE
ケーパビリティ) を持っていなかった。
.\"O .SH VERSIONS
.SH バージョン
.\"O This system call is only present on Linux up until kernel 2.4;
.\"O it was removed in Linux 2.6.
このシステムコールが存在するのはカーネル 2.4 までの Linux だけである。
Linux 2.6 では削除された。
.\" Removed in Linux 2.5.48
.\"O .SH "CONFORMING TO"
.SH 準拠
.\"O .BR create_module ()
.\"O is Linux-specific.
.BR create_module ()
は Linux 固有である。
.\"O .SH "SEE ALSO"
.SH 関連項目
.BR delete_module (2),
.BR init_module (2),
.BR query_module (2)
