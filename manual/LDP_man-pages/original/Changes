==================== Changes in man-pages-3.39 ====================

Released: 2012-04-17, Christchurch


Contributors
------------

The following people contributed patches/fixes or (noted in brackets
in the changelog below) reports, notes, and ideas that have been
incorporated in changes in this release:

Abhijith Das <adas@redhat.com>
Alexander Kruppa <akruppa@gmail.com>
Andreas Jaeger <aj@suse.com>
Armin Rigo <arigo@tunes.org>
Cyrill Gorcunov <gorcunov@openvz.org>
Denys Vlasenko <vda.linux@googlemail.com>
Eric Blake <ebb9@byu.net>
Felix <fkater@googlemail.com>
Jak <jak@gmx.ca>
Jeff Mahoney <jeffm@suse.com>
Jesus Otero <jesus.otero@rysg.es>
Jonathan Nieder <jrnieder@gmail.com>
Kevin O'Gorman <kevinogorman4@gmail.com>
Mark R Bannister <mark@proseconsulting.co.uk>
Michael Kerrisk <mtk.manpages@gmail.com>
Michael Welsh Duggan <mwd@cert.org>
Mike Frysinger <vapier@gentoo.org>
Petr Gajdos <pgajdos@suse.cz>
Regid Ichira <regid23@yahoo.com>
Reuben Thomas <rrt@sc3d.org>
Ricardo Catalinas Jiménez <jimenezrick@gmail.com>
Simone Piccardi <piccardi@truelite.it>
Tetsuo Handa <penguin-kernel@i-love.sakura.ne.jp>
<who@connect.carleton.ca>

Apologies if I missed anyone!


New and rewritten pages
-----------------------

malloc_trim.3
    Michael Kerrisk
        New man page for malloc_trim(3)

malloc_usable_size.3
    Michael Kerrisk
        New man page for malloc_usable_size(3)


Newly documented interfaces in existing pages
---------------------------------------------

prctl.2
    Cyrill Gorcunov
        Document PR_SET_MM (new in Linux 3.3)
    Michael Kerrisk
        Various edits and improvements to Cyrill's patch


Changes to individual pages
---------------------------

epoll_create.2
    Michael Kerrisk
        Rework discussion of 'size' argument
    Michael Kerrisk
        Add .SS for description of epoll_create1()

epoll_wait.2
    Michael Kerrisk  [Armin Rigo]
        Another thread can add to epoll instance while epoll_wait is blocked
            See https://bugzilla.kernel.org/show_bug.cgi?id=43072
    Michael Kerrisk
        Clarify that epoll_pwait() blocks calling *thread*
        A few wording improvements

fchmodat.2
    Michael Kerrisk  [Mike Frysinger]
        Note difference between glibc wrapper and underlying system call
            The wrapper function has a 'flags' argument (which currently
            serves no purpose), while the underlying system call does not.

fcntl.2
    Abhijith Das
        Explain behaviour of F_GETLEASE during lease break
    Michael Kerrisk  [Eric Blake]
        Change type of arg from "long" to "int"
            Various fcntl(2) commands require an integral 'arg'.
            The man page said it must be "long" in all such cases.
            However, for the cases covered by POSIX, there is an
            explicit requirement that these arguments be "int".
            Update the man page to reflect. Probably, all of the
            other "long" cases (not specified in POSIX) should
            be "int", and this patch makes them so. Based on a
            note fromEric Blake, relating to F_DUPFD_CLOEXEC.

gettimeofday.2
    Michael Kerrisk
        Reorganize content
            The main change is to move the historical information about
            the 'tz_dsttime' to NOTES.
    Michael Kerrisk  [Felix]
        Note that compiler issues warnings if 'tv' is NULL

mmap.2
    Michael Kerrisk  [Kevin O'Gorman]
        Clarify that this system call should not be invoked directly
            See https://bugzilla.kernel.org/show_bug.cgi?id=42892
    Michael Kerrisk
        Clarify NOTES discussion of mmap() versus mmap2()

poll.2
    Michael Kerrisk  [Michael Welsh Duggan]
        Document negative value in 'fd' field
    Michael Kerrisk
        Document semantics of passing zero in 'events' field

ptrace.2
    Denys Vlasenko
        Various fixes
            For some reason, the PTRACE_TRACEME paragraph talks about some
            general aspects of ptraced process behavior. It repeats the
            "tracee stops on every signal" information even though that was
            already explained just a few paragraphs before. Then it describes
            legacy SIGTRAP on execve().

            This patch deletes the first part, and moves the second part up,
            into the general ptrace description. It also adds
            "If PTRACE_O_TRACEEXEC option is not in effect" to the description
            of the legacy SIGTRAP on execve().

            The patch also amends the part which says "For requests other
            than PTRACE_KILL, the tracee must be stopped." - PTRACE_ATTACH
            also doesn't require that.

sigaction.2
    Michael Kerrisk  [Andreas Jaeger, ]
        Clarify that the use of SI_SIGIO is for Linux 2.2 only
            See also http://sourceware.org/bugzilla/show_bug.cgi?id=6745

sigprocmask.2
    Mike Frysinger
        ERRORS: add EFAULT

times.2
    Michael Kerrisk  [Simone Piccardi]
        ERRORS: Add EFAULT

div.3
    Michael Kerrisk  [Reuben Thomas]
        CONFORMING TO: Add C99

fread.3
    Regid Ichira
        Clarify further that return value is number of items, not bytes
            See also http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=665780

getaddrinfo.3
    Michael Kerrisk  [Jak]
        Correct type of ai_addrlen field

malloc.3
    Michael Kerrisk
        SEE ALSO: add malloc_usable_size(3)
        SEE ALSO: Add malloc_trim(3)

mallopt.3
    Michael Kerrisk
        Fix text describing M_PERTURB and free()
        SEE ALSO: Add malloc_trim(3)

memchr.3
    Michael Kerrisk  [Reuben Thomas]
        Remove mention of terminating null in description of rawmemchr()

perror.3
    Michael Kerrisk  [Jesus Otero]
        Note that use of 'sys_errlist' is deprecated

rcmd.3
    Michael Kerrisk
        glibc eventually added a declaration of iruserok() in version 2.12

sysconf.3
    Michael Kerrisk  [Ricardo Catalinas Jiménez]
        Add mention of _SC_SYMLOOP_MAX

nologin.5
    Michael Kerrisk  [Tetsuo Handa]
        nologin must not only exist, but *be readable* to be effective

nsswitch.conf.5
    Mark R Bannister
        Significant rewrites and improvements
            This patch applies to nsswitch.conf.5 in man-pages-3.36.

            My changes almost completely rewrite large sections of the
            man page. They are needed to add clarity, correct grammar,
            reduce confusion, and bring up-to-date with the latest glibc.
            I have checked the man page against the nss source code in
            glibc 2.14.90.

            Historical notes are demoted to the footer.

            The rewrite makes the man page much clearer to
            understand, more authoratitive, and easier to read.
    Michael Kerrisk
        Light edits to Mark Bannister's changes

capabilities.7
    Michael Kerrisk
        Add prctl(PR_SET_MM) to CAP_SYS_RESOURCE

epoll.7
    Michael Kerrisk
        Some minor clarifications at start of DESCRIPTION

netlink.7
    Jeff Mahoney  [Petr Gajdos]
        Note cases where nonprivileged users can use netlink multicast groups
            See also https://bugzilla.novell.com/show_bug.cgi?id=754611

unix.7
    Michael Kerrisk  [Tetsuo Handa]
        Add a detail on autobind feature

ld.so.8
    Jonathan Nieder  [Reuben Thomas]
        Document effect of hwcaps on search path
            Wording by Aurelien Jarno from Debian glibc's r4701 (2011-06-04).

            Addresses http://bugs.debian.org/622385
