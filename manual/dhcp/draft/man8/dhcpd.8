.\" senda ここから
.\" senda ここまで
.\"	dhcpd.8
.\"
.\" Copyright (c) 1996-2001 Internet Software Consortium.
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\"
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 3. Neither the name of The Internet Software Consortium nor the names
.\"    of its contributors may be used to endorse or promote products derived
.\"    from this software without specific prior written permission.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE INTERNET SOFTWARE CONSORTIUM AND
.\" CONTRIBUTORS ``AS IS'' AND ANY EXPRESS OR IMPLIED WARRANTIES,
.\" INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
.\" MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
.\" DISCLAIMED.  IN NO EVENT SHALL THE INTERNET SOFTWARE CONSORTIUM OR
.\" CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
.\" SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
.\" LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF
.\" USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
.\" ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
.\" OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT
.\" OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.\" This software has been written for the Internet Software Consortium
.\" by Ted Lemon in cooperation with Vixie Enterprises and Nominum, Inc.
.\" To learn more about the Internet Software Consortium, see
.\" ``http://www.isc.org/''.  To learn more about Vixie Enterprises,
.\" see ``http://www.vix.com''.   To learn more about Nominum, Inc., see
.\" ``http://www.nominum.com''.
.\"
.\" Japanese Version Copyright (c) 2001-2003
.\"        NAKANO Takeo and SENDA Yoshikazu all rights reserved.
.\" Translated Thu Dec 27 2001 by NAKANO Takeo <nakano@apm.seikei.ac.jp>
.\" Updated Sat Mar 15 2003 by SENDA Yoshikazu <senda@mocha.freemail.ne.jp>
.\"
.\"O .TH dhcpd 8
.\"O .SH NAME
.\"O dhcpd - Dynamic Host Configuration Protocol Server
.\"O .SH SYNOPSIS
.\"O .B dhcpd
.\"O [
.\"O .B -p
.\"O .I port
.\"O ]
.\"O [
.\"O .B -f
.\"O ]
.\"O [
.\"O .B -d
.\"O ]
.\"O [
.\"O .B -q
.\"O ]
.\"O [
.\"O .B -t
.\"O |
.\"O .B -T
.\"O ]
.\"O [
.\"O .B -cf
.\"O .I config-file
.\"O ]
.\"O [
.\"O .B -lf
.\"O .I lease-file
.\"O ]
.\"O [
.\"O .B -tf
.\"O .I trace-output-file
.\"O ]
.\"O [
.\"O .B -play
.\"O .I trace-playback-file
.\"O ]
.\"O [
.\"O .I if0
.\"O [
.\"O .I ...ifN
.\"O ]
.\"O ]
.TH dhcpd 8
.SH 名前
dhcpd \- Dynamic Host Configuration Protocol
(動的ホスト設定プロトコル) サーバ
.SH 書式
.B dhcpd
[
.B -p
.I port
]
[
.B -f
]
[
.B -d
]
[
.B -q
]
[
.B -t
|
.B -T
]
[
.B -cf
.I config-file
]
[
.B -lf
.I lease-file
]
[
.B -tf
.I trace-output-file
]
[
.B -play
.I trace-playback-file
]
[
.I if0
[
.I ...ifN
]
]
.\"O .SH DESCRIPTION
.\"O The Internet Software Consortium DHCP Server, dhcpd, implements the
.\"O Dynamic Host Configuration Protocol (DHCP) and the Internet Bootstrap
.\"O Protocol (BOOTP).  DHCP allows hosts on a TCP/IP network to request
.\"O and be assigned IP addresses, and also to discover information about
.\"O the network to which they are attached.  BOOTP provides similar
.\"O functionality, with certain restrictions.
.SH 説明
Internet Software Consortium DHCP サーバである dhcpd は、
Dynamic Host Configuration Protocol (DHCP) と
Internet Bootstrap Protocol (BOOTP) とを実装したものである。
DHCP を用いると、
TCP/IP ネットワーク上のホストは
IP アドレスを要求して割り当ててもらうことができ、
また接続したネットワークの情報を取得できます。
BOOTP も同様の機能を持っていますが、少々制限があります。
.\"
.\" senda ここから
.\"O .SH CONTRIBUTIONS
.SH 寄付
.\"O .PP
.\"O This software is free software.  At various times its development has
.\"O been underwritten by various organizations, including the ISC and
.\"O Vixie Enterprises.  The development of 3.0 has been funded almost
.\"O entirely by Nominum, Inc.
.PP
このソフトウェアはフリーソフトウェアです。その開発費用は、
ISC と Vixie Enterprises を含む様々な組織によって負担されてきました。
3.0 の開発費用のほとんどすべては、Nominum, Inc. によってに提供されました。
.\"O .PP
.\"O At this point development is being shepherded by Ted Lemon, and hosted
.\"O by the ISC, but the future of this project depends on you.  If you
.\"O have features you want, please consider implementing them.
.PP
開発は Ted Lemon によって指導され、ISC が開発の主催を行っています。
しかし、このプロジェクトの将来はあなたに依存しています。
もしあなたが何か望むことがあれば、それらも実現されるであろうと考えて下さい。
.\" senda ここまで
.\"
.\"O .SH OPERATION
.\"O .PP
.\"O The DHCP protocol allows a host which is unknown to the network
.\"O administrator to be automatically assigned a new IP address out of a
.\"O pool of IP addresses for its network.   In order for this to work, the
.\"O network administrator allocates address pools in each subnet and
.\"O enters them into the dhcpd.conf(5) file.
.\"O .PP
.\"O On startup, dhcpd reads the
.\"O .IR dhcpd.conf
.\"O file and stores a list of available addresses on each subnet in
.\"O memory.  When a client requests an address using the DHCP protocol,
.\"O dhcpd allocates an address for it.  Each client is assigned a lease,
.\"O which expires after an amount of time chosen by the administrator (by
.\"O default, one day).  Before leases expire, the clients to which leases
.\"O are assigned are expected to renew them in order to continue to use
.\"O the addresses.  Once a lease has expired, the client to which that
.\"O lease was assigned is no longer permitted to use the leased IP
.\"O address.
.\"O .PP
.\"O In order to keep track of leases across system reboots and server
.\"O restarts, dhcpd keeps a list of leases it has assigned in the
.\"O dhcpd.leases(5) file.   Before dhcpd grants a lease to a host, it
.\"O records the lease in this file and makes sure that the contents of the
.\"O file are flushed to disk.   This ensures that even in the event of a
.\"O system crash, dhcpd will not forget about a lease that it has
.\"O assigned.   On startup, after reading the dhcpd.conf file, dhcpd
.\"O reads the dhcpd.leases file to refresh its memory about what leases
.\"O have been assigned.
.\"O .PP
.\"O New leases are appended to the end of the dhcpd.leases
.\"O file.   In order to prevent the file from becoming arbitrarily large,
.\"O from time to time dhcpd creates a new dhcpd.leases file from its
.\"O in-core lease database.  Once this file has been written to disk, the
.\"O old file is renamed
.\"O .IR dhcpd.leases~ ,
.\"O and the new file is renamed dhcpd.leases.   If the system crashes in
.\"O the middle of this process, whichever dhcpd.leases file remains will
.\"O contain all the lease information, so there is no need for a special
.\"O crash recovery process.
.\"O .PP
.\"O BOOTP support is also provided by this server.  Unlike DHCP, the BOOTP
.\"O protocol does not provide a protocol for recovering
.\"O dynamically-assigned addresses once they are no longer needed.   It is
.\"O still possible to dynamically assign addresses to BOOTP clients, but
.\"O some administrative process for reclaiming addresses is required.   By
.\"O default, leases are granted to BOOTP clients in perpetuity, although
.\"O the network administrator may set an earlier cutoff date or a shorter
.\"O lease length for BOOTP leases if that makes sense.
.\"O .PP
.\"O BOOTP clients may also be served in the old standard way, which is to
.\"O simply provide a declaration in the dhcpd.conf file for each
.\"O BOOTP client, permanently assigning an address to each client.
.\"O .PP
.\"O Whenever changes are made to the dhcpd.conf file, dhcpd must be
.\"O restarted.   To restart dhcpd, send a SIGTERM (signal 15) to the
.\"O process ID contained in
.\"O .IR RUNDIR/dhcpd.pid ,
.\"O and then re-invoke dhcpd.  Because the DHCP server database is not as
.\"O lightweight as a BOOTP database, dhcpd does not automatically restart
.\"O itself when it sees a change to the dhcpd.conf file.
.\"O .PP
.\"O Note: We get a lot of complaints about this.   We realize that it would
.\"O be nice if one could send a SIGHUP to the server and have it reload
.\"O the database.   This is not technically impossible, but it would
.\"O require a great deal of work, our resources are extremely limited, and
.\"O they can be better spent elsewhere.   So please don't complain about
.\"O this on the mailing list unless you're prepared to fund a project to
.\"O implement this feature, or prepared to do it yourself.
.SH 動作
.PP
DHCP プロトコルは、ネットワーク管理者が知らないホストに対して、
予めそのネットワークで用意された IP アドレスの範囲 (pool) から、
自動的に新しい IP アドレスを割り当てます。
この機構を動作させるには、
ネットワーク管理者はアドレスの範囲を各サブネットごとに割り当てておき、
それを
.BR dhcpd.conf (5)
に書いておかなければなりません。
.PP
dhcpd は起動すると
.I dhcpd.conf
ファイルを読み、
各サブネットごとに利用できるアドレスのリストをメモリに保存します。
クライアントが DHCP プロトコルを用いてアドレスを要求すると、
dhcpd はそのクライアントにアドレスを割り当てます。
各クライアントに貸し出されたアドレスは、
管理者が決めておいたある期間が経過すると期限切れになります
(デフォルトでは 1 日)。
貸し出しを受けたクライアントは、
そのアドレスの利用を継続するために、
貸し出しが期限切れになる前に更新を行うことになります。
貸し出しが期限切れになると、
その貸し出しアドレスを割り当てられていたクライアントは、
もうそれ以上貸し出されていた IP アドレスを利用できなくなります。
.PP
システムやサーバが再起動した場合に貸し出し情報を保持しておくために、
dhcpd は割り当てた貸し出しの記録を
.BR dhcpd.leases (5)
ファイルに保持しています。dhcpd はホストに貸し出しを行う前に、
その貸出記録をこのファイルに記録し、
ファイルの内容を確実にディスクにフラッシュします。
これによって、システムがクラッシュした場合でも、
dhcpd は割り当てた貸し出しのことを確実に覚えておけます。
dhcpd は、起動して dhcpd.conf ファイルを読んだあと、
dhcpd.leases ファイルを読んで、現在の貸し出し情報をメモリに書き込みます。
.PP
新たな貸出記録は dhcpd.leases ファイルの末尾に追加されます。
dhcpd は、貸し出しデータベースが際限なく大きくなるのを防ぐため、
時々内部に持っている貸し出しデータベースから新しい
dhcpd.leases ファイルを生成します。
このファイルがディスクに書き込まれると、古いファイルは
.I dhcpd.leases~
と名前が変更され、新しいファイルが dhcpd.leases になります。
システムがこの処理の途中でクラッシュしても、
いずれかの dhcpd.leases ファイルが残っていて、
そこにはすべての貸し出し情報が残っているはずです。
従って特殊なクラッシュリカバリ処理は必要ありません。
.PP
このサーバは BOOTP もサポートしています。
DHCP とは異なり、
BOOTP プロトコルは動的に割り当てられたアドレスが不要になったとき、
それを復帰させるプロトコルが存在しません。
BOOTP クライアントに動的にアドレスを割り当てることは可能ですが、
アドレスを回収して再割り当て可能にするような管理処理が必要になります。
デフォルトでは、BOOTP クライアントへの貸し出しは永続的なものですが、
ネットワーク管理者は (それが意味があれば)
中断をより早くしたり、貸し出し期間を短くできます。
.PP
BOOTP クライアントに、古い標準的な方法でアドレスを取得させることもできます。
これには dhcpd.conf ファイルに各 BOOTP クライアント用の宣言を書いて、
各クライアントへ永続的にアドレスを割り当てます。
.PP
dhcpd.conf ファイルに変更を行ったときは、
dhcpd は再起動しなければなりません。
これには SIGTERM (シグナル 15) を
.IR RUNDIR/dhcpd.pid ,
に保存されているプロセス ID に送り、dhcpd を再び起動します。
DHCP サーバのデータベースは BOOTP のデータベースほど軽量ではないので、
dhcpd は dhcpd.conf ファイルが変更されたことを知っても、
自動的に自分自身を再起動することはありません。
.PP
注意: これにはたくさん文句が来ています。
サーバに SIGHUP を送るとデータベースをリロードしてくれれば良いだろうな、
とは我々も認識しています。これは技術的には不可能ではありませんが、
非常に多くの作業を必要とします。
我々のリソースは非常に限られており、
それらは他のところに振り向けられています。
どうかメーリングリストに文句をいうのはご遠慮ください。
この機能を実装するプロジェクトへの資金を提供してくださるとか、
あなた自身が実装してくださるのならもちろん話は別ですが。
.\"O .SH COMMAND LINE
.\"O .PP
.\"O The names of the network interfaces on which dhcpd should listen for
.\"O broadcasts may be specified on the command line.  This should be done
.\"O on systems where dhcpd is unable to identify non-broadcast interfaces,
.\"O but should not be required on other systems.  If no interface names
.\"O are specified on the command line dhcpd will identify all network
.\"O interfaces which are up, elimininating non-broadcast interfaces if
.\"O possible, and listen for DHCP broadcasts on each interface.
.\"O .PP
.\"O If dhcpd should listen on a port other than the standard (port 67),
.\"O the
.\"O .B -p
.\"O flag may used.  It should be followed by the udp port number on which
.\"O dhcpd should listen.  This is mostly useful for debugging purposes.
.SH コマンドライン
.PP
dhcpd がブロードキャストを待ち受けるネットワークインターフェースの名前は、
コマンドラインで指定できます。
ブロードキャストでないインターフェースを
dhcpd 自身が特定できないような状況下ではこれを行うべきですが、
そうでなければ指定しなくてもかまいません。
インターフェースの名前がコマンドラインにひとつも指定されなければ、
dhcpd はすべてのネットワークインターフェースが通信状態にあるとみなし、
可能ならブロードキャストでないインターフェースを対象から外し、
各インターフェースで DHCP ブロードキャストを待ち受けます。
.PP
dhcpd に標準のポート (ポート 67) 以外で待機させたい場合は
.B -p
フラグで指定できます。この後には dhcpd を待機させる
udp のポート番号を書きます。これはデバッグの用途に特に便利です。
.\"O .PP
.\"O To run dhcpd as a foreground process, rather than allowing it to run
.\"O as a daemon in the background, the
.\"O .B -f
.\"O flag should be specified.  This is useful when running dhcpd under a
.\"O debugger, or when running it out of inittab on System V systems.
.\"O .PP
.\"O To have dhcpd log to the standard error descriptor, specify the
.\"O .B -d
.\"O flag.  This can be useful for debugging, and also at sites where a
.\"O complete log of all dhcp activity must be kept but syslogd is not
.\"O reliable or otherwise cannot be used.   Normally, dhcpd will log all
.\"O output using the syslog(3) function with the log facility set to
.\"O LOG_DAEMON.
.\"O .PP
.\"O Dhcpd can be made to use an alternate configuration file with the
.\"O .B -cf
.\"O flag, or an alternate lease file with the
.\"O .B -lf
.\"O flag.   Because of the importance of using the same lease database at
.\"O all times when running dhcpd in production, these options should be
.\"O used \fBonly\fR for testing lease files or database files in a
.\"O non-production environment.
.\"O .PP
.\"O When starting dhcpd up from a system startup script (e.g., /etc/rc),
.\"O it may not be desirable to print out the entire copyright message on
.\"O startup.   To avoid printing this message, the
.\"O .B -q
.\"O flag may be specified.
.PP
dhcpd をバックグラウンドでデーモンとして動作させるのではなく、
フォアグラウンドプロセスとして実行するには
.B -f
フラグを指定します。これは dhcpd をデバッガの下で動作させたり、
System V システムの inittab 以外から動作させる場合に便利です。
.\"nakano out of はこれでいいのか?
.PP
dhcpd のログを標準エラー出力に出したい場合は、
.B -d
フラグを指定します。これはデバッグの時に便利かもしれません。
また dhcp の動作記録を完全に記録しておきたいが、
syslogd が信頼できなかったり使えないような場合にも便利でしょう。
通常 dhcpd は、すべてのログ出力を
.BR syslog (3)
機能を用いて出力します。facility は LOG_DAEMON に設定されます。
.PP
dhcpd に標準以外の設定ファイルを読み込ませるには
.B -cf
フラグを用います。また別の貸し出しファイルを指定するには
.B -lf
フラグを使います。
実用の現場では、
dhcpd の実行時には、毎度同じ貸し出しデータベースを用いさせることが重要です。
したがってこれらのオプションは、
貸し出しファイルやデータベースファイルを、
実用でない環境でテストするような場合に限るべきです。
.PP
dhcpd をシステムのスタートアップスクリプト (/etc/rc など)
から起動するときには、
コピーライトメッセージ全部を出力したくないこともあるかもしれません。
このメッセージを表示させたくない場合は、
.B -q
フラグを指定します。
.\" 
.\" Senda ここから
.\"O .PP
.\"O The DHCP server reads two files on startup: a configuration file, and
.\"O a lease database.   If the
.\"O .B -t
.\"O flag is specified, the server will simply test the configuration file
.\"O for correct syntax, but will not attempt to perform any network
.\"O operations.   This can be used to test the a new configuration file
.\"O automatically before installing it.
.PP
DHCP　サーバは起動時 2 つのファイルを読み込みます。
設定ファイルと lease データベースです。
もし
.B -t
フラッグを指定していれば、サーバは設定ファイルの文法テストを単に行い、
どんなネットワークオペレーションも実行しようとしません。
これは新しい設定ファイルをインストールする前に自動的にテストするために使用されます。
.\" 
.\"O .PP
.\"O The
.\"O .B -T
.\"O flag can be used to test the lease database file in a similar way.
.PP
.B -T
フラッグは 同様の方法で lease データベースをテストするために使用することができます。
.\" 
.\"O .PP
.\"O The \fB-tf\fR and \fB-play\fR options allow you to specify a file into
.\"O which the entire startup state of the server and all the transactions
.\"O it processes are either logged or played back from.  This can be
.\"O useful in submitting bug reports - if you are getting a core dump
.\"O every so often, you can start the server with the \fB-tf\fR option and
.\"O then, when the server dumps core, the trace file will contain all the
.\"O transactions that led up to it dumping core, so that the problem can
.\"O be easily debugged with \fB-play\fR.
.PP
\fB-tf\fR と \fB-play\fR オプションによって、
サーバの起動時の状態のすべてとサーバの処理内容のすべてが
保存されるファイルを指定すること、または、
起動時の状態やサーバの処理内容を再生するために読み込むファイルを
指定することができます。
これはバグレポートを送るときに有益です。
 - もし頻繁にコアダンプが起きるようならば、
\fB-tf\fR オプションを指定してサーバを起動しておけば、
サーバがコアダンプを起したとき、
トレースファイルがコアダンプが起るまでの処理内容すべてを含むことになる
でしょう。そして、その問題は、\fB-play\fR を使うことによって、
簡単に取り除くことができるでしょう。
.\" 
.\"O .PP
.\"O The \fB-play\fR option must be specified with an alternate lease file,
.\"O using the \fB-lf\fR switch, 
.\"O so that the DHCP server doesn't wipe out
.\"O your existing lease file with its test data.  
.\"O 
.\"O The DHCP server will refuse to operate in playback
.\"O mode unless you specify an alternate lease file.
.PP

\fB-play\fR オプションは、 \fB-lf\fR スイッチを使って
別の lease ファイルと共に使用されなければなりません。
そのゆえ、DHCP サーバは別の lease ファイルを使い、
既存の lease ファイルを一掃することはありません。

もしあなたが他の lease ファイルを指定しない場合、
DHCPサーバは、playback モードでは作動しません。
.\" senda ここまで
.\" 
.\"O .SH CONFIGURATION
.\"O The syntax of the dhcpd.conf(5) file is discussed seperately.   This
.\"O section should be used as an overview of the configuration process,
.\"O and the dhcpd.conf(5) documentation should be consulted for detailed
.\"O reference information.
.SH 設定
.BR dhcpd.conf (5)
ファイルの文法は別に説明されてます。
この節は設定作業を概観するだけに使い、
詳細なリファレンス情報は
.BR dhcpd.conf (5)
のマニュアルページにあたってください。
.\"O .PP
.\"O .SH Subnets
.\"O dhcpd needs to know the subnet numbers and netmasks of all subnets for
.\"O which it will be providing service.   In addition, in order to
.\"O dynamically allocate addresses, it must be assigned one or more ranges
.\"O of addresses on each subnet which it can in turn assign to client
.\"O hosts as they boot.   Thus, a very simple configuration providing DHCP
.\"O support might look like this:
.\"O .nf
.\"O .sp 1
.\"O 	subnet 239.252.197.0 netmask 255.255.255.0 {
.\"O 	  range 239.252.197.10 239.252.197.250;
.\"O         }
.\"O .fi
.\"O .PP
.\"O Multiple address ranges may be specified like this:
.\"O .nf
.\"O .sp 1
.\"O 	subnet 239.252.197.0 netmask 255.255.255.0 {
.\"O 	  range 239.252.197.10 239.252.197.107;
.\"O 	  range 239.252.197.113 239.252.197.250;
.\"O 	}
.\"O .fi
.\"O .PP
.\"O If a subnet will only be provided with BOOTP service and no dynamic
.\"O address assignment, the range clause can be left out entirely, but the
.\"O subnet statement must appear.
.PP
.SH サブネット
dhcpd は、サービスを提供するすべてのサブネットに対して、
サブネット番号とネットマスクを知らなければなりません。
さらに dhcpd が動的にアドレスを割り当てるには、
各サブネットごとに 1 つ以上のアドレス領域を
あてがっておく必要があります。
クライアントホストが起動するごとに、
dhcpd はこの領域からアドレスを順番に割り当てます。
よって、DHCP サポートを提供する非常に簡単な設定は次のようになります。
.nf
.sp 1
	subnet 239.252.197.0 netmask 255.255.255.0 {
	  range 239.252.197.10 239.252.197.250;
        }
.fi
.PP
次のように複数のアドレス領域を指定することもできます。
.nf
.sp 1
	subnet 239.252.197.0 netmask 255.255.255.0 {
	  range 239.252.197.10 239.252.197.107;
	  range 239.252.197.113 239.252.197.250;
	}
.fi
.PP
BOOTP サービスだけを提供し、動的なアドレス割り当ては提供しない場合は、
アドレス範囲の項目は省略することができますが、subnet 文は必ず必要です。
.\"O .PP
.\"O .SH Lease Lengths
.\"O DHCP leases can be assigned almost any length from zero seconds to
.\"O infinity.   What lease length makes sense for any given subnet, or for
.\"O any given installation, will vary depending on the kinds of hosts
.\"O being served.
.\"O .PP
.\"O For example, in an office environment where systems are added from
.\"O time to time and removed from time to time, but move relatively
.\"O infrequently, it might make sense to allow lease times of a month of
.\"O more.   In a final test environment on a manufacturing floor, it may
.\"O make more sense to assign a maximum lease length of 30 minutes -
.\"O enough time to go through a simple test procedure on a network
.\"O appliance before packaging it up for delivery.
.\"O .PP
.\"O It is possible to specify two lease lengths: the default length that
.\"O will be assigned if a client doesn't ask for any particular lease
.\"O length, and a maximum lease length.   These are specified as clauses
.\"O to the subnet command:
.\"O .nf
.\"O .sp 1
.\"O 	subnet 239.252.197.0 netmask 255.255.255.0 {
.\"O 	  range 239.252.197.10 239.252.197.107;
.\"O 	  default-lease-time 600;
.\"O 	  max-lease-time 7200;
.\"O 	}
.\"O .fi
.\"O .PP
.\"O This particular subnet declaration specifies a default lease time of
.\"O 600 seconds (ten minutes), and a maximum lease time of 7200 seconds
.\"O (two hours).   Other common values would be 86400 (one day), 604800
.\"O (one week) and 2592000 (30 days).
.\"O .PP
.\"O Each subnet need not have the same lease\(emin the case of an office
.\"O environment and a manufacturing environment served by the same DHCP
.\"O server, it might make sense to have widely disparate values for
.\"O default and maximum lease times on each subnet.
.PP
.SH 貸し出し期間
DHCP 貸し出し期間は、0 秒から無限までの、ほとんどあらゆる長さにできます。
あるサブネットに対して、あるいは導入されたシステムに対して、
どのような長さが良いかは、サービスを受けるホストの種類によって異なります。
.PP
例えば、システムが時々追加/削除されるが、
移動することはあまりないようなオフィス環境では、
貸し出し期間は 1 か月より長くしておくのが良いでしょう。
組み立てフロアの最終テスト環境では、
最大貸し出し期間は 30 分程度
(すなわち出荷前の簡単なネットワーク動作確認テストに充分なくらい)
にしておくのがいいでしょう。
.PP
貸し出し期間を 2 種類指定することもできます。
クライアントが特に貸し出し期間に関する要望を送ってこなかった場合の
デフォルトの期間と、最大貸し出し期間とです。
これらは subnet コマンドの内部項目として指定します。
.nf
.sp 1
	subnet 239.252.197.0 netmask 255.255.255.0 {
	  range 239.252.197.10 239.252.197.107;
	  default-lease-time 600;
	  max-lease-time 7200;
	}
.fi
.PP
この subnet 宣言では、デフォルトの貸し出し期間を 600 秒 (10 分)、
最大貸し出し期間を 7200 秒 (2 時間) にしてあります。
他に良く使われる値としては、86400 (1 日)、604800 (1 週間)、
2592000 (30 日) などがあります。
.PP
各サブネットに別々の貸し出し期間を指定してもかまいません。
オフィス環境と組み立て環境とを
同じ DHCP サーバにサービスさせるような場合には、
各サブネットのデフォルト/最大貸し出し期間それぞれに、
大きく異なる値を指定するのが良いこともあるでしょう。
.\"O .SH BOOTP Support
.\"O Each BOOTP client must be explicitly declared in the dhcpd.conf
.\"O file.   A very basic client declaration will specify the client
.\"O network interface's hardware address and the IP address to assign to
.\"O that client.   If the client needs to be able to load a boot file from
.\"O the server, that file's name must be specified.   A simple bootp
.\"O client declaration might look like this:
.SH BOOTP サポート
BOOTP クライアントは、それぞれ dhcpd.conf ファイルに
明示的に宣言しておく必要があります。
もっとも基本的な宣言では、
クライアントのネットワークインターフェースのハードウェアアドレスと、
そのクライアントに割り当てる IP アドレスとを指定します。
クライアントがサーバから起動ファイルをロードできるようにしたい場合は、
そのファイル名も指定しなければなりません。
簡単な bootp クライアント宣言は次のようになります。
.\"O .nf
.\"O .sp 1
.\"O 	host haagen {
.\"O 	  hardware ethernet 08:00:2b:4c:59:23;
.\"O 	  fixed-address 239.252.197.9;
.\"O 	  filename "/tftpboot/haagen.boot";
.\"O 	}
.\"O .fi
.nf
.sp 1
	host haagen {
	  hardware ethernet 08:00:2b:4c:59:23;
	  fixed-address 239.252.197.9;
	  filename "/tftpboot/haagen.boot";
	}
.fi
.\"O .SH Options
.\"O DHCP (and also BOOTP with Vendor Extensions) provide a mechanism
.\"O whereby the server can provide the client with information about how
.\"O to configure its network interface (e.g., subnet mask), and also how
.\"O the client can access various network services (e.g., DNS, IP routers,
.\"O and so on).
.\"O .PP
.\"O These options can be specified on a per-subnet basis, and, for BOOTP
.\"O clients, also on a per-client basis.   In the event that a BOOTP
.\"O client declaration specifies options that are also specified in its
.\"O subnet declaration, the options specified in the client declaration
.\"O take precedence.   A reasonably complete DHCP configuration might
.\"O look something like this:
.SH オプション
DHCP では (およびベンダによる拡張のなされた BOOTP でも)、
クライアントでのネットワークインターフェースの設定情報
(例えばサブネットマスクなど) とか、
クライアントからネットワークサービス (DNS や IP ルータなど)
にアクセスするための情報などを、サーバから提供する機構を備えています。
.PP
これらのオプションはサブネット単位で指定できます。
BOOTP クライアントに対しては、クライアント単位でも指定できます。
BOOTP クライアント宣言でオプション指定がされていて、
かつそのサブネット宣言でもオプション指定がされている場合は、
クライアント宣言でのオプションが優先されます。
ほぼ完全な DHCP 設定は、次のようになるでしょう。
.\"O .nf
.\"O .sp 1
.\"O 	subnet 239.252.197.0 netmask 255.255.255.0 {
.\"O 	  range 239.252.197.10 239.252.197.250;
.\"O 	  default-lease-time 600 max-lease-time 7200;
.\"O 	  option subnet-mask 255.255.255.0;
.\"O 	  option broadcast-address 239.252.197.255;
.\"O 	  option routers 239.252.197.1;
.\"O 	  option domain-name-servers 239.252.197.2, 239.252.197.3;
.\"O 	  option domain-name "isc.org";
.\"O 	}
.\"O .fi
.nf
.sp 1
	subnet 239.252.197.0 netmask 255.255.255.0 {
	  range 239.252.197.10 239.252.197.250;
	  default-lease-time 600 max-lease-time 7200;
	  option subnet-mask 255.255.255.0;
	  option broadcast-address 239.252.197.255;
	  option routers 239.252.197.1;
	  option domain-name-servers 239.252.197.2, 239.252.197.3;
	  option domain-name "isc.org";
	}
.fi
.\"O .PP
.\"O A bootp host on that subnet that needs to be in a different domain and
.\"O use a different name server might be declared as follows:
.\"O .nf
.\"O .sp 1
.\"O 	host haagen {
.\"O 	  hardware ethernet 08:00:2b:4c:59:23;
.\"O 	  fixed-address 239.252.197.9;
.\"O 	  filename "/tftpboot/haagen.boot";
.\"O 	  option domain-name-servers 192.5.5.1;
.\"O 	  option domain-name "vix.com";
.\"O 	}
.\"O .fi
.nf
.sp 1
	host haagen {
	  hardware ethernet 08:00:2b:4c:59:23;
	  fixed-address 239.252.197.9;
	  filename "/tftpboot/haagen.boot";
	  option domain-name-servers 192.5.5.1;
	  option domain-name "vix.com";
	}
.fi
.\"O .PP
.\"O A more complete description of the dhcpd.conf file syntax is provided
.\"O in dhcpd.conf(5).
.PP
dhcpd.conf ファイルの文法に関するより完全な記述は、
.BR dhcpd.conf (5)
で提供されています。
.\" 
.\" Senda ここから後全部。
.\"O .SH OMAPI
.SH OMAPI
.\"O The DHCP server provides the capability to modify some of its
.\"O configuration while it is running, without stopping it, 
.\"O modifying its database files, and restarting it.  
.\"O This capability is currently provided using OMAPI
.\"O  - an API for manipulating remote objects.  
.\"O OMAPI clients connect to the server using TCP/IP, 
.\"O authenticate, and can then
.\"O examine the server's current status and make changes to it.
DHCP サーバーは、停止させるとき以外であれば、起動中や
データベースファイルを修正中、再起動中に
設定のいくつかを変更することが可能です。
この能力は OMAPI を使用して、現在提供されます。
― リモートのオブジェクトを操作するためのAPIです。
OMAPI クライアントは TCP/IP を使用し、サーバーに接続、認証して、
サーバーのステータスを調査したり変更を加えたりすることができます。
.\"O .PP
.\"O Rather than implementing the underlying OMAPI protocol directly, 
.\"O user programs should use the dhcpctl API or OMAPI itself.
.\"O Dhcpctl is a wrapper that handles some of the 
.\"O housekeeping chores that OMAPI does not do automatically. 
.\"O Dhcpctl and OMAPI are documented in \fBdhcpctl(3)\fR and \fBomapi(3)\fR.
.PP
基礎となっている OMAPI プロトコルを直接実行するのではなく、
ユーザのプログラムはむしろ dhcpctl API か OMAPI 自体を使用するべきです。
Dhcpctl は OMAPI 自動に行わないハウスキーピングの仕事のいくつかを
取り扱うラッパーです。
Dhcpctl と OMAPI は、\fBdhcpctl (3)\fR および \fBomapi (3)\fR の中でドキュメント化されています。
.\"O .PP
.\"O OMAPI exports objects, which can then be examined and modified.   
.\"O The DHCP server exports the following objects: 
.\"O lease, host, failover-state and group.   
.\"O Each object has a number of methods that are provided:
.\"O lookup, create, and destroy.   
.\"O In addition, it is possible to look at attributes 
.\"O that are stored on objects, and in some cases to modify those attributes.
.PP
OMAPI は、オブジェクトをエクスポートします。そして、それらを
検討、修正することができます。
DHCP サーバーは次のオブジェクトをエクスポートします:
lease, host, failover-state そして group。
各オブジェクトは、提供されたいくつかのメソッドを持っています:
lookup、create、そして destroy。
さらに、オブジェクトに備えられた属性を参照することができ、
ときには、それらの属性を修正することもできます。
.\"O .SH THE LEASE OBJECT
.SH Leases オブジェクト
.\"O Leases can't currently be created or destroyed, 
.\"O but they can be looked up to examine and modify their state.
Leases は現在作成したり、破壊したりすることができませんが、
それらの状態を調査、修正するためにそれらを調べることができます。
.\"O .PP
.\"O Leases have the following attributes:
.PP
Leases は次の属性を持っています。
.\"O .PP
.\"O .B state \fIinteger\fR lookup, examine
.PP
.B state \fIinteger\fR lookup, examine
.\"O .RS 0.5i
.\"O .nf
.\"O 1 = free
.\"O 2 = active
.\"O 3 = expired
.\"O 4 = released
.\"O 5 = abandoned
.\"O 6 = reset
.\"O 7 = backup
.\"O 8 = reserved
.\"O 9 = bootp
.\"O .fi
.\"O .RE
.RS 0.5i
.nf
1 = free
2 = active
3 = expired
4 = released
5 = abandoned
6 = reset
7 = backup
8 = reserved
9 = bootp
.fi
.RE
.\"O .PP
.\"O .B ip-address \fIdata\fR lookup, examine
.PP
.B ip-address \fIdata\fR lookup, examine
.\"O .RS 0.5i
.\"O The IP address of the lease.
.\"O .RE
.RS 0.5i
lease の IP アドレス。
.RE
.\"O .PP
.\"O .B dhcp-client-identifier \fIdata\fR lookup, examine, update
.PP
.B dhcp-client-identifier \fIdata\fR lookup, examine, update
.\"O .RS 0.5i
.\"O The client identifier that the client used when it acquired the lease.
.\"O Not all clients send client identifiers, so this may be empty.
.RS 0.5i
リースを得た時、クライアントが使用したクライアント識別子。
すべてのクライアントがクライアント識別子を送るとは限りません。
したがって、これは空かもしれません。
.\"O .RE
.\"O .PP
.\"O .B client-hostname \fIdata\fR examine, update
.\"O .RS 0.5i
.\"O The value the client sent in the host-name option.
.RE
.PP
.B client-hostname \fIdata\fR examine, update
.RS 0.5i
クライアントがホスト名オプションの中で送った値。
.\"O .RE
.\"O .PP
.\"O .B host \fIhandle\fR examine
.\"O .RS 0.5i
.\"O the host declaration associated with this lease, if any.
.RE
.PP
.B host \fIhandle\fR examine
.RS 0.5i
もしあれば、このリースと提携したホスト宣言。
.\"O .RE
.\"O .PP
.\"O .B subnet \fIhandle\fR examine
.\"O .RS 0.5i
.\"O the subnet object associated with this lease (the subnet object is not
.\"O currently supported).
.RE
.PP
.B subnet \fIhandle\fR examine
.RS 0.5i
the subnet object associated with this lease (the subnet object is not
currently supported).
このリースと提携したサブネット・オブジェクト
(サブ・ネットオブジェクトは現在サポートされていません)。
.\"O .RE
.\"O .PP
.\"O .B pool \fIhandle\fR examine
.\"O .RS 0.5i
.\"O the pool object associted with this lease (the pool object is not
.\"O currently supported).
.RE
.PP
.B pool \fIhandle\fR examine
.RS 0.5i
the pool object associted with this lease (the pool object is not
currently supported).
このリースと提携したプール・オブジェクト
(プール・オブジェクトは現在サポートされていません)。
.\"O .RE
.\"O .PP
.\"O .B billing-class \fIhandle\fR examine
.\"O .RS 0.5i
.\"O the handle to the class to which this lease is currently billed, if
.\"O any (the class object is not currently supported).
.RE
.PP
.B billing-class \fIhandle\fR examine
.RS 0.5i
もしあれば、現在請求されているクラスへのハンドル
(クラス・オブジェクトは現在サポートされていません)。
.\"O .RE
.\"O .PP
.\"O .B hardware-address \fIdata\fR examine, update
.\"O .RS 0.5i
.\"O the hardware address (chaddr) field sent by the client when it
.\"O acquired its lease.
.RE
.PP
.B hardware-address \fIdata\fR examine, update
.RS 0.5i
そのリースを得た時クライアントによって送られた
ハードウェアアドレス (chaddr) フィールド。
.\"O .RE
.\"O .PP
.\"O .B hardware-type \fIinteger\fR examine, update
.\"O .RS 0.5i
.\"O the type of the network interface that the client reported when it
.\"O acquired its lease.
.RE
.PP
.B hardware-type \fIinteger\fR examine, update
.RS 0.5i
クライアントがリースで取得したとき報告するネットワークインターフェースの型。
.\"O .RE
.\"O .PP
.\"O .B ends \fItime\fR examine
.\"O .RS 0.5i
.\"O the time when the lease's current state ends, as understood by the
.\"O client.
.RE
.PP
.B ends \fItime\fR examine
.RS 0.5i
クライアントに解釈される現在のリースの終了の時間。
.\"O .RE
.\"O .PP
.\"O .B tstp \fItime\fR examine
.\"O .RS 0.5i
.\"O the time when the lease's current state ends, as understood by the
.\"O server.
.RE
.PP
.B tstp \fItime\fR examine
.RS 0.5i
サーバに解釈される現在のリースの終了の時間。
.\"O .RE
.\"O .B tsfp \fItime\fR examine
.\"O .RS 0.5i
.\"O the time when the lease's current state ends, as understood by the
.\"O failover peer (if there is no failover peer, this value is
.\"O undefined).
.RE
.B tsfp \fItime\fR examine
.RS 0.5i
failover peerに解釈される現在のリースの終了の時間
(failover peer がなければ、この値は定義されません)。
.\"O .RE
.\"O .PP
.\"O .B cltt \fItime\fR examine
.\"O .RS 0.5i
.\"O The time of the last transaction with the client on this lease.
.RE
.PP
.B cltt \fItime\fR examine
.RS 0.5i
このリース中にクライアントと最後にやり取りした時間。
.\"O .RE
.\"O .SH THE HOST OBJECT
.RE
.SH HOST オブジェクト
.\"O Hosts can be created, destroyed, looked up, examined and modified.
.\"O If a host declaration is created or deleted using OMAPI, that
.\"O information will be recorded in the dhcpd.leases file.   
.\"O It is permissible to delete host declarations that are declared in the
.\"O dhcpd.conf file.
ホストは作成、破壊、診断、調査、修正することができます。
OMAPI を使用して、ホスト宣言が作成または削除される場合、
その情報は dhcpd.leases ファイルに記録されます。
dhcpd.conf ファイルの中で宣言されるホスト宣言を削除することも可能です。
.\"O .PP
.\"O Hosts have the following attributes:
.PP
Hosts は次の属性を持っています:
.\"O .PP
.\"O .B name \fIdata\fR lookup, examine, modify
.\"O .RS 0.5i
.\"O the name of the host declaration.   
.\"O This name must be unique among all host declarations.
.PP
.B name \fIdata\fR lookup, examine, modify
.RS 0.5i
ホスト宣言の名前。
この名前はすべてのホスト宣言においてユニークでなければなりません。
.\"O .RE
.\"O .PP
.\"O .B group \fIhandle\fR examine, modify
.\"O .RS 0.5i
.\"O the named group associated with the host declaration, if there is one.
.RE
.PP
.B group \fIhandle\fR examine, modify
.RS 0.5i
もし、存在していれば、宣言と提携しました指定されたグループ。
.\"O .RE
.\"O .PP
.\"O .B hardware-address \fIdata\fR lookup, examine, modify
.\"O .RS 0.5i
.\"O the link-layer address that will be used to match the client, if any.
.\"O Only valid if hardware-type is also present.
.RE
.PP
.B hardware-address \fIdata\fR lookup, examine, modify
.RS 0.5i
もしあれば、クライアントと一致させるために使用されるリンク層アドレス。
これは、hardware-type が存在する場合においてのみ有効です。
.\"O .RE
.\"O .PP
.\"O .B hardware-type \fIinteger\fR lookup, examine, modify
.\"O .RS 0.5i
.\"O the type of the network interface that will be used to match the
.\"O client, if any.   Only valid if hardware-address is also present.
.RE
.PP
.B hardware-type \fIinteger\fR lookup, examine, modify
.RS 0.5i
もしあればクライアントと
一致するために使用されるネットワークインターフェイスのタイプ。
これは、 hardware-address が存在する場合においてのみ有効です。
.\"O .RE
.\"O .PP
.\"O .B dhcp-client-identifier \fIdata\fR lookup, examine, modify
.\"O .RS 0.5i
.\"O the dhcp-client-identifier option that will be used to match the
.\"O client, if any.
.RE
.PP
.B dhcp-client-identifier \fIdata\fR lookup, examine, modify
.RS 0.5i
もしあればクライアントと一致するために使用される、
dhcp-client-identifier オプション。
.\"O .RE
.\"O .PP
.\"O .B ip-address \fIdata\fR examine, modify
.\"O .RS 0.5i
.\"O a fixed IP address which is reserved for a DHCP client that matches
.\"O this host declaration.   
.\"O The IP address will only be assigned to the client 
.\"O if it is valid  for the network segment to which the client is connected.
.RE
.PP
.B ip-address \fIdata\fR examine, modify
.RS 0.5i
このホスト宣言と一致する DHCP クライアントのために確保されている
固定 IP アドレス。
クライアントを接続したネットワークセグメントと一致したとき、
IP アドレスがクライアントに割り当てられる。
.\"O .RE
.\"O .PP
.\"O .B statements \fIdata\fR modify
.\"O .RS 0.5i
.\"O a list of statements in the format of the dhcpd.conf file 
.\"O that will be executed whenever a message from the client is being processed.
.RE
.PP
.B statements \fIdata\fR modify
.RS 0.5i
クライアントからのメッセージが処理されているする時はいつでも実行される
 dhcpd.conf ファイルのフォーマットの中の命令文のリスト。
.\"O .RE
.\"O .PP
.\"O .B known \fIinteger\fR examine, modify
.\"O .RS 0.5i
.\"O if nonzero, indicates that a client matching this host declaration
.\"O will be treated as \fIknown\fR in pool permit lists.   If zero, the
.\"O client will not be treated as known.
.RE
.PP
.B known \fIinteger\fR examine, modify
.RS 0.5i
もしゼロでなければ、ホスト宣言と一致するクライアントが
プール許可リストの \fIknown\fR として扱われる扱われることを表します。
もしゼロなら、known としてクライアントは扱われません。
.\"O .RE
.\"O .SH THE GROUP OBJECT
.RE
.SH GROUP オブジェクト
.\"O Named groups can be created, destroyed, looked up, examined and modified.  
.\"O If a group declaration is created or deleted using OMAPI,
.\"O that information will be recorded in the dhcpd.leases file.  
.\"O It is permissible to delete group declarations 
.\"O that are declared in the dhcpd.conf file.
Groups は、作成、破壊、検査、修正、および調査することができます。
OMAPI を使用して、Groups 宣言が作成されるか削除される場合、
その情報は dhcpd.leases ファイルに記録されます。
dhcpd.conf ファイルの中で宣言される Groups 宣言を削除することも可能です。
.\"O .PP
.\"O Named groups currently can only be associated with
.\"O hosts - this allows one set of statements to be efficiently attached
.\"O to more than one host declaration.
現在 指定された groups は、ホストと関連づけられることのみ可能です。 
- これによって、ステートメントの1セットが
1つ以上のホスト宣言に効率よくつけられることを可能にします。
.\"O .PP
.\"O Groups have the following attributes:
Groups は次の属性を持っています:
.\"O .PP
.\"O .B name \fIdata\fR
.\"O .RS 0.5i
.\"O the name of the group.  All groups that are created using OMAPI must
.\"O have names, and the names must be unique among all groups.
.PP
.B name \fIdata\fR
.RS 0.5i
グループの名前。
OMAPI を使用して作られるグループはすべて名前を持っていなければなりません。
また、名前はすべてのグループ中でユニークである必要があります。
.\"O .RE
.\"O .PP
.\"O .B statements \fIdata\fR
.\"O .RS 0.5i
.\"O a list of statements in the format of the dhcpd.conf file that will be
.\"O executed whenever a message from a client whose host declaration
.\"O references this group is processed.
.RE
.PP
.B statements \fIdata\fR
.RS 0.5i
そのホスト宣言がこのグループを参照している
クライアントからのメッセージが処理されているする時はいつでも
実行される dhcpd.conf ファイルのフォーマットでの命令文のリスト。
.\"O .RE
.\"O .SH THE CONTROL OBJECT
.RE
.SH CONTROL オブジェクト
.\"O The control object allows you to shut the server down.   
.\"O If the server is doing failover with another peer, 
.\"O it will make a clean transition into the shutdown state 
.\"O and notify its peer, so that the peer can go into partner down, 
.\"O and then record the "recover" state in the lease file so that 
.\"O when the server is restarted, 
.\"O it will automatically resynchronize with its peer.
CONTROL オブジェクトは、サーバーをシャットダウンすることを可能にします。
サーバーが他の peer とフェイルオーバーを行っている場合、
シャットダウン状態に新たに移行し、そのことを peer に知らせ、
それによって peer は仲間が落ちたことを知ることになる。
そして、サーバが再起動したとき、peer は lease ファイルに「recover」状態を
記録する。
サーバーは再び自動的にその peer と同時性を持つことになる。
.\"O .PP
.\"O On shutdown the server will also attempt to cleanly shut down all
.\"O OMAPI connections.  
.\"O If these connections do not go down cleanly after
.\"O five seconds, they are shut down pre-emptively.  
.\"O It can take as much as 25 seconds from the beginning 
.\"O of the shutdown process to the time that the server actually exits.
.PP
シャットダウンにおいては、サーバーが、クリーンに OMAPI 接続を
すべてシャットダウンしようという試みも行われます。
これらの接続が 5 秒経ってもクリーンにダウンしない場合、
それらは先行してシャットダウンされます。
シャットダウン・プロセスの始めからサーバーが実際に抜けるまでには
 25 秒かかります。
.\"O .PP
.\"O To shut the server down, open its control object and set the state
.\"O attribute to 2.
.PP
サーバーをシャットダウンするためには、
その CONTROL オブジェクトを開いて、2にステータス属性をセットしてください。
.\"O .SH THE FAILOVER-STATE OBJECT
.SH FAILOVER-STATE オブジェクト
.\"O The failover-state object is the object that tracks the state of the
.\"O failover protocol as it is being managed for a given failover peer.
.\"O 
.\"O The failover object has the following attributes (please see
.\"O .B dhcpd.conf (5)
.\"O for explanations about what these attributes mean):
failover-state オブジェクトは、
それが、与えられたフェイルオーバー peer のために管理されているとき、
フェイルオーバープロトコルの状態を追跡するオブジェクトです。
フェイルオーバーオブジェクトは次の属性を持っています
(これらの属性が何を意味するかについては
.B dhcpd.conf (5)
を参照してください):
.\"O .PP
.\"O .B name \fIdata\fR examine
.\"O .RS 0.5i
.\"O Indicates the name of the failover peer relationship, as described in
.\"O the server's \fBdhcpd.conf\fR file.
.PP
.B name \fIdata\fR examine
.RS 0.5i
サーバーの \fBdhcpd.conf\fR ファイルに記述されるように、
フェイルオーバー peer 関係の名前を表します。
.\"O .RE
.\"O .PP
.\"O .B partner-address \fIdata\fR examine
.\"O .RS 0.5i
.\"O Indicates the failover partner's IP address.
.RE
.PP
.B partner-address \fIdata\fR examine
.RS 0.5i
フェイルオーバーパートナーの IP アドレスを表します。
.\"O .RE
.\"O .PP
.\"O .B local-address \fIdata\fR examine
.\"O .RS 0.5i
.\"O Indicates the IP address that is being used by the DHCP server for
.\"O this failover pair.
.RE
.PP
.B local-address \fIdata\fR examine
.RS 0.5i
この フェイルオーバーペアのために DHCP サーバーによって使用
されている IP アドレスを表します。
.\"O .RE
.\"O .PP
.\"O .B partner-port \fIdata\fR examine
.\"O .RS 0.5i
.\"O Indicates the TCP port on which the failover partner is listening for
.\"O failover protocol connections.
.RE
.PP
.B partner-port \fIdata\fR examine
.RS 0.5i
フェイルオーバーパートナーがフェイルオーバープロトコルを
listen している TCP ポートを表します。
.\"O .RE
.\"O .PP
.\"O .B local-port \fIdata\fR examine
.\"O .RS 0.5i
.\"O Indicates the TCP port on which the DHCP server is listening for
.\"O failover protocol connections for this failover pair.
.RE
.PP
.B local-port \fIdata\fR examine
.RS 0.5i
このフェイルオーバー peer とのフェイルオーバープロトコル
接続のために DHCP サーバーが listen している TCP ポートを表します。
.\"O .RE
.\"O .PP
.\"O .B max-outstanding-updates \fIinteger\fR examine
.\"O .RS 0.5i
.\"O Indicates the number of updates that can be outstanding and
.\"O unacknowledged at any given time, 
.\"O in this failover relationship.
.RE
.PP
.B max-outstanding-updates \fIinteger\fR examine
.RS 0.5i
このフェイルオーバー関係の中で、
どの時間にも処理され得ない、かつ、認められ得ない更新の数を表します。
.\"O .RE
.\"O .PP
.\"O .B mclt \fIinteger\fR examine
.\"O .RS 0.5i
.\"O Indicates the maximum client lead time in this failover relationship.
.RE
.PP
.B mclt \fIinteger\fR examine
.RS 0.5i
このフェイルオーバー関係中の最長のクライアント lead time を表します。
.\"O .RE
.\"O .PP
.\"O .B load-balance-max-secs \fIinteger\fR examine
.\"O .RS 0.5i
.\"O Indicates the maximum value for the secs field in a client request
.\"O before load balancing is bypassed.
.RE
.PP
.B load-balance-max-secs \fIinteger\fR examine
.RS 0.5i
ロード・バランシングが回避される前に、
クライアントリクエストでの secs フィールドにたいする最大値を表します。
.\"O .RE
.\"O .PP
.\"O .B load-balance-hba \fIdata\fR examine
.\"O .RS 0.5i
.\"O Indicates the load balancing hash bucket array for this failover
.\"O relationship.
.RE
.PP
.B load-balance-hba \fIdata\fR examine
.RS 0.5i
このフェイルオーバー関係に対する
ロードバランシング hash bucket 配列を表します。
.\"O .RE
.\"O .PP
.\"O .B local-state \fIinteger\fR examine, modify
.\"O .RS 0.5i
.\"O Indicates the present state of the DHCP server in this failover
.\"O relationship.   Possible values for state are:
.RE
.PP
.B local-state \fIinteger\fR examine, modify
.RS 0.5i
このフェイルオーバー関係中の DHCP サーバーの状態を表します。
状態に対する指定可能な値は次の通りです:
.\"O .RE
.\"O .RS 1i
.\"O .PP
.\"O .nf
.\"O 1  - partner down
.\"O 2  - normal
.\"O 3  - communications interrupted
.\"O 4  - resolution interrupted
.\"O 5  - potential conflict
.\"O 6  - recover
.\"O 7  - recover done
.\"O 8  - shutdown
.\"O 9  - paused
.\"O 10 - startup
.\"O 11 - recover wait
.\"O .fi
.RE
.RS 1i
.PP
.nf
1  - パートナーがダウン
2  - 正常
3  - コミュニケーションが中断された
4  - 解決が中断された
5  - 潜在的な衝突
6  - 回復
7  - 回復完了
8  - シャットダウン
9  - 休止
10  - 開始
11  - 回復を待機している
.fi
.\"O .RE
.\"O .PP
.\"O .RS 0.5i
.RE
.PP
.RS 0.5i
.\"O In general it is not a good idea to make changes to this state.
一般に、この状態を変更することはよい考えではありません。
.\"O However, in the case that the failover partner is known to be down, 
.\"O it can be useful to set the DHCP server's failover state to partner
.\"O down.   
しかしながら、フェイルオーバーパートナーがダウンしていると分かっている時に、
DHCP サーバーのフェイルオーバー状態をパートナーがダウンへセットすることは
有用かもしれません。
.\"O At this point the DHCP server will take over service of the
.\"O failover partner's leases as soon as possible, 
.\"O and will give out normal leases, not leases that are restricted by MCLT.
その時点で、
DHCP サーバーが、フェイルオーバーパートナーの
リースのサービスをできるだけ早く引き継ぎ、
MCLT によって制限されるリースではなく正常なリースを配付するでしょう。
.\"O If you do put the DHCP server into the partner-down 
.\"O when the other DHCP server is not in the partner-down state, 
.\"O but is not reachable, 
.\"O IP address assignment conflicts are possible, even likely.   
別の DHCP サーバーがパートナーダウン状態でなく、到達可能でない場合、
DHCP サーバーをパートナーダウンの状態にすると、
IP アドレス割り当て競合を起すことが恐らく可能です。
.\"O Once a server has been put into partner-down mode, 
.\"O its failover partner must not be brought back online 
.\"O until communication is possible between the two servers.
一旦サーバーがパートナーダウンモードになったならば、
 2 つのサーバー間でコミュニケーションが可能になるまで、
そのフェイルオーバーパートナーはオンラインに戻されてはなりません。
.\"O .RE
.\"O .PP
.\"O .B partner-state \fIinteger\fR examine
.\"O .RS 0.5i
.\"O Indicates the present state of the failover partner.
.RE
.PP
.B partner-state \fIinteger\fR examine
.RS 0.5i
フェイルオーバーパートナーの状態を表します。
.\"O .RE
.\"O .PP
.\"O .B local-stos \fIinteger\fR examine
.\"O .RS 0.5i
.\"O Indicates the time at which the DHCP server entered its present state
.\"O in this failover relationship.
.RE
.PP
.B local-stos \fIinteger\fR examine
.RS 0.5i
このフェイルオーバー関係の中でDHCP サーバーが
今の状態に入った時間を表します。
.\"O .RE
.\"O .PP
.\"O .B partner-stos \fIinteger\fR examine
.\"O .RS 0.5i
.\"O Indicates the time at which the failover partner entered its present state.
.RE
.PP
.B partner-stos \fIinteger\fR examine
.RS 0.5i
フェイルオーバーパートナーが今の状態に入った時間を表します。
.\"O .RE
.\"O .PP
.\"O .B hierarchy \fIinteger\fR examine
.\"O .RS 0.5i
.\"O Indicates whether the DHCP server is primary (0) or secondary (1) in
.\"O this failover relationship.
.RE
.PP
.B hierarchy \fIinteger\fR examine
.RS 0.5i
DHCP サーバーがこのフェイルオーバー関係中の
プライマリ (0) かセカンダリ (1) かどうか表します。
.\"O .RE
.\"O .PP
.\"O .B last-packet-sent \fIinteger\fR examine
.\"O .RS 0.5i
.\"O Indicates the time at which the most recent failover packet was sent
.\"O by this DHCP server to its failover partner.
.RE
.PP
.B last-packet-sent \fIinteger\fR examine
.RS 0.5i
この DHCP サーバーからそのフェイルオーバーパートナーのもとへ
フェイルオーバーパケットが送られた最も最近の時間を表します。
.\"O .RE
.\"O .PP
.\"O .B last-timestamp-received \fIinteger\fR examine
.\"O .RS 0.5i
.\"O Indicates the timestamp that was on the failover message most recently
.\"O received from the failover partner.
.RE
.PP
.B last-timestamp-received \fIinteger\fR examine
.RS 0.5i
フェイルオーバーパートナーから最も最近受け取た
フェイルオーバーメッセージ上にあったタイムスタンプを表します。
.\"O .RE
.\"O .PP
.\"O .B skew \fIinteger\fR examine
.\"O .RS 0.5i
.\"O Indicates the skew between the failover partner's clock and this DHCP
.\"O server's clock
.RE
.PP
.B skew \fIinteger\fR examine
.RS 0.5i
フェイルオーバーパートナーの時計と
この DHCP サーバーの時計の間のズレを表します。
.\"O .RE
.\"O .PP
.\"O .B max-response-delay \fIinteger\fR examine
.\"O .RS 0.5i
.\"O Indicates the time in seconds after which,
.\"O if no message is received from the failover partner, 
.\"O the partner is assumed to be out of communication.
.RE
.PP
.B max-response-delay \fIinteger\fR examine
.RS 0.5i
もしメッセージがフェイルオーバーパートナーから受け取られない場合、
その時間の後、パートナーがコミュニケーションから外れたと思われる
時間を秒で表します。
.\"O .RE
.\"O .PP
.\"O .B cur-unacked-updates \fIinteger\fR examine
.\"O .RS 0.5i
.\"O Indicates the number of update messages 
.\"O that have been received from the failover partner but not yet processed.
.RE
.PP
.B cur-unacked-updates \fIinteger\fR examine
.RS 0.5i
フェイルオーバーパートナーから受け取られた
まだ処理されていないアップデートメッセージの数を表します。
.\"O .RE
.\"O .SH FILES
.\"O .B ETCDIR/dhcpd.conf, DBDIR/dhcpd.leases, RUNDIR/dhcpd.pid,
.\"O .B DBDIR/dhcpd.leases~.
.RE
.SH ファイル
.B ETCDIR/dhcpd.conf, DBDIR/dhcpd.leases, RUNDIR/dhcpd.pid,
.B DBDIR/dhcpd.leases~.
.\"O .SH SEE ALSO
.\"O dhclient(8), dhcrelay(8), dhcpd.conf(5), dhcpd.leases(5)
.SH 関連項目
dhclient(8), dhcrelay(8), dhcpd.conf(5), dhcpd.leases(5).
.\"O .SH AUTHOR
.SH 著者
.\"O .B dhcpd(8)
.B dhcpd(8)
.\"O was originally written by Ted Lemon under a contract with Vixie Labs.
.\"O Funding for this project was provided by the Internet Software
.\"O Consortium.   
.\"O Version 3 of the DHCP server was funded by Nominum, Inc.
.\"O Information about the Internet Software Consortium is available at
.\"O .B http://www.isc.org/isc\fR.
.\"O Information about Nominum and support contracts for DHCP and BIND can
.\"O be found at \fBhttp://www.nominum.com\fR.
は、Vixie Labs との契約の下の Ted Lemon によってもとは書かれました。
このプロジェクトの資金は Internet Software Consortium によって提供されました。
資金は、Nominum, Inc. によってDHCPサーバーのバージョン 3 に提供されました。
Internet Software Consortium に関する情報は
.B http://www.isc.org/isc\fR 
で利用可能です。
DHCP と BIND の Nominum と
支援の契約に関する情報は
\fBhttp://www.nominum.com\fR で見つけることができます。
