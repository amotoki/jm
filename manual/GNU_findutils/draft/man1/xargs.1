.\"    This file documents the GNU utilities for finding files that match
.\" certain criteria and performing various operations on them.
.\"
.\"    Copyright (C) 1994 Free Software Foundation, Inc.
.\"
.\"    Permission is granted to make and distribute verbatim copies of this
.\" manual provided the copyright notice and this permission notice are
.\" preserved on all copies.
.\"
.\"    Permission is granted to copy and distribute modified versions of
.\" this manual under the conditions for verbatim copying, provided that
.\" the entire resulting derived work is distributed under the terms of a
.\" permission notice identical to this one.
.\"
.\"    Permission is granted to copy and distribute translations of this
.\" manual into another language, under the above conditions for modified
.\" versions, except that this permission notice may be stated in a
.\" translation approved by the Foundation.
.\"
.\" Japanese Version Copyright (c) 1997 NAKANO Takeo
.\"   and 2010 Chonan Yoichi,
.\"         all rights reserved.
.\" Translated Thu May 11 1997 by NAKANO Takeo <nakano@apm.seikei.ac.jp>
.\" Modified Fri 14 Aug 1998 by NAKANO Takeo -- bug fixes.
.\" Updated and modified (findutils-4.4.2) Sun Dec 26 17:04:05 JST 2010
.\"         by Chonan Yoichi <cyoichi@maple.ocn.ne.jp>
.\"
.TH XARGS 1 \" -*- nroff -*-
.\"O .SH NAME
.SH 名前
.\"O xargs \- build and execute command lines from standard input
xargs \- 標準入力を読み込んでコマンドラインを作成し、それを実行する
.\"O .SH SYNOPSIS
.SH 書式
.B xargs
.nh
[\fB\-0prtx\fR] 
[\fB\-E \fIeof-str\fR] 
[\fB\-e\fR[\fIeof-str\fR]]
[\fB\-\-eof\fR[=\fIeof-str\fR]] 
[\fB\-\-null\fR] 
[\fB\-d \fIdelimiter\fR] 
[\fB\-\-delimiter \fIdelimiter\fR] 
[\fB\-I \fIreplace-str\fR] 
[\fB\-i\fR[\fIreplace-str\fR]] 
[\fB\-\-replace\fR[=\fIreplace-str\fR]] 
[\fB\-l\fR[\fImax-lines\fR]] 
[\fB\-L \fImax-lines\fR] 
[\fB\-\-max\-lines\fR[=\fImax-lines\fR]] 
[\fB\-n \fImax-args\fR] 
[\fB\-\-max\-args\fR=\fImax-args\fR] 
[\fB\-s \fImax-chars\fR] 
[\fB\-\-max\-chars\fR=\fImax-chars\fR] 
[\fB\-P \fImax-procs\fR] 
[\fB\-\-max\-procs\fR=\fImax-procs\fR]
[\fB\-\-interactive\fR] 
[\fB\-\-verbose\fR] 
[\fB\-\-exit\fR] 
[\fB\-\-no\-run\-if\-empty\fR] 
[\fB\-\-arg\-file\fR=\fIfile\fR] 
[\fB\-\-show\-limits\fR] 
[\fB\-\-version\fR] 
[\fB\-\-help\fR] 
[\fIcommand\fR [\fIinitial-arguments\fR]]
.hy
.\"O .SH DESCRIPTION
.SH 説明
.\"O This manual page
.\"O documents the GNU version of
.\"O .BR xargs .
.\"O .B xargs
.\"O reads items from the standard input, delimited by blanks (which can be
.\"O protected with double or single quotes or a backslash) or newlines,
.\"O and executes the
.\"O .I command
.\"O (default is 
.\"O .IR /bin/echo ) 
.\"O one or more times with any
.\"O .I initial-arguments
.\"O followed by items read from standard input.  Blank lines on the
.\"O standard input are ignored.
.\"O .P
このマニュアルページは GNU 版
.B xargs
の使用法を説明している。
.B xargs
は、まず標準入力から空白や改行で区切られた一連の項目を読み込む
(空白はダブルクォート、シングルクォート、バックスラッシュによって
保護できる)。続いて、読み込んだ一連の項目を引き数にして
(訳注: コマンドライン長の上限を越える場合や、オプションによる
特別な指定がある場合は、項目群を適宜分割して)、指定した
.I command
を一回以上実行する (デフォルトのコマンドは
.I /bin/echo
である)。
そのとき
.I command
に対してユーザが指定した引き数 (上記書式の
.IR initial-arguments )
があれば、標準入力から読み込んだ一連の項目はその後ろに
追加する。標準入力における空行は無視する。
.P
.\"O Because Unix filenames can contain blanks and newlines, this default
.\"O behaviour is often problematic; filenames containing blanks
.\"O and/or newlines are incorrectly processed by 
.\"O .BR xargs .
.\"O In these situations it is better to use the 
.\"O .B \-0
.\"O option, which
.\"O prevents such problems.   When using this option you will need to 
.\"O ensure that the program which produces the input for 
.\"O .B xargs 
.\"O also uses a null character as a separator.  If that program is 
.\"O GNU 
.\"O .B find
.\"O for example, the 
.\"O .B \-print0
.\"O option does this for you.
.\"O .P
Unix ではファイル名に空白や改行を含むことができるので、この
デフォルトの動作は、しばしば問題を引き起こす。空白や改行を含む
ファイル名は、
.B xargs
によって適切に処理されないからだ。そうした状況では、
.B \-0
オプションを使用した方がよい。そうすれば、その手の問題を回避することができる。
なお、
.B \-0
オプションを使う場合は、
.B xargs
の入力を生成するプログラムの方も、区切りの記号として必ずヌル文字を
使うようにする必要がある。たとえば、そのプログラムが GNU
.B find
ならば、
.B \-print0
オプションでそれが可能だ。
.P
.\"O If any invocation of the command exits with a status of 255, 
.\"O .B xargs 
.\"O will stop immediately without reading any further input.  An error
.\"O message is issued on stderr when this happens.
指定したコマンドの実行が終了ステータス 255 で終了することがあれば、
.B xargs
は即座にストップして、それ以上入力を読み込まない。また、このとき、
エラーメッセージを標準エラーに表示する。
.\"O .SH OPTIONS
.SH オプション
.TP
.PD 0
.BI "\-\-arg\-file=" file
.TP
.PD 0
.BI "\-a " file
.\"O Read items from 
.\"O .I file
.\"O instead of standard input.  If you use this option, stdin remains
.\"O unchanged when commands are run.  Otherwise, stdin is redirected 
.\"O from 
.\"O .IR /dev/null .
.\"O 
一連の項目を標準入力からではなく、
.I file
から読み込む。デフォルトでは、指定したコマンドを実行する際に標準入力が
.I /dev/null
に付け換えられるのだが、このオプションを使用すると、
標準入力が変更されることがない。

.TP
.PD 0
.B \-\-null
.TP
.PD
.B \-0
.\"O Input items are terminated by a null character instead of by
.\"O whitespace, and the quotes and backslash are not special (every
.\"O character is taken literally).  Disables the end of file string, which
.\"O is treated like any other argument.  Useful when input items might
.\"O contain white space, quote marks, or backslashes.  The GNU find
.\"O \-print0 option produces input suitable for this mode.
.\"O 
入力される一連の項目が、ホワイトスペース (空白や改行) ではなく、
ヌル文字によって区切られる。また、引用符やバックスラッシュが
特別な意味を持たなくなる (すなわち、あらゆる文字が文字通りに解釈される)。
後述のファイル終了文字列も無効になり、他の引き数と同じように扱われる。
このオプションは、入力される項目にホワイトスペース、引用符、
バックスラッシュなどが含まれる可能性がある場合に、役に立つ。
GNU find の \-print0 オプションが生成する出力は、このモードに
対応した入力になる。

.TP
.PD 0
.BI "\-\-delimiter=" delim
.TP
.PD 
.BI \-d " delim"
.\"O Input items are terminated by the specified character.  Quotes and
.\"O backslash are not special; every character in the input is taken
.\"O literally.  Disables the end-of-file string, which is treated like any
.\"O other argument.  This can be used when the input consists of simply
.\"O newline-separated items, although it is almost always better to design
.\"O your program to use 
.\"O .B \-\-null
.\"O where this is possible.  The specified
.\"O delimiter may be a single character, a C-style character escape such
.\"O as 
.\"O .BR \en , 
.\"O or an octal or hexadecimal escape code.  Octal and hexadecimal
.\"O escape codes are understood as for the
.\"O .B printf
.\"O command.   Multibyte characters are not supported.
.\"O 
入力される一連の項目が、指定された文字によって区切られる。引用符や
バックスラッシュは特別な意味を持たない。すなわち、入力中の
あらゆる文字が文字通りに解釈される。ファイル終了文字列も無効になり、
他の引き数と同じように扱われる。入力が、項目を区切るのが改行のみ
であるような単純な構成の場合なら、このオプションを利用してもよいが、
ほとんどたいていの場合、なるべくなら、
.B xargs \-\-null
を使うように、実行するプログラムを組み立てる方が望ましい。
指定する区切り記号は、単一の文字でもよく、
.B \en
のような C 言語式のエスケープ文字でも、8 進数や 16 進数の
エスケープコードでもよい。8 進数や 16 進数のエスケープコードは、
.B printf
コマンドの場合と同様に解釈される。マルチバイト文字には対応していない。

.TP
.BI \-E " eof-str"
.\"O Set the end of file string to \fIeof-str\fR.  If the end of file
.\"O string occurs as a line of input, the rest of the input is ignored.
.\"O If neither 
.\"O .B \-E 
.\"O nor 
.\"O .B \-e 
.\"O is used, no end of file string is used.
\fIeof-str\fR をファイル終了文字列に設定する。ファイル終了文字列が
入力中の一行として現れると、以後の入力は無視される。
.B \-E
も
.B \-e
も指定しない場合、ファイル終了文字列は使用されない。

.TP 
.PD 0
.BR "\-\-eof" [\fI=eof-str\fR]
.TP 
.PD
.BR \-e [ \fIeof-str\fR]
.\"O This option is a synonym for the 
.\"O .B \-E
.\"O option.  Use 
.\"O .B \-E
.\"O instead,
.\"O because it is POSIX compliant while this option is not.  If
.\"O \fIeof-str\fR is omitted, there is no end of file string.  If neither
.\"O .B \-E 
.\"O nor 
.\"O .B \-e 
.\"O is used, no end of file string is used.
このオプションは
.B \-E
オプションの同義語である。
.B \-E
の方を使ってほしい。理由は、そちらが POSIX に準拠しているのに対して、
こちらは準拠していないからだ。\fIeof-str\fR の部分が省略されると、
ファイル終了文字列が存在しないことになる。
.B \-E
も
.B \-e
も指定しない場合、ファイル終了文字列は使用されない。

.TP
.B "\-\-help"
.\"O Print a summary of the options to
.\"O .B xargs
.\"O and exit.
.B xargs
のオプションについて簡単に説明し終了する。
.TP
.BI \-I " replace-str"
.\"O Replace occurrences of \fIreplace-str\fR in the initial-arguments with
.\"O names read from standard input.  Also, unquoted blanks do not
.\"O terminate input items; instead the separator is the newline character.
.\"O Implies 
.\"O .B \-x
.\"O and 
.\"O .B \-L 
.\"O 1.
.B xargs
が実行するコマンドにに対してユーザが引き数 (すなわち
\fIinitial\-arguments\fR) を指定したとき、その中にある
\fIreplace-str\fR の部分すべてを、標準入力から読み込んだ名前で置き換える。
なお、空白は、クォートされていない場合も、入力される項目の区切りには
ならない。区切り記号は改行文字だけになるのだ。
.B \-x
と
.BR \-L " 1"
が自動的に設定される。
.TP
.PD 0
.BR "\-\-replace" [\fI=replace-str\fR]
.TP
.PD
.BR  \-i "[\fIreplace-str\fR]"
.\"O This option is a synonym for 
.\"O .BI \-I replace-str
.\"O if 
.\"O .I replace-str
.\"O is specified, and for 
.\"O .BR \-I {} 
.\"O otherwise.  This option is deprecated; use
.\"O .B \-I 
.\"O instead.
このオプションは、
.I replace-str
が指定されていれば、
.BI \-I replace-str
の同義語であり、指定されていなければ、
.BR \-I {}
の同義語である。このオプションは非推奨になっている。
.B \-I
を使った方がよい。
.TP
.BI \-L " max-lines"
.\"O Use at most \fImax-lines\fR nonblank input lines per command line.
.\"O Trailing blanks cause an input line to be logically continued on the
.\"O next input line.  Implies 
.\"O .BR \-x .
1 コマンドラインにつき最大 \fImax-lines\fR 行の (空行ではない) 入力行を
使用する。入力行の行末に空白文字が付いていると、その行は
次の入力行に論理的に続いていることになる。自動的に
.B \-x
が指定される。
.TP
.PD 0
.BR \-\-max-lines "[=\fImax-lines\fR]"
.TP
.PD
.BR \-l "[\fImax-lines\fR]"
.\"O Synonym for the 
.\"O .B \-L 
.\"O option.  Unlike 
.\"O .BR \-L , 
.\"O the 
.\"O .I max-lines
.\"O argument is optional.  If 
.\"O .I max-lines
.\"O is not specified, it defaults to one.  The 
.\"O .B \-l 
.\"O option is deprecated since the POSIX standard specifies 
.\"O .B \-L
.\"O instead.
.B \-L
オプションの同義語である。
.B \-L
とは違って、
.I max-lines
という引き数を指定するかどうかは任意である。引き数
.I max-lines
を指定しなかった場合は、デフォルトの 1 が使用される。
POSIS 標準では
.B \-L
の方を使うことになっているので、
.B \-l
オプションの使用はお勧めできない。
.TP
.PD 0
.BR "\-\-max\-args" =\fImax-args\fR
.TP
.PD
.BI \-n " max-args"
.\"O Use at most \fImax-args\fR arguments per command line.  Fewer than
.\"O .I max-args
.\"O arguments will be used if the size (see the 
.\"O .B \-s 
.\"O option) is exceeded, unless the 
.\"O .B \-x 
.\"O option is given, in which case 
.\"O .B xargs will exit.
1 コマンドラインにつき最大 \fImax-args\fR 個の引き数を使用する。
作成されたコマンドラインが、コマンドライン長の上限を
超過する場合は
.RB ( \-s
オプション参照)、
.I max-args
より少ない引き数が使用されることになる。ただし、
.B \-x
オプションが指定されているときは別で、その場合は
.B xargs
が終了する。
.TP
.PD 0
.B \-\-interactive
.TP
.PD
.B \-p
.\"O Prompt the user about whether to run each command line and read a line
.\"O from the terminal.  Only run the command line if the response starts
.\"O with `y' or `Y'.  Implies 
.\"O .BR -t .
コマンドライン一行ごとに、実行するかどうかをユーザに尋ねるプロンプトを出し、
端末から一行読み込む。コマンドラインを実行するのは、返答が `y' または `Y' で
始まるときだけである。自動的に
.BR -t
が指定される。
.TP
.PD 0
.B \-\-no\-run\-if\-empty
.TP
.PD
.B \-r
.\"O If the standard input does not contain any nonblanks, do not run the
.\"O command.  Normally, the command is run once even if there is no input.
.\"O This option is a GNU extension.
標準入力に空行しか含まれていなかったら、コマンドを実行しない。
通常では、入力が全くなかった場合でも、指定したコマンドが一回は
実行されるのだ。このオプションは GNU の拡張である。
.TP
.PD 0
.BR \-\-max\-chars "=\fImax-chars\fR"
.TP
.PD
.BI \-s " max-chars"
.\"O Use at most \fImax-chars\fR characters per command line, including the
.\"O command and initial-arguments and the terminating nulls at the ends of
.\"O the argument strings.  The largest allowed value is system-dependent,
.\"O and is calculated as the argument length limit for exec, less the size
.\"O of your environment, less 2048 bytes of headroom.  If this value is
.\"O more than 128KiB, 128Kib is used as the default value; otherwise, the
.\"O default value is the maximum.  1KiB is 1024 bytes.
1 コマンドラインにつき最大 \fImax-chars\fR の文字を使用する。
この文字数には、指定したコマンドと \fIinitial\-arguments\fR、それに
各引き数文字列の終端を示すヌル文字も含まれる。指定できる値の上限は
システム次第であり、算出方法は、exec に対する引き数の最大長、
マイナス目下の環境のサイズ、マイナス 2048 バイトの余裕領域である。
もしその値が 128KiB 以上だったときは、デフォルトの値として 128KiB が
使用される。128KiB 未満だったときは、算出された上限がデフォルトの値になる。
1KiB は 1024 バイトである。
.TP
.PD 0
.B \-\-verbose
.TP
.PD
.B \-t
.\"O Print the command line on the standard error output before executing
.\"O it.
実行する前に、コマンドラインを標準エラー出力に表示する。
.TP
.B "\-\-version"
.\"O Print the version number of
.\"O .B xargs
.\"O and exit.
.B xargs
のバージョン番号を表示して、終了する。
.TP
.B "\-\-show\\-limits"
.\"O Display the limits on the command-line length which are imposed by the
.\"O operating system, 
.\"O .BR xargs '  
.\"O choice of buffer size and the 
.\"O .B \-s 
.\"O option.  Pipe the input from 
.\"O .I /dev/null
.\"O (and perhaps specify 
.\"O .BR --no-run-if-empty ) 
.\"O if you don't want 
.\"O .B xargs
.\"O to do anything.
コマンドライン長の上限を表示する。コマンドライン長の上限は、
オペレーティングシステム、
.B xargs
が設定したバッファサイズ、
.B \-s
オプションによって決まる。
.B xargs
にコマンドラインの上限の表示以外をさせたくなかったら、
入力を
.I /dev/null
からパイプで
.B xargs
に渡すとよい (さらに
.B --no-run-if-empty
を指定した方がよいかもしれない)。
.TP
.PD 0
.B \-\-exit
.TP
.PD
.B \-x
.\"O Exit if the size (see the 
.\"O .B \-s
.\"O option) is exceeded.
作成されたコマンドラインがコマンドライン長の上限を超過していたら
.RB ( \-s
オプションを参照)、終了する。
.TP
.PD 0
.BR \-\-max\-procs "=\fImax-procs\fR" 
.TP
.PD
.BI \-P " max-procs"
.\"O Run up to 
.\"O .I max-procs
.\"O processes at a time; the default is 1.  If
.\"O .I max-procs
.\"O is 0, 
.\"O .B xargs 
.\"O will run as many processes as
.\"O possible at a time.  Use the 
.\"O .B \-n
.\"O option with 
.\"O .BR \-P ;
.\"O otherwise chances are that only one exec will be done.
同時に最多で
.I max-procs
プロセスまで指定したコマンドを実行する。デフォルトは 1 である。もし
.I max-procs
が 0 だと、
.B xargs
はできるだけ多くのプロセスを同時に実行しようとする。
.B \-P
と一緒に
.B \-n
オプションを使うとよい。さもないと、exec がたった一回しか
行われないかもしれない。
.\"O .SH "EXAMPLES"
.SH "用例"
.nf
.B find /tmp \-name core \-type f \-print | xargs /bin/rm \-f

.fi
.\"O Find files named 
.\"O .B core
.\"O in or below the directory 
.\"O .B /tmp 
.\"O and delete them.  Note that this will work incorrectly if there are 
.\"O any filenames containing newlines or spaces.
.B /tmp
ディレクトリ以下に
.B core
という名前のファイルを捜して、それを消去する。改行や空白を含む
ファイル名があると、正しく動作しないので注意すること。
.P
.B find /tmp \-name core \-type f \-print0 | xargs \-0 /bin/rm \-f

.fi
.\"O Find files named 
.\"O .B core
.\"O in or below the directory 
.\"O .B /tmp 
.\"O and delete them, processing filenames in such a way that file or 
.\"O directory names containing spaces or newlines are correctly handled.
.\"O 
.B /tmp
ディレクトリ以下に
.B core
という名前のファイルを捜して、それを消去する。ファイル名の処理に
当たっては、ファイルやディレクトリの名前に空白や改行が含まれていても、
適切に扱われるようにする。

.P
.B find /tmp \-depth \-name core \-type f \-delete

.fi
.\"O Find files named 
.\"O .B core
.\"O in or below the directory 
.\"O .B /tmp 
.\"O and delete them, but more efficiently than in the previous example
.\"O (because we avoid the need to use 
.\"O .BR fork (2) 
.\"O and 
.\"O .BR exec (2) 
.\"O to launch 
.\"O .B rm
.\"O and we don't need the extra 
.\"O .B xargs 
.\"O process).
.\"O 
.B /tmp
ディレクトリ以下に
.B core
という名前のファイルを捜して、それを消去する。上の例よりも
こちらの方が効率的である (なぜなら、
.B rm
を実行するために
.BR fork (2)
と
.BR exec (2)
を使わないですむし、そもそも、
.B xargs
のプロセスを必要としないから)。

.P
.nf
.B cut \-d: \-f1 < /etc/passwd | sort | xargs echo

.fi
.\"O Generates a compact listing of all the users on the system.
.\"O 
システムの全ユーザを列挙した簡潔なリストを生成する (訳注: 要するに、
改行ではなく、空白で区切られたユーザ名のリストを作るということ)。

.P
.nf
.B xargs sh -c 'emacs \(dq$@\(dq < /dev/tty' emacs

.fi
.\"O Launches the minimum number of copies of Emacs needed, one after the
.\"O other, to edit the files listed on 
.\"O .BR xargs '
.\"O standard input.  This example achieves the same effect as BSD's 
.\"O .B -o 
.\"O option, but in a more flexible and portable way.
.\"O 
.\"O 
.\"O 
.B xargs
の標準入力でファイルをいくつか指定し、それを編集するために
Emacs のコピーを必要なだけ次々と立ち上げる。
この例は BSD の
.B -o
オプションと同じことを実現するが、柔軟性やどのシステムでも利用できる点で
勝っている。



.\"O .SH "EXIT STATUS"
.SH "返り値"
.\"O .B xargs
.\"O exits with the following status:
.B xargs 
が終了するときの返り値は以下のとおり。
.\"O .nf
.\"O 0 if it succeeds
.\"O 123 if any invocation of the command exited with status 1-125
.\"O 124 if the command exited with status 255
.\"O 125 if the command is killed by a signal
.\"O 126 if the command cannot be run
.\"O 127 if the command is not found
.\"O 1 if some other error occurred.
.\"O .fi
.P
.nf
0 成功した。
123 指定したコマンドの実行が 1-125 の返り値で終了した。
124 指定したコマンドが返り値 255 で終了した。
125 指定したコマンドがシグナルによって kill された。
126 指定したコマンドが実行できない。
127 指定したコマンドが見つからない。
1 上記以外のエラーが起きた。
.fi
.\"O .P
.\"O Exit codes greater than 128 are used by the shell to indicate that 
.\"O a program died due to a fatal signal.
.P
128 以上の返り値は、致命的なシグナルのせいでプログラムが
止まったことを示すために、シェルによって使用される。
.\"O .SH "STANDARDS CONFORMANCE"
.SH "標準への準拠"
.\"O As of GNU xargs version 4.2.9, the default behaviour of
.\"O .B xargs
.\"O is not to have a logical end-of-file marker.  POSIX (IEEE Std 1003.1,
.\"O 2004 Edition) allows this.
GNU xargs version 4.2.9 以来、ファイルの論理的な終わりを表す指標
(a logical end-of-file marker) を持たないのが、
.B xargs
のデフォルトになっている。このことは POSIX (IEEE Std 1003.1,
2004 Edition) で認められている。
.\"O .P
.\"O The \-l and \-i options appear in the 1997 version of the POSIX
.\"O standard, but do not appear in the 2004 version of the standard.
.\"O Therefore you should use \-L and \-I instead, respectively.
.P
\-l や \-i オプションは 1997 版の POSIX 標準に存在するが、
2004 版の POSIX 標準には存在しない。従って、それぞれ
\-L や \-I の方を使うべきである。
.\"O .P
.\"O The POSIX standard allows implementations to have a limit on the size
.\"O of arguments to the 
.\"O .B exec 
.\"O functions.  This limit could be as low as 4096 bytes including the size of the
.\"O environment.  For scripts to be portable, they must not rely on a
.\"O larger value.  However, I know of no implementation whose actual limit
.\"O is that small.  The 
.\"O .B \-\-show\-limits 
.\"O option can be used to discover the actual limits in force on the
.\"O current system.
.\"O 
.\"O 
.P
POSIX 標準は、実装に当たって、
.B exec
関数に対する引き数のサイズに上限を設けることを認めている。
そして、その上限は、環境のサイズも含めて、少なくとも 4096 バイトあれば
よいことになっている。移植性のあるスクリプトを書こうと思ったら、
これより大きいサイズを当てにしてはいけない。もっとも、筆者の
知るかぎりでは、実際の上限がそんなに小さい実装など存在しないが。
.B \-\-show\-limits
オプションを使えば、使用中のシステムで有効な実際の上限を知ることができる。


.\"O .SH "SEE ALSO"
.SH "関連項目"
\fBfind\fP(1), \fBlocate\fP(1), \fBlocatedb\fP(5), \fBupdatedb\fP(1),
\fBfork\fP(2), \fBexecvp\fP(3), 
\fBFinding Files\fP (on-line in Info, or printed)
.\"O .SH "BUGS"
.SH "バグ"
.\"O The
.\"O .B \-L 
.\"O option is incompatible with the 
.\"O .B \-I 
.\"O option, but perhaps should not be.
.B \-L
オプションは
.B \-I
オプションと同時に使えない。同時に使えた方がよいのかもしれないが。
(訳注: 
.B -I
オプションの説明にあるように、
.BI \-I " replace-str"
を指定すると、
.BR \-L " 1"
が自動的に設定される。ここで言っているのは、現状では
.BR \-L " 2"
や
.BR \-L " 3"
を
.B \-I
と一緒に使っても、期待する効果を得られないということである。)
.\"O .P 
.\"O It is not possible for 
.\"O .B xargs 
.\"O to be used securely, since there will always be a time gap between the 
.\"O production of the list of input files and their use in the commands
.\"O that 
.\"O .B xargs 
.\"O issues.  If other users have access to the system, they can manipulate
.\"O the filesystem during this time window to force the action of the
.\"O commands 
.\"O .B xargs 
.\"O runs to apply to files that you didn't intend.  For a more detailed
.\"O discussion of this and related problems, please refer to the
.\"O ``Security Considerations'' chapter in the findutils Texinfo
.\"O documentation.  The 
.\"O .B \-execdir 
.\"O option of 
.\"O .B find
.\"O can often be used as a more secure alternative.
.\"O 
.P
.B xargs
を安全に使うことは不可能である。なぜなら、入力されるファイル名の
リストを生成する時間と
.B xargs
が実行するコマンドがそれを使用する時間との間には、必ず時間差が
あるからだ。もし、他のユーザがシステムにアクセスすることができれば、
そのユーザはこの隙間の時間にファイルシステムを操作して、
.B xargs
が実行するコマンドの動作を、こちらが意図していないファイルに
無理矢理向けることができる。この問題や、これに関連する問題については、
findutils に含まれる Texinfo 文書の「Security Considerations」という章で
もっと細かく論じているので、そちらを参照していただきたい。
なお、
.B find
の
.B \-execdir
アクションは、より安全な方法として
.B xargs
の代わりに使用できることが多い。

.\"O When you use the 
.\"O .B \-I 
.\"O option, each line read from the input is buffered 
.\"O internally.   This means that there is an upper limit on the length 
.\"O of input line that 
.\"O .B xargs 
.\"O will accept when used with the 
.\"O .B \-I 
.\"O option.  To work around this 
.\"O limitation, you can use the 
.\"O .B \-s 
.\"O option to increase the amount of
.\"O buffer space that 
.\"O .B xargs 
.\"O uses, and you can also use an extra invocation of 
.\"O .B xargs 
.\"O to ensure that very long lines do not occur.  
.B \-I
オプションを使うと、標準入力から読み込まれた各行は内部的にバッファされる。
これは、
.B \-I
オプションを付けて使ったとき、
.B xargs
が受け付ける入力行一行の長さに上限があるということだ。
この制限を回避するためには、
.B \-s
オプションを使って、
.B xargs
が使用するバッファ空間のサイズを増やしてやればよい。さらに、
.B xargs
をもう一つ実行すれば、
長すぎる行の出現を確実に避けることができる。
.\"O For example: 
たとえば、
.P
.B somecommand | xargs \-s 50000 echo | xargs \-I '{}' \-s 100000 rm '{}'
.P
.\"O Here, the first invocation of 
.\"O .B xargs 
.\"O has no input line length limit
.\"O because it doesn't use the 
.\"O .B \-i 
.\"O option.  The second invocation of
.\"O .B xargs 
.\"O does have such a limit, but we have ensured that the it never encounters 
.\"O a line which is longer than it can handle.   This is not an ideal 
.\"O solution.  Instead, the 
.\"O .B \-i 
.\"O option should not impose a line length
.\"O limit, which is why this discussion appears in the BUGS section.
.\"O The problem doesn't occur with the output of 
.\"O .BR find (1) 
.\"O because it emits just one filename per line.
この例では、
.B xargs
の最初の実行には、入力行の長さの上限がない。
.B \-I
オプションを使っていないからである。
.B xargs
の二番目の実行には、そうした上限があるが、処理できる以上の長さの行に
絶対に出会わないようになっている。これが理想的な解決法だ
というのではない。むしろ、
.B \-I
オプションによって入力行の長さに上限ができない方がよいのであり、
だからこそ、この問題を「バグ」セクションで論じているのである。
なお、この問題は
.BR find (1)
の出力では起きない。
.B find
は 1 行に 1 ファイル名しか出力しないからだ。 
.\"O .P
.\"O The best way to report a bug is to use the form at
.\"O http://savannah.gnu.org/bugs/?group=findutils.  
.\"O The reason for this is that you will then be able to track progress in
.\"O fixing the problem.   Other comments about \fBxargs\fP(1) and about
.\"O the findutils package in general can be sent to the 
.\"O .I bug\-findutils
.\"O mailing list.  To join the list, send email to 
.\"O .IR bug\-findutils\-request@gnu.org .
.P
バグ報告の最善の方法は、
http://savannah.gnu.org/bugs/?group=findutils
にある書式を使用することだ。そうすれば、問題解決の進行状態を
追うことができるからである。\fBxargs\fP(1) や
findutils パッケージ全般についてのその他のご意見は、
.I bug\-findutils
メーリングリストにお出しになればよい。メーリングリストに参加するには、
.I bug\-findutils\-request@gnu.org
宛てに E メールを送っていただきたい。
