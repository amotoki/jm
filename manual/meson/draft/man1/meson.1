.\"O .TH MESON "1" "November 2021" "meson 0.60.1" "User Commands"
.TH MESON 1 2021/11 "meson 0.60.1" ユーザーコマンド
.\"O ----------------------------------------
.\"O .SH NAME
.\"O meson - a high productivity build system
.SH 名前
meson \- 生産性の高いビルドシステム
.\"O ----------------------------------------
.\"O .SH DESCRIPTION
.SH 説明
.\"O ----------------------------------------
.\"O 
.\"O Meson is a build system designed to optimize programmer
.\"O productivity. It aims to do this by providing simple, out-of-the-box
.\"O support for modern software development tools and practices, such as
.\"O unit tests, coverage reports, Valgrind, Ccache and the like.

Meson はプログラマーの生産性を最適化するために設計されたビルドシステムです。 これを実現するために、 最新のソフトウェア開発ツールや技法を、
簡単にすぐ利用できる機能を提供しています。 それはたとえば、 ユニットテスト、 網羅性レポート、 Valgrind、 Ccache などです。
.\"O ----------------------------------------
.\"O 
.\"O The main Meson executable provides many subcommands to access all
.\"O the functionality.

メインの実行コマンド meson には数多くのサブコマンドがあり、 これによって全機能の利用が可能になります。
.\"O ----------------------------------------

.\"O ----------------------------------------
.\"O .SH The setup command
.SH セットアップコマンド
.\"O ----------------------------------------
.\"O 
.\"O Using Meson is simple and follows the common two-phase
.\"O process of most build systems. First you run Meson to
.\"O configure your build:

Meson を用いるのは実に簡単です。 ビルドシステムのほとんどにおいて、 普通は二段階プロセスを実現します。 一度めは Meson
を実行してビルド設定を行います。
.\"O ----------------------------------------
.\"O 
.\"O .B meson setup [
.\"O .I options
.\"O .B ] [
.\"O .I build directory
.\"O .B ] [
.\"O .I source directory
.\"O .B ]

\fBmeson setup [\fP \fIoptions\fP \fB] [\fP \fIbuild directory\fP \fB] [\fP \fIsource
directory\fP \fB]\fP
.\"O ----------------------------------------
.\"O 
.\"O Note that the build directory must be different from the source
.\"O directory. Meson does not support building inside the source directory
.\"O and attempting to do that leads to an error.

なおビルドディレクトリは、 ソースディレクトリとは別のところにしなければなりません。 Meson
ではソースディレクトリ内でのビルドには対応していないため、 これを行うとエラーが発生します。
.\"O ----------------------------------------
.\"O 
.\"O After a successful configuration step you can build the source by
.\"O running the actual build command in the build directory. The default
.\"O backend of Meson is Ninja, which can be invoked like this.

設定ステップが正常処理されたら、 ビルドディレクトリ内において実際のビルドコマンドを実行してソースをビルドできます。 Meson
のデフォルトのバックエンドは Ninja です。 これは以下のようにして起動できます。
.\"O ----------------------------------------
.\"O 
.\"O \fBninja [\fR \fItarget\fR \fB]\fR

\fBninja [\fP \fItarget\fP \fB]\fP
.\"O ----------------------------------------
.\"O 
.\"O You only need to run the Meson command once: when you first configure
.\"O your build dir. After that you just run the build command. Meson will
.\"O autodetect changes in your source tree and regenerate all files
.\"O needed to build the project.

Meson コマンドを実行するのは、 ビルドディレクトリにおいて最初に設定を行う一度だけです。 これを行ったら、 次はビルドコマンドを実行するだけです。
Meson はソースツリー内の変更を自動的に検出して、 プロジェクトビルドに必要となるファイルをすべて再生成します。
.\"O ----------------------------------------
.\"O 
.\"O The setup command is the default operation. If no actual command is
.\"O specified, Meson will assume you meant to do a setup. That means
.\"O that you can set up a build directory without the setup command
.\"O like this:

セットアップコマンドを実行するのがデフォルトの動作です。 特に何かコマンドが指定されない限り、 Meson はセットアップを行うものとして動作します。
セットアップコマンドを用いなくても、 ビルドディレクトリは以下のようにしてセットアップすることができます。
.\"O ----------------------------------------
.\"O 
.\"O .B meson [
.\"O .I options
.\"O .B ] [
.\"O .I build directory
.\"O .B ] [
.\"O .I source directory
.\"O .B ]

\fBmeson [\fP \fIoptions\fP \fB] [\fP \fIbuild directory\fP \fB] [\fP \fIsource directory\fP
\fB]\fP
.\"O ----------------------------------------

.\"O ----------------------------------------
.\"O .SS "options:"
.SS オプション:
.\"O ----------------------------------------
.\"O .TP
.\"O \fB\-\-version\fR
.\"O print version number
.TP 
\fB\-\-version\fP
バージョン番号を表示します。
.\"O ----------------------------------------
.\"O .TP
.\"O \fB\-\-help\fR
.\"O print command line help
.TP 
\fB\-\-help\fP
コマンドラインヘルプを表示します。
.\"O ----------------------------------------

.\"O ----------------------------------------
.\"O .SH The configure command
.SH "configure コマンド"
.\"O ----------------------------------------
.\"O 
.\"O .B meson configure
.\"O provides a way to configure a Meson project from the command line.
.\"O Its usage is simple:

\fBmeson configure\fP は、 コマンドラインから Meson プロジェクトを設定するものです。 その利用の仕方は以下のように簡単です。
.\"O ----------------------------------------
.\"O 
.\"O .B meson configure [
.\"O .I build directory
.\"O .B ] [
.\"O .I options to set
.\"O .B ]

\fBmeson configure [\fP \fIbuild directory\fP \fB] [\fP \fIoptions to set\fP \fB]\fP
.\"O ----------------------------------------
.\"O 
.\"O If build directory is omitted, the current directory is used instead.

ビルドディレクトリが省略された場合は、 カレントディレクトリが用いられます。
.\"O ----------------------------------------
.\"O 
.\"O If no parameters are set,
.\"O .B meson configure
.\"O will print the value of all build options to the console.

パラメーターが何も設定されなかった場合、 \fBmeson configure\fP はすべてのビルドオプションの値をコンソールに出力します。
.\"O ----------------------------------------
.\"O 
.\"O To set values, use the \-D command line argument like this.

値を設定するには、 以下のようにコマンドライン引数 \-D を利用します。
.\"O ----------------------------------------
.\"O 
.\"O .B meson configure \-Dopt1=value1 \-Dopt2=value2

\fBmeson configure \-Dopt1=value1 \-Dopt2=value2\fP
.\"O ----------------------------------------

.\"O ----------------------------------------
.\"O .SH The introspect command
.SH "イントロスペクト (introspect) コマンド"
.\"O ----------------------------------------
.\"O 
.\"O Meson introspect is a command designed to make it simple to  integrate with
.\"O other tools, such as IDEs. The output of this command is in JSON.

Meson の introspect は、 他のツール、 たとえば IDE などとの連携を簡単に実現するように設計されたコマンドです。
このコマンドの出力は JSON 形式です。
.\"O ----------------------------------------
.\"O 
.\"O .B meson introspect [
.\"O .I build directory
.\"O .B ] [
.\"O .I option
.\"O .B ]

\fBmeson introspect [\fP \fIbuild directory\fP \fB] [\fP \fIoption\fP \fB]\fP
.\"O ----------------------------------------
.\"O 
.\"O If build directory is omitted, the current directory is used instead.

ビルドディレクトリが省略された場合は、 カレントディレクトリが用いられます。
.\"O ----------------------------------------

.\"O ----------------------------------------
.\"O .SS "options:"
.SS オプション:
.\"O ----------------------------------------
.\"O .TP
.\"O \fB\-\-targets\fR
.\"O print all top level targets (executables, libraries, etc)
.TP 
\fB\-\-targets\fP
トップレベルターゲット (実行モジュール、ライブラリなど) をすべて表示します。
.\"O ----------------------------------------
.\"O .TP
.\"O \fB\-\-target\-files\fR
.\"O print the source files of the given target
.TP 
\fB\-\-target\-files\fP
指定されたターゲットに対するソースファイルを表示します。
.\"O ----------------------------------------
.\"O .TP
.\"O \fB\-\-buildsystem\-files\fR
.\"O print all files that make up the build system (meson.build, meson_options.txt etc)
.TP 
\fB\-\-buildsystem\-files\fP
ビルドシステムを構成するファイル (meson.build、meson_options.txt など) をすべて表示します。
.\"O ----------------------------------------
.\"O .TP
.\"O \fB\-\-tests\fR
.\"O print all unit tests
.TP 
\fB\-\-tests\fP
ユニットテストをすべて表示します。
.\"O ----------------------------------------
.\"O .TP
.\"O \fB\-\-help\fR
.\"O print command line help
.TP 
\fB\-\-help\fP
コマンドラインヘルプを表示します。
.\"O ----------------------------------------

.\"O ----------------------------------------
.\"O .SH The test command
.SH テストコマンド
.\"O ----------------------------------------
.\"O 
.\"O .B meson test
.\"O is a helper tool for running test suites of projects using Meson.
.\"O The default way of running tests is to invoke the default build command:

\fBmeson test\fP は Meson を利用してプロジェクトのテストスイートを実行するヘルパーツールです。 テスト実行を行うデフォルトの方法は、
以下のようにデフォルトのビルドコマンドを実行することです。
.\"O ----------------------------------------
.\"O 
.\"O \fBninja [\fR \fItest\fR \fB]\fR

\fBninja [\fP \fItest\fP \fB]\fP
.\"O ----------------------------------------
.\"O 
.\"O .B meson test
.\"O provides a richer set of tools for invoking tests.

\fBmeson test\fP では、テスト実行に対して機能豊富なツールセットを提供しています。
.\"O ----------------------------------------
.\"O 
.\"O .B meson test
.\"O automatically rebuilds the necessary targets to run tests when used with the Ninja backend.
.\"O Upon build failure,
.\"O .B meson test
.\"O will return an exit code of 125.
.\"O This return code tells
.\"O .B git bisect run
.\"O to skip the current commit.
.\"O Thus bisecting using git can be done conveniently like this.

\fBmeson test\fP はバックエンドとして Ninja を利用する場合には、 テスト実行に必要となるターゲットを自動的に再ビルドします。
ビルドに失敗すると \fBmeson test\fP は終了コードとして 125 を返します。 この返り値コードは \fBgit bisect run\fP
にあたって、 カレントなコミットをスキップします。 したがって git を用いた bisect 処理は、 以下のようにわかりやすく実現できます。
.\"O ----------------------------------------
.\"O 
.\"O .B git bisect run meson test -C build_dir

\fBgit bisect run meson test \-C build_dir\fP
.\"O ----------------------------------------

.\"O ----------------------------------------
.\"O .SS "options:"
.SS オプション:
.\"O ----------------------------------------
.\"O .TP
.\"O \fB\-\-repeat\fR
.\"O run tests as many times as specified
.TP 
\fB\-\-repeat\fP
指定された回数分だけテストを実行します。
.\"O ----------------------------------------
.\"O .TP
.\"O \fB\-\-gdb\fR
.\"O run tests under gdb
.TP 
\fB\-\-gdb\fP
gdb のもとでテストを実行します。
.\"O ----------------------------------------
.\"O .TP
.\"O \fB\-\-list\fR
.\"O list all available tests
.TP 
\fB\-\-list\fP
利用可能なテストをすべて一覧表示します。
.\"O ----------------------------------------
.\"O .TP
.\"O \fB\-\-wrapper\fR
.\"O invoke all tests via the given wrapper (e.g. valgrind)
.TP 
\fB\-\-wrapper\fP
指定されたラッパー (たとえば valgrind) 経由によりすべてのテストを起動します。
.\"O ----------------------------------------
.\"O .TP
.\"O \fB\-C\fR
.\"O Change into the given directory before running tests (must be root of build directory).
.TP 
\fB\-C\fP
テスト実施前に、 指定されたディレクトリに移動します (これはビルドディレクトリの最上位でなければなりません)。
.\"O ----------------------------------------
.\"O .TP
.\"O \fB\-\-suite\fR
.\"O run tests in this suite
.TP 
\fB\-\-suite\fP
このスイートにおいてテストを実行します。
.\"O ----------------------------------------
.\"O .TP
.\"O \fB\-\-no\-suite\fR
.\"O do not run tests in this suite
.TP 
\fB\-\-no\-suite\fP
このスイートの中ではテストを実行しません。
.\"O ----------------------------------------
.\"O .TP
.\"O \fB\-\-no\-stdsplit\fR
.\"O do not split stderr and stdout in test logs
.TP 
\fB\-\-no\-stdsplit\fP
テストログにおいて stderr と stdout を分割しません。
.\"O ----------------------------------------
.\"O .TP
.\"O \fB\-\-benchmark\fR
.\"O run benchmarks instead of tests
.TP 
\fB\-\-benchmark\fP
テストの代わりにベンチマークを実行します。
.\"O ----------------------------------------
.\"O .TP
.\"O \fB\-\-logbase\fR
.\"O base of file name to use for writing test logs
.TP 
\fB\-\-logbase\fP
テストログ出力に利用するファイルのベース名を指定します。
.\"O ----------------------------------------
.\"O .TP
.\"O \fB\-\-num-processes\fR
.\"O how many parallel processes to use to run tests
.TP 
\fB\-\-num\-processes\fP
テスト実行における同時並行処理数を指定します。
.\"O ----------------------------------------
.\"O .TP
.\"O \fB\-\-verbose\fR
.\"O do not redirect stdout and stderr
.TP 
\fB\-\-verbose\fP
stdout と stderr にリダイレクトしません。
.\"O ----------------------------------------
.\"O .TP
.\"O \fB\-t\fR
.\"O a multiplier to use for test timeout values (usually something like 100 for Valgrind)
.TP 
\fB\-t\fP
テストにおけるタイムアウト値の乗数を指定します (通常 Valgrind に対しては 100 などとします)。
.\"O ----------------------------------------
.\"O .TP
.\"O \fB\-\-setup\fR
.\"O use the specified test setup
.TP 
\fB\-\-setup\fP
指定されたテストのセットアップを用います。
.\"O ----------------------------------------

.\"O ----------------------------------------
.\"O .SH The wrap command
.SH "ラップ (wrap) コマンド"
.\"O ----------------------------------------
.\"O 
.\"O Wraptool is a helper utility to manage source dependencies
.\"O using the online wrapdb service.

ラップツール (wraptool) は、 オンラインの wrabdb サービスを利用して、 ソースの依存関係を管理するヘルパーユーティリティーです。
.\"O ----------------------------------------
.\"O 
.\"O .B meson wrap <
.\"O .I command
.\"O .B > [
.\"O .I options
.\"O .B ]

\fBmeson wrap <\fP \fIcommand\fP \fB> [\fP \fIoptions\fP \fB]\fP
.\"O ----------------------------------------
.\"O 
.\"O You should run this command in the top level source directory
.\"O of your project.

このコマンドは、 プロジェクトの最上位ソースディレクトリにおいて実行することが必要です。
.\"O ----------------------------------------

.\"O ----------------------------------------
.\"O .SS "Commands:"
.SS コマンド
.\"O ----------------------------------------
.\"O .TP
.\"O \fBlist\fR
.\"O list all available projects
.TP 
\fBlist\fP
利用可能なプロジェクトの一覧を表示します。
.\"O ----------------------------------------
.\"O .TP
.\"O \fBsearch\fR
.\"O search projects by name
.TP 
\fBsearch\fP
プロジェクト名で検索します。
.\"O ----------------------------------------
.\"O .TP
.\"O \fBinstall\fR
.\"O install a project with the given name
.TP 
\fBinstall\fP
プロジェクトを指定された名前を用いてインストールします。
.\"O ----------------------------------------
.\"O .TP
.\"O \fBupdate\fR
.\"O update the specified project to latest available version
.TP 
\fBupdate\fP
指定されたプロジェクトを、 利用可能な最新バージョンにアップデートします。
.\"O ----------------------------------------
.\"O .TP
.\"O \fBinfo\fR
.\"O show available versions of the specified project
.TP 
\fBinfo\fP
指定されたプロジェクトの利用可能バージョンを表示します。
.\"O ----------------------------------------
.\"O .TP
.\"O \fBstatus\fR
.\"O show installed and available versions of currently used subprojects
.TP 
\fBstatus\fP
現在利用されているサブプロジェクトに対して、 インストールされている、 または利用可能なバージョンを表示します。
.\"O ----------------------------------------

.\"O ----------------------------------------
.\"O .SH EXIT STATUS
.SH 終了ステータス
.\"O ----------------------------------------

.\"O ----------------------------------------
.\"O .TP
.\"O .B 0
.\"O Successful.
.TP 
\fB0\fP
正常終了。
.\"O ----------------------------------------
.\"O .TP
.\"O .B 1
.\"O Usage error, or an error parsing or executing meson.build.
.TP 
\fB1\fP
利用エラー。 つまり meson.build の解析または実行エラー。
.\"O ----------------------------------------
.\"O .TP
.\"O .B 2
.\"O Internal error.
.TP 
\fB2\fP
内部エラー。
.\"O ----------------------------------------
.\"O .TP
.\"O .B 125
.\"O .B meson test
.\"O could not rebuild the required targets.
.TP 
\fB125\fP
\fBmeson test\fP において必要なターゲットが再ビルドできなかったことを表します。
.\"O ----------------------------------------
.\"O .TP
.TP 
.\"O ----------------------------------------

.\"O ----------------------------------------
.\"O .SH SEE ALSO
.SH 関連項目
.\"O ----------------------------------------
.\"O 
.\"O http://mesonbuild.com/

http://mesonbuild.com/
.\"O ----------------------------------------
.\"O 
.\"O https://wrapdb.mesonbuild.com/

https://wrapdb.mesonbuild.com/
.\"O ----------------------------------------
