
--------------------------------------------------
.\" -*- nroff -*-
.TH printk 9 "$Date:1997/7/27" "Linux DDI" "Kernel Functions"
.SH 名前
printk \- コンソールログにメッセージを出力する
.SH 書式
.B #include <linux/kernel.h>
.sp
.BI "int printk(const char*" fmt ", ...)"
.SH 説明
フォーマットされたメッセージをカーネルコンソールに表示する。
標準入出力ライブラリの
.B  printf
関数とよく似ている。
通常、メッセージはコンピュータの物理的なコンソールデバイスに
書かれるが、この振る舞いは
.B register_console
関数で変更することができる。
メッセージはメッセージ・ログブックにも格納される。
.PP
生成された文字列は、メッセージの優先度を決めるためのメッセージ
優先度コードで始まっている場合もある。優先度コード文字列は
.\" 始まっていてもよい？
.I "<n>"
という書式を持つ。ここで、nは0から7までの数値である。
以下のマクロが
.I "<linux/kernel.h>"
ヘッダファイルで定義されている。
.RS
.TP
KERN_EMERG
システムが使用できない
.TP
KERN_ALERT
即時に処置する必要がある
.TP
KERN_CRIT
かなり憂慮すべき状態
.TP
KERN_ERR
エラー状態
.TP
KERN_WARNING
警告状態
.TP
KERN_NOTICE
異常ではないが、重要な状態
.TP
KERN_INFO
情報の提供
.TP
KERN_DEBUG
デバッグ用メッセージ
.RE
例えば
.nf

        printk(KERN_NOTICE "Hello, world.\\n");

.fi
        は期待される動作を行う。
.SH 返り値
ログに書き込まれた文字数を返す。
.SH 利用可能な環境
Linux 1.0+
.SH 関連項目
.BR register_console "(9), " syslog "(2)"
.PP
.IR "kernel/printk.c"
.SH 著者
Stephen Williams (steve@icarus.com)
.SH バグ
float および double フォーマットはサポートされていない。
これらは、いかなる場合もカーネル内部に存在してはならない。
.PP
.B printk
の実装では割り込みを受け付けないようになっているので、
原則として割り込みハンドラ内やクリティカル・セクション内部
でも使用できる。しかしながら、登録されたコンソール関数に
ついては保証されない。

