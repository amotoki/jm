.\" This file Copyright (C) 1994-2005 Jeff Tranter
.\" (tranter@pobox.com)
.\" It may be distributed under the GNU Public License, version 2, or
.\" any higher version. See section COPYING of the GNU Public license
.\" for conditions under which this file may be redistributed.
.\"
.\" Japanese Version Copyright (c) 2000 OOGAMI Atsushi
.\"         all rights reserved.
.\" Translated Tue Oct 31 20:58:03 JST 2000
.\"         by OOGAMI Atsushi <ati@ff.iij4u.or.jp>, eject-2.0.2
.\" Updated & Modified Sat Sep 29 09:34:15 JST 2001
.\"         by Yuichi SATO <ysato@h4.dion.ne.jp>, eject-2.0.10
.\" Updated & Modified Fri Oct 20 04:18:25 JST 2006
.\"         by Yuichi SATO <ysato@h4.dion.ne.jp>, eject-2.1.5
.\"
.\"WORD:	eject				イジェクトする
.\"WORD:	multi-disc CD-ROM changer	連装 CD-ROM チェンジャ
.\"WORD:	auto-eject			自動イジェクト
.\"WORD:	tray				トレイ
.\"WORD:	proprietary			独自規格
.\"
.TH EJECT 1 "12 May 2005" "Linux" "User Commands"
.\"O .SH NAME
.\"O eject \- eject removable media
.SH 名前
eject \- リムーバブルメディアをイジェクトする
.\"O .SH SYNOPSIS
.SH 書式
eject \-h
.br
eject [\-vnrsfmqp] [<name>]
.br
eject [\-vn] \-d
.br
eject [\-vn] \-a on|off|1|0 [<name>]
.br
eject [\-vn] \-c slot [<name>]
.br
eject [\-vn] \-t [<name>]
.br
eject [\-vn] \-T [<name>]
.br
eject [\-vn] \-x <speed> [<name>]
.br
eject [\-vn] \-X [<name>]
.br
eject \-V

.\"O .SH DESCRIPTION
.SH 説明

.\"O .B Eject
.\"O allows removable media (typically a CD-ROM, floppy disk, tape, or JAZ
.\"O or ZIP disk) to be ejected under software control. The command can
.\"O also control some multi-disc CD-ROM changers, the auto-eject feature
.\"O supported by some devices, and close the disc tray of some CD-ROM
.\"O drives.
.B eject
を用いると、リムーバブルメディア (CD-ROM、フロッピーディスク、テープ、
JAZ/ZIP ディスクなど) をソフトウェア制御によってイジェクトできる。
また eject は、連装 CD-ROM チェンジャを制御したり、
デバイスの自動イジェクト機能を制御したり、CD-ROM ドライブのディスクトレイを
閉じることもできる (製品によってはできないこともある)。

.\"O The device corresponding to <name> is ejected. The name can be a
.\"O device file or mount point, either a full path or with the leading
.\"O "/dev", "/media" or "/mnt" omitted. If no name is specified, the default name
.\"O "cdrom" is used.
引き数 <name> に対応するデバイスがイジェクトされる。
name はデバイスファイルまたはマウントポイントであり、フルパスでも先頭の
"/dev", "/media", "/mnt" を省略した形でもどちらでもよい。
name が指定されない場合、デフォルトでは "cdrom" が対象となる。

.\"O There are four different methods of ejecting, depending on whether the
.\"O device is a CD-ROM, SCSI device, removable floppy, or tape. By default
.\"O eject tries all four methods in order until it succeeds.
対象デバイスが CD-ROM、SCSI デバイス、リムーバブルフロッピー、
テープであるかによって、4 つの異なるイジェクト方法がある。
デフォルトでは、eject は 4 つの方法全てを成功するまで順に試行する。

.\"O If the device is currently mounted, it is unmounted before ejecting.
対象デバイスがマウントされている場合、イジェクト前にアンマウントされる。

.PP
.\"O .SH "COMMAND\-LINE OPTIONS"
.SH "コマンド行オプション"
.TP 0.5i
.B \-h
.\"O This option causes
.\"O .B eject
.\"O to display a brief description of the command options.
このオプションは、
.B eject
にコマンドオプションの簡単な説明を表示させる。

.TP 0.5i
.B \-v
.\"O This makes
.\"O .B eject
.\"O run in verbose mode; more information is displayed about what the
.\"O command is doing.
.B eject
を詳細表示モードで実行する; eject が実行していることについて、
より多くの情報が表示される。

.TP 0.5i
.B \-d
.\"O If invoked with this option,
.\"O .B eject
.\"O lists the default device name.
このオプションとともに実行すると、
.B eject
はデフォルトのデバイス名を表示する。

.TP 0.5i
.B \-a on|1|off|0
.\"O This option controls the auto-eject mode, supported by some devices.
.\"O When enabled, the drive automatically ejects when the device is
.\"O closed.
このオプションは、いくつかのデバイスでサポートされている
自動イジェクトモードを制御する。
自動イジェクトモードを有効にすると、
対象デバイスがクローズされたときにそのドライブは自動的にイジェクトする。

.TP 0.5i
.B \-c <slot>
.\"O With this option a CD slot can be selected from an ATAPI/IDE CD-ROM
.\"O changer. Linux 2.0 or higher is required to use this feature. The
.\"O CD-ROM drive can not be in use (mounted data CD or playing a music CD)
.\"O for a change request to work. Please also note that the first slot of
.\"O the changer is referred to as 0, not 1.
このオプションにより、ATAPI/IDE CD-ROM チェンジャの CD スロットを選択できる。
この機能を利用するには、Linux 2.0 以上が必要である。
スロット切替要求が機能するためには、
CD-ROM ドライブが動作中 (データ CD をマウントしていたり、
音楽 CD を演奏していたり) であってはならない。
チェンジャの最初のスロットが、
1 ではなく 0 で参照される点についても注意してほしい。

.TP 0.5i
.B \-t
.\"O With this option the drive is given a CD-ROM tray close command. Not
.\"O all devices support this command.
このオプションは、ドライブに CD-ROM トレイのクローズコマンドを与える。
全てのデバイスがこのコマンドをサポートするわけではない。

.TP 0.5i
.B \-T
.\"O With this option the drive is given a CD-ROM tray close command if
.\"O it's opened, and a CD-ROM tray eject command if it's closed. Not all
.\"O devices support this command, because it uses the above CD-ROM tray
.\"O close command.
このオプションは、CD-ROM トレイがオープンしている場合には、
クローズコマンドを与える。
また CD-ROM トレイがクローズしている場合には、イジェクトコマンドを与える。
このオプションは上記の CD-ROM トレイのクローズコマンドを使うので、
全てのデバイスでこのコマンドがサポートされている訳ではない。

.TP 0.5i
.B \-x <speed>
.\"O With this option the drive is given a CD-ROM select speed command.
.\"O The speed argument is a number indicating the desired speed (e.g. 8
.\"O for 8X speed), or 0 for maximum data rate. Not all devices support
.\"O this command and you can only specify speeds that the drive is capable
.\"O of. Every time the media is changed this option is cleared. This
.\"O option can be used alone, or with the -t and -c options.
このオプションはドライブに CD-ROM スピード選択コマンドを与える。
speed 引き数は希望するスピード (たとえば 8 倍速の場合は 8) を表す数字である。
最大データレートにする場合は 0 にする。
全てのデバイスがこのコマンドをサポートしているわけではないので、
これをサポートしているデバイスにのみ指定できる。
メディアを交換するたびに、このオプションはクリアされる。
このオプションは単独で使用するか、-t と -c オプションとともに使用する。

.TP 0.5i
.B \-X 
.\"O With this option the CD-ROM drive will be probed to detect the
.\"O available speeds. The output is a list of speeds which can be used as
.\"O an argument of the \-x option. This only works with Linux 2.6.13 or
.\"O higher, on previous versions solely the maximum speed will be
.\"O reported. Also note that some drive may not correctly report the speed
.\"O and therefore this option does not work with them.
このオプションは CD-ROM ドライブで利用可能なスピードを調べる。
出力はスピードのリストで、\-x オプションの引き数として指定可能である。
このオプションは Linux 2.6.13 以降でのみ動作し、
それ以前のバージョンでは単に最大スピードだけが返される。
スピードを正確に返さないドライブもあり、
そのようなドライブでは、このオプションが動作しない点に注意すること。

.TP 0.5i
.B \-n
.\"O With this option the selected device is displayed but no action is
.\"O performed.
このオプションは選択されたデバイスを表示するが、何の操作も行わない。

.TP 0.5i
.B \-r
.\"O This option specifies that the drive should be ejected using a
.\"O CDROM eject command.
このオプションは、CDROM イジェクトコマンドを用いて対象ドライブを
イジェクトするよう指定する。
.TP 0.5i

.B \-s
.\"O This option specifies that the drive should be ejected using
.\"O SCSI commands.
このオプションは、SCSI コマンドを用いて対象ドライブをイジェクト
するよう指定する。

.TP 0.5i
.B \-f
.\"O This option specifies that the drive should be ejected using a
.\"O removable floppy disk eject command.
このオプションは、リムーバブルフロッピーディスクイジェクトコマンド
を用いて対象ドライブをイジェクトするよう指定する。

.TP 0.5i
.B \-q
.\"O This option specifies that the drive should be ejected using a
.\"O tape drive offline command.
このオプションは、テープドライブオフラインコマンドを用いて対象
ドライブをイジェクトするよう指定する。

.TP 0.5i
.B \-p
.\"O This option allow you to use /proc/mounts instead /etc/mtab. It
.\"O also passes the -n option to umount(1).
このオプションを指定すると、
/etc/mtab ではなく /proc/mounts を使うことができる。
このオプションは umount(1) に -n オプションを渡す。

.TP 0.5i
.B \-m
.\"O This option allows eject to work with device drivers which automatically
.\"O mount removable media and therefore must be always mount()ed.
このオプションを指定すると、リムーバブルメディアを自動的にマウントする
デバイスドライバと共に eject を使用することができる。
そのためリムーバブルメディアに対して常に mount() が実行される。
.\"O The option tells eject to not try to unmount the given device,
.\"O even if it is mounted according to /etc/mtab or /proc/mounts.
指定されたデバイスが /etc/mtab または /proc/mounts に基づいて
マウントされていても、このオプションは eject にアンマウントを行わせない。

.TP 0.5i
.B \-V
.\"O This option causes
.\"O .B eject
.\"O to display the program version and exit.
このオプションを使うと、
.B eject
はプログラムのバージョンを表示して終了する。

.\"O .SH LONG OPTIONS
.SH 長いオプション
.\"O All options have corresponding long names, as listed below. The long
.\"O names can be abbreviated as long as they are unique.
以下に示すように、全てのオプションには対応する長い名前がある。
これらは、一意に識別できる長さまで省略することができる。

.br
\-h \-\-help
.br
\-v \-\-verbose
.br
\-d \-\-default
.br
\-a \-\-auto
.br
\-c \-\-changerslot
.br
\-t \-\-trayclose
.br
\-T \-\-traytoggle
.br
\-x \-\-cdspeed
.br
\-X \-\-listspeed
.br
\-n \-\-noop
.br
\-r \-\-cdrom
.br
\-s \-\-scsi
.br
\-f \-\-floppy
.br
\-q \-\-tape
.br
\-V \-\-version
.br
\-p \-\-proc
.br
\-m \-\-no-unmount
.br

.\"O .SH EXAMPLES
.SH 例
.PP
.\"O Eject the default device:
デフォルトのデバイスをイジェクトする:
.IP
eject
.PP
.\"O Eject a device or mount point named cdrom:
cdrom という名前のデバイスまたはマウントポイントをイジェクトする:
.IP
eject cdrom
.PP
.\"O Eject using device name:
デバイス名でイジェクトする:
.IP
eject /dev/cdrom
.PP
.\"O Eject using mount point:
マウントポイントでイジェクトする:
.IP
eject /mnt/cdrom/
.PP
.\"O Eject 4th IDE device:
4 番目の IDE デバイスをイジェクトする:
.IP
eject hdd
.PP
.\"O Eject first SCSI device:
1 番目の SCSI デバイスをイジェクトする:
.IP
eject sda
.PP
.\"O Eject using SCSI partition name (e.g. a ZIP drive):
SCSI パーティション名 (例えば、ZIP ドライブ) でイジェクトする:
.IP
eject sda4
.PP
.\"O Select 5th disc on multi-disc changer:
連装チェンジャの 5 番目のディスクを選択する:
.IP
eject \-v \-c4 /dev/cdrom
.PP
.\"O Turn on auto-eject on a SoundBlaster CD-ROM drive:
SoundBlaster CD-ROM ドライブの自動イジェクトを有効にする:
.IP
eject \-a on /dev/sbpcd

.\"O .SH EXIT STATUS
.SH 返り値
.PP

.\"O Returns 0 if operation was successful, 1 if operation failed or command
.\"O syntax was not valid.
操作が成功すると 0 を返す。
操作が失敗、またはコマンドの構文が間違っていると 1 を返す。

.\"O .SH NOTES
.SH 注意
.PP

.\"O .B Eject
.\"O only works with devices that support one or more of the four methods
.\"O of ejecting. This includes most CD-ROM drives (IDE, SCSI, and
.\"O proprietary), some SCSI tape drives, JAZ drives, ZIP drives (parallel
.\"O port, SCSI, and IDE versions), and LS120 removable floppies. Users
.\"O have also reported success with floppy drives on Sun SPARC and Apple
.\"O Macintosh systems. If
.\"O .B eject
.\"O does not work, it is most likely a limitation of the kernel driver
.\"O for the device and not the
.\"O .B eject
.\"O program itself.
.B eject
は、4 つのイジェクト方法のうち 1 つ以上をサポートするデバイスに対して
のみ有効である。
これには、ほとんどの CD-ROM ドライブ (IDE、SCSI、独自規格)、
何種類かの SCSI テープドライブ、JAZ ドライブ、
ZIP ドライブ (パラレルポート版、SCSI 版、IDE 版)、
LS120 リムーバブルフロッピーが含まれる。
Sun SPARC と Apple Macintosh のフロッピードライブについても、
ユーザーからの成功報告がある。
.B eject
が動作しないのは、ほとんどの場合、
そのデバイスのカーネルドライバの制限によるものであり、
.B eject
プログラム自体の制限ではない。

.\"O The \-r, \-s, \-f, and \-q options allow controlling which methods are
.\"O used to eject. More than one method can be specified. If none of these
.\"O options are specified, it tries all four (this works fine in most
.\"O cases).
\-r, \-s, \-f, \-q オプションで、どのイジェクト方法を用いるかを制御できる。
複数のイジェクト方法を指定することができる。
これらのオプションが全く指定されないと、eject は 4 つの方法全てを試行する
(これはほとんどの場合に上手く動作する)。

.\"O .B Eject
.\"O may not always be able to determine if the device is mounted (e.g. if
.\"O it has several names). If the device name is a symbolic link,
.\"O .B eject
.\"O will follow the link and use the device that it points to.
.B eject
は、対象デバイスがマウントされているかどうかを常に判断できるわけではない
(例えば、そのデバイスに複数の名前がある場合)。
デバイス名がシンボリックリンクである場合、
.B eject
はリンクを辿り、リンク先のデバイスを使用する。

.\"O If
.\"O .B eject
.\"O determines that the device can have multiple partitions, it will
.\"O attempt to unmount all mounted partitions of the device before
.\"O ejecting. If an unmount fails, the program will not attempt to eject
.\"O the media.
対象デバイスが複数のパーティションを持ち得ると判断した場合、
.B eject
は、そのデバイスのマウントされたパーティションを
イジェクト前に全てアンマウントしようとする。
アンマウントに失敗すると、eject はメディアのイジェクトを中止する。

.\"O You can eject an audio CD. Some CD-ROM drives will refuse to open the
.\"O tray if the drive is empty. Some devices do not support the tray close
.\"O command.
音楽 CD をイジェクトすることができる。 CD-ROM ドライブによっては、
ドライブが空である場合にトレイを開くことを拒否するものもある。
トレイクローズコマンドをサポートしないデバイスもある。

.\"O If the auto-eject feature is enabled, then the drive will always be
.\"O ejected after running this command. Not all Linux kernel CD-ROM
.\"O drivers support the auto-eject mode. There is no way to find out the
.\"O state of the auto-eject mode.
自動イジェクト機能が有効になると、
そのドライブは eject を実行すると常にイジェクトされるようになる。
全ての Linux カーネル CD-ROM ドライバが、
自動イジェクトモードをサポートするわけではない。
自動イジェクトモードの状態を確認する方法は無い。

.\"O You need appropriate privileges to access the device files. Running as
.\"O root or setuid root is required to eject some devices (e.g. SCSI
.\"O devices).
デバイスファイルへのアクセスには適切な権限が必要である。デバイスによっては
(例えば SCSI デバイス)、 eject を root で実行しなければならなかったり、
または eject を root に setuid しておくことが必要だったりする。

.\"O The heuristic used to find a device, given a name, is as follows. If
.\"O the name ends in a trailing slash, it is removed (this is to support
.\"O filenames generated using shell file name completion). If the name
.\"O starts with '.' or '/', it tries to open it as a device file or mount
.\"O point. If that fails, it tries prepending '/dev/', '/media/' ,'/mnt/',
.\"O \&'/dev/cdroms', '/dev/rdsk/', '/dev/dsk/', and finally './' to the name,
.\"O until a
.\"O device file or mount point is found that can be opened. The program
.\"O checks /etc/mtab for mounted devices. If that fails, it also checks
.\"O /etc/fstab for mount points of currently unmounted devices.
名前からデバイスを発見するために用いる探索法は、以下の通りである。
名前の末尾がスラッシュで終わる場合、それを取り除く
(シェルのファイル名補完機能を使って生成された名前をサポートするため)。
名前が '.' または '/' で始まる場合は、名前をデバイスファイルまたは
マウントポイントとみなしてオープンを試みる。
オープンに失敗すると、オープン可能なデバイスファイルまたは
マウントポイントが見つかるまで、
eject は名前の先頭に '/dev/', '/media/' ,'/mnt/',
\&'/dev/cdroms', '/dev/rdsk/', '/dev/dsk/', './' を挿入して試す。
eject は、マウントされたデバイスを /etc/mtab でチェックする。
これに失敗すると、eject は現在マウントされていないデバイスの
マウントポイントを確認するために /etc/fstab もチェックする。

.\"O Creating symbolic links such as /dev/cdrom or /dev/zip is recommended
.\"O so that
.\"O .B eject
.\"O can determine the appropriate devices using easily remembered names.
/dev/cdrom や /dev/zip のようなシンボリックリンクを作っておくことを勧める。
こうすれば
.B eject
は適切なデバイスを覚えやすい名前を用いて特定できるようになるからである。

.\"O To save typing you can create a shell alias for the eject options that
.\"O work for your particular setup.
キー入力数を節約するため、あなたの環境固有の設定に合わせた eject オプション
へのシェルエイリアスを作るのもよいだろう。

.\"O .SH AUTHOR
.SH 著者
.\"O .B Eject
.\"O was written by Jeff Tranter (tranter@pobox.com) and is released
.\"O under the conditions of the GNU General Public License. See the file
.\"O COPYING and notes in the source code for details.
.B eject
は Jeff Tranter (tranter@pobox.com) によって開発され、
GNU 一般公有使用許諾書の条件下でリリースされる。
詳細については、COPYING ファイルと、ソースコードの注記を参照のこと。

.\"O The \-x option was added by Nobuyuki Tsuchimura (tutimura@nn.iij4u.or.jp),
.\"O with thanks to Roland Krivanek (krivanek@fmph.uniba.sk) and his
.\"O cdrom_speed command.
\-x オプションは Nobuyuki Tsuchimura (tutimura@nn.iij4u.or.jp) によって
追加された。
Roland Krivanek (krivanek@fmph.uniba.sk) の cdrom_speed コマンドに感謝する。

.\"O The \-T option was added by Sybren Stuvel (sybren@thirdtower.com), with
.\"O big thanks to Benjamin Schwenk (benjaminschwenk@yahoo.de).
\-T オプションは Sybren Stuvel (sybren@thirdtower.com) によって追加された。
Benjamin Schwenk (benjaminschwenk@yahoo.de) には非常に感謝している。

.\"O The \-X option was added by Eric Piel (Eric.Piel@tremplin-utc.net).
\-X オプションは Eric Piel (Eric.Piel@tremplin-utc.net) によって追加された。

.\"O .SH SEE ALSO
.SH 関連項目

mount(2), umount(2), mount(8), umount(8)
.br
/usr/src/linux/Documentation/cdrom/
