.\"
.\" Japanese Version Copyright (c) 2005 Yuichi SATO
.\"         all rights reserved.
.\" Translated Sat May 28 10:37:03 JST 2005
.\"         by Yuichi SATO <ysato444@yahoo.co.jp>
.\"
.TH CHACL 1 "ACL File Utilities" "September 2001" "Access Control Lists"
.\"O .SH NAME
.SH 名前
.\"O chacl \- change the access control list of a file or directory
chacl \- ファイルまたはディレクトリのアクセス制御リスト (Access Control List) を変更する
.\"O .SH SYNOPSIS
.SH 書式
.B chacl acl pathname...
.br
.B chacl \-b acl dacl pathname...
.br
.B chacl \-d dacl pathname...
.br
.B chacl \-R pathname...
.br
.B chacl \-D pathname...
.br
.B chacl \-B pathname...
.br
.B chacl \-l pathname...
.br
.B chacl \-r pathname...
.br
.\"O .SH DESCRIPTION
.SH 説明
.\"O .I chacl
.\"O is an IRIX-compatibility command, and is maintained for those
.\"O users who are familiar with its use from either XFS or IRIX.
.I chacl
は IRIX 互換のコマンドであり、
XFS や IRIX で使い慣れているユーザのために保守されている。
.\"O Refer to the
.\"O .B "SEE ALSO"
.\"O section below for a description of tools
.\"O which conform more closely to the (withdrawn draft) POSIX 1003.1e
.\"O standard which describes Access Control Lists (ACLs).
アクセス制御リスト (ACL) について記述している
(撤回されたドラフト) POSIX 1003.1e 規格に、
より準拠したツールについての説明は、
「\fB関連項目\fR」のセクションを参照すること。
.PP
.\"O .I chacl
.\"O changes the ACL(s) for a file or directory.
.\"O The ACL(s) specified are applied to each file in the \f4pathname\f1 arguments.
.I chacl
はファイルまたはディレクトリの ACL を変更する。
指定された ACL は \f4pathname\f1 引き数の各ファイルに適用される。
.P
.\"O Each ACL is a string which is interpreted using the
.\"O .IR acl_from_text (3)
.\"O routine.
各 ACL は文字列であり、
.IR acl_from_text (3)
ルーチンを使って解釈される。
.\"O These strings are made up of comma separated clauses each of which
.\"O is of the form, tag:name:perm.  Where \f4tag\fP can be:
これらの文字列は、tag:name:perm という形式の
コンマで区切られた節 (clause) で構成される。
ここで \f4tag\fP は以下の何れかである:
.TP
.\"O "user" (or "u")
.\"O indicating that the entry is a user ACL entry.
"user" (または "u")
エントリがユーザ ACL エントリであることを表す。
.TP
.\"O "group" (or "g")
.\"O indicating that the entry is a group ACL entry.
"group" (または "g")
エントリがグループ ACL エントリであることを表す。
.TP
.\"O "other" (or "o")
.\"O indicating that the entry is an other ACL entry.
"other" (または "o")
エントリがその他の ACL エントリであることを表す。
.TP
.\"O "mask" (or "m")
.\"O indicating that the entry is a mask ACL entry.
"mask" (または "m")
エントリがマスク ACL エントリであることを表す。
.P
.\"O \f4name\fP is a string which is the user or group name for the ACL entry.
.\"O A null \f4name\fP in a user or group ACL entry indicates the file's
.\"O owner or file's group.
\f4name\fP は ACL エントリのユーザ名まはたグループ名を表す文字列である。
ユーザまたはグループの ACL エントリにおいて \f4name\fP が空の場合は、
それぞれファイルの所有者とファイルのグループを表す。
.\"O \f4perm\fP is the string "rwx" where each of the entries may be replaced
.\"O by a "\-" indicating no access of that type, e.g. "r\-x", "\-\-x", "\-\-\-".
\f4perm\fP は文字列 "rwx" であり、
各エントリはそのタイプのアクセスを許可しないことを示すために
"\-" で置き換えることができる。
例えば、"r\-x", "\-\-x", "\-\-\-" のように書ける。
.\"O .SH OPTIONS
.SH オプション
.TP
.B \-b
.\"O Indicates that there are two ACLs to change, the first is the
.\"O file access ACL and the second the directory default ACL.
変更する ACL が 2 つあることを表す。
1 つ目はファイルアクセス ACL であり、
2 つ目はディレクトリのデフォルト ACL である。
.TP
.B \-d
.\"O Used to set only the default ACL of a directory.  
ディレクトリのデフォルト ACL のみを設定するのに使われる。
.TP
.B \-R
.\"O Removes the file access ACL only.
ファイルアクセス ACL のみを削除する。
.TP
.B \-D
.\"O Removes directory default ACL only.
ディレクトリのデフォルト ACL のみを削除する。
.TP
.B \-B
.\"O Remove all ACLs. 
全ての ACL を削除する。
.TP
.B \-l
.\"O Lists the access ACL and possibly the default ACL associated
.\"O with the specified files or directories.  This option was added
.\"O during the Linux port of XFS, and is not IRIX compatible.
アクセス ACL と (もし存在するならば) 指定されたファイルまたはディレクトリに
関連づけられているデフォルト ACL の一覧を表示する。
このオプションは XFS を Linux に移植するときに追加され、
IRIX とは互換性はない。
.TP
.B \-r
.\"O Set the access ACL recursively for each subtree rooted at \f4pathname\f1(s).
.\"O This option was also added during the Linux port of XFS, and is not
.\"O compatible with IRIX.
\f4pathname\f1 をルートとする各サブツリーに対して、
再帰的にアクセス ACL を設定する。
このオプションは XFS を Linux に移植するときに追加され、
IRIX とは互換性はない。
.\"O .SH EXAMPLES
.SH 例
.\"O A minimum ACL:
最低限の ACL:
.PP
.nf
  \f3chacl u::rwx,g::r-x,o::r-- file\fP
.fi
.PP
.\"O The file ACL is set so that the file's owner has "rwx", the file's
.\"O group has read and execute, and others have read only access to the file.
ファイルの所有者は "rwx"、ファイルのグループは読み込みと実行、
その他のユーザはファイルの読み込みアクセスのみという許可を持つように、
ファイル ACL が設定される。
.P
.\"O An ACL that is not a minimum ACL, that is, one that specifies
.\"O a user or group other than the file's owner or owner's group,
.\"O must contain a mask entry:
以下は最低限の ACL ではない。
つまり、ファイルの所有者または所有グループ以外の
ユーザまたはグループを指定する場合は、
マスクエントリを持たなければならない:
.PP
.nf
  \f4chacl u::rwx,g::r-x,o::r--,u:bob:r--,m::r-x file1 file2\fP
.fi
.PP
.\"O To set the default and access ACLs on \f4newdir\f1 to be the 
.\"O same as on \f4olddir\f1, you could type:
\f4newdir\f1 対して \f4olddir\f1 と同じ
デフォルト ACL とアクセス ACL を設定するには、
以下のように入力すればよい:
.PP
.nf
  \f4chacl \-b `chacl \-l olddir | \\
      sed \-e 's/.*\\[//' \-e 's#/# #' \-e 's/]$//'` newdir
\fP
.fi
.\"O .SH CAUTIONS
.SH 警告
.\"O .I chacl
.\"O can replace the existing ACL.  To add or delete entries, you
.\"O must first do \f4chacl \-l\fP to get the existing ACL, and use the output
.\"O to form the arguments to
.\"O .IR chacl .
.I chacl
は既存の ACL を置き換えることができる。
エントリを追加・削除する場合は、
最初に \f4chacl \-l\fP を実行して既存の ACL を取得し、
.I chacl
の引き数を作るためにその出力を使うこと。
.P
.\"O Changing the permission bits of a file will change the file access
.\"O ACL settings (see
.\"O .IR chmod (1)).
ファイルの許可 (permission) ビットを変更すると、
ファイルアクセス ACL の設定が変更される
.RI ( chmod (1)
を参照)。
.\"O However, file creation mode masks (see
.\"O .IR umask (1))
.\"O will not affect the access ACL settings of files created using directory 
.\"O default ACLs. 
しかし、ファイル作成モードマスク
.RI ( umask (1)
を参照) は、ディレクトリのデフォルト ACL によって作成された
ファイルのアクセス ACL 設定には影響しない。
.P
.\"O ACLs are filesystem extended attributes and hence are not typically
.\"O archived or restored using the conventional archiving utilities.
ACL はファイルシステムの拡張属性であるので、
一般的なアーカイブユーティリティでは、通常はアーカイブやリストアされない。
.\"O See
.\"O .IR attr (5)
.\"O for more information about extended attributes and see
.\"O .IR xfsdump (8) 
.\"O for a method of backing them up under XFS.
拡張属性についての詳しい情報は
.IR attr (5)
を参照すること。
XFS で拡張属性をバックアップする方法については、
.IR xfsdump (8) 
を参照すること。
.\"O .SH SEE ALSO
.SH 関連項目
.BR getfacl "(1), " setfacl "(1), " chmod "(1), " umask "(1), " acl_from_text "(3), " acl "(5), " xfsdump (8)
