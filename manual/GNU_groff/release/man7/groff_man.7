.ig \"-*- nroff -*-
Copyright (C) 1999-2000 Free Software Foundation, Inc.

Permission is granted to make and distribute verbatim copies of
this manual provided the copyright notice and this permission notice
are preserved on all copies.

Permission is granted to copy and distribute modified versions of this
manual under the conditions for verbatim copying, provided that the
entire resulting derived work is distributed under the terms of a
permission notice identical to this one.

Permission is granted to copy and distribute translations of this
manual into another language, under the above conditions for modified
versions, except that this permission notice may be included in
translations approved by the Free Software Foundation instead of in
the original English.
..
.\" Japanese Version Copyright (c) 2001 UCHIDA Norihiro all rights reserved.
.\" Translated Thu Feb 15 2001 by UCHIDA Norihiro <KY4N-UCD@asahi-net.or.jp>
.de TQ
.br
.ns
.TP \\$1
..
.TH GROFF_MAN 7 "22 May 2000" "Groff Version 1.16.1"
.
.SH 名前
.
groff_man \- マニュアルページ生成用の groff `man' マクロ
.
.SH 書式
.
.B groff
.B \-man
[
.IR options .\|.\|.
]
[
.IR files .\|.\|.
]
.
.SH 説明
.
.I groff
がマニュアルページを生成するときに使われる
.B tmac.an
マクロは、James Clark により記述された。
このドキュメントは、パッケージに含まれるそれぞれのマクロの使用法
を簡単に説明する。
.
.SH オプション
.
.B man
マクロは以下のようなコマンドラインオプションを解釈する
(オプションは、さまざまなレジスタ値を定義する)。
.TP
.B \-rC1
コマンドラインに一つ以上のマニュアルページが与えられたときに、
ページ番号をそれぞれ 1 から始めるのではなく連番にする。
.TP
.B \-rD1
両面印刷。
フッタの偶数・奇数ページは異なる整形になる。
.TP
.BI \-rP nnn
開始ページ番号を 1 からではなく
.I nnn
からにする。
.TP
.BI \-rS xx
基準となるドキュメントフォントサイズを 10 ポイントではなく
.I xx
ポイントにする。
.RI ( xx
は 10, 11, 12 が選択できる)
.TP
.BI \-rX nnn
.I nnn
ページの後のページ番号を、
.IR nnn a,
.IR nnn b,
.IR nnn c,
のようにする。
例えば、オプション `\-rX2' は以下のようなページ番号を生成する:
1, 2, 2a, 2b, 2c, ...
.
.SH 使用法
.
このセクションでは、マニュアルページに使用できるマクロについて説明する。
さらに調整する場合は、
.B tmac.an
の直後にロードされる
.B man.local
ファイルに追加のマクロとリクエストを記述すること。
.TP
.BI .TH " title section " [ extra1 "] [" extra2 "] [" extra3 ]
マニュアルページのタイトルを
.I titie
に、セクション番号を
.I section
に設定する。
セクション番号は 1 から 8 までの値にすること。
.I section
の値は `.pm' のような文字列を追加して、マニュアルページの特別なサブセクション
を指定してもかまわない。
.I title
と
.I section
は、ヘッダの左右に配置される。
.RI ( section
は、括弧でくくられて
.I title
の直後に置かれる)
.I extra1
は、フッタ行の中央に配置される。
.I extra2
は、フッタ行の左側に配置される。(両面印刷の時は、偶数ページには右側、
奇数ページには左側にそれぞれ配置される)
.I extra3
は、ヘッダ行の中央に配置される。
.IP
HTML出力時は、ヘッダ行とフッタ行はまったく出力されない。
.IP
さらに、このマクロは新しいページを開始する。新しいページ番号は再び 1 になる。
(コマンドラインに `-rC1' オプションが指定された場合は除く) -- この特徴は
複数のマニュアルページを整形する場合だけを想定している。
単一のマニュアルページには
.B TH
マクロは一つだけ、ファイル先頭に含まれるべきである。
.TP
.BI ".SH [" "text for a heading" ]
数字のないセクションの見出し (heading) を、左側に突き出すように設定する。
.B SH
に続くテキストは、行末までのすべてがボールド体かつ標準のドキュメントフォントサイズ
よりひとまわり大きな文字で出力される。
.RB ( SH
に引き数がない場合は、次の行のテキストが見出しになる)
さらに、後に続くテキストの左側マージンはデフォルト値にリセットされる。
.TP
.BI ".SS [" "text for a heading" ]
第 2 レベルの、数字のないセクションの見出しを設定する。
.B SS
に続くテキストは、行末までのすべてがボールド体かつ標準のドキュメントフォントサイズ
と同じサイズで出力される。
.RB ( SS
に引き数がない場合は、次の行のテキストが見出しになる)
さらに、後に続くテキストの左側マージンはデフォルト値にリセットされる。
.TP
.BI ".TP [" nnn ]
ラベル付きの、インデントされた段落を設定する。
引き数が指定された場合は、インデント量が
.I nnn
に設定される。(単位を省略した場合のデフォルトは `n' (半角) になる)
引き数を省略すると、デフォルトのインデント量が設定される。
このマクロの次行のテキストは、左ぞろいに表示される文字列とみなされて、
ラベルとしてあつかわれる。
この行は段落の一部として処理されないので、その次の入力行が行送りされて
連結されることはない。
そのかわり、ラベルがインデント量より長くない場合には、段落は同じ行から
始まり、後に続く行が連結されていく。(ただし段落はインデントされる)
ラベルがインデント量より長い場合は、段落の記述部分はラベルの次行から
始まり、すべてインデントされる。
ラベルのフォント形もフォントサイズもデフォルト値に設定されないことに
注意すること。一方で、テキストの残りはデフォルトのフォントに設定される。
.B TP
マクロは、今まさにあなたが読んでいる説明に使用されている。
.TP
.B .LP
.TQ
.B .PP
.TQ
.B .P
これらのマクロはそれぞれの別名である。
これらは、現在の位置で改行をして、
.B PD
マクロで指定された量だけ下方に行送りをする。
フォントサイズと形状はデフォルト値にリセットされる。(10pt の ローマン体)
最後に、現在の左マージンは保持される。
.TP
.BI ".IP [" designator "] [" nnn ]
インデントされた段落を設定する。
.I designator
を段落開始の見出し記号とする。
引き数が指定された場合は、インデント量が
.I nnn
に設定される。(デフォルトの単位は `n' (半角) である)
引き数を省略すると、デフォルトのインデント量が設定される。
見出し記号以外の、段落のフォントサイズと形状はデフォルト値にリセットされる。
特定のインデント量の段落を設定したいが、見出し記号は必要ない場合は
第二引き数に `""' (二つのダブルクォーテーション) を使用する。
.IP
例として、以下の段落はすべて見出し記号として中黒 (bullets) を設定するため、
`.IP\ \\(bu\ 4' を使用している:
.RS
.IP \(bu 4
.B IP
は、
.B tmac.an
で使用されるリストを整形する三つのマクロの一つである。
.IP \(bu 4
.B HP
もその一つである。
このマクロは左側にとびだしたインデントをもつ段落を生成する。
.IP \(bu 4
.B TP
もその一つである。
このマクロはインデントしていないラベルに続いて、インデントされた段落を生成する。
.RE
.TP
.BI ".HP [" nnn ]
左側にとびだしたインデントをもつ段落を設定する。
引き数が指定された場合は、インデント量が
.I nnn
に設定される。(デフォルトの単位は `n' (半角) である)
引き数を省略すると、デフォルトのインデント量が設定される。
フォントサイズと形状はデフォルト値にリセットされる。
以下の段落で、インデント量を 4 にしたこのマクロの効果を示す:
.RS
.HP 4
この段落は、
.B HP
マクロの影響下にある。
見てのとおり、このマクロは最初の行以外がすべてインデントしている段落を
生成する。
.RE
.TP
.BI ".RS [" nnn ]
このマクロは、引き数が指定されると左側マージン量を右方向へ
.I nnn
の値だけ増加する。(デフォルトの単位は `n' (半角) である)
引き数を省略すると、デフォルトのインデント量が設定される。
.B RS
マクロの呼び出しは入れ子にできる。
.TP
.BI ".RE [" nnn ]
このマクロは、左側マージンを
.I nnn
のレベルに戻す。
引き数が与えられなかった場合は、1 レベル戻る。
最初のレベル (例えば
.B RS
の呼び出しがまだ行われていないときなど) は 1 であり、
.B RS
が呼び出されるたびにレベルは 1 ずつ増加していく。
.PP
まとめると、以下のマクロ
.RB ( SH ,
.BR SS ,
.BR TP ,
.B LP
.RB ( PP ,
.BR P ),
.BR IP ,
.BR HP )
による改行は指定量の行送り幅が挿入される。(行送りの量は、
.B PD
マクロにより変更できる)
また、
.B RS
と
.B RE
のマクロは、改行時に行送り幅の変更はしない。
.
.SH フォント設定用のマクロ
.
標準のフォントはローマン体であり、デフォルトのサイズは 10 ポイントである。
.TP
.BI ".SM [" text ]
同じ行のテキストまたは次の行のテキストを、デフォルトのフォントから 1 ポイント
小さいサイズで表す。
.TP
.BI ".SB [" text ]
同じ行のテキストまたは次の行のテキストを、ボールド体かつデフォルトのフォント
から 1 ポイント小さいサイズで表す。
.TP
.BI ".BI " text
同じ行のテキストを、ボールド体とイタリック体で交互に表す。
テキストは、マクロ呼び出しと同じ行に示す必要がある。
例えば、
.RS
.IP
\&.BI this "word and" that
.PP
という設定では、`this' と `that' がボールド体、`word and' がイタリック体で
表される。
.RE
.TP
.BI ".IB " text
テキストを、イタリック体とボールド体で交互に表す。
テキストは、マクロ呼び出しと同じ行に示す必要がある。
.TP
.BI ".RI " text
テキストを、ローマン体とイタリック体で交互に表す。
テキストは、マクロ呼び出しと同じ行に示す必要がある。
.TP
.BI ".IR " text
テキストを、イタリック体とローマン体で交互に表す。
テキストは、マクロ呼び出しと同じ行に示す必要がある。
.TP
.BI ".BR " text
テキストを、ボールド体とローマン体で交互に表す。
テキストは、マクロ呼び出しと同じ行に示す必要がある。
.TP
.BI ".RB " text
テキストを、ローマン体とボールド体で交互に表す。
テキストは、マクロ呼び出しと同じ行に示す必要がある。
.TP
.BI ".R [" text ]
.I text
をローマン体で表す。
マクロ呼び出し行にテキストが指定されなかった場合は、次の行のテキストを
ローマン体で表す。
このフォントが、他のマクロの処理が終了して戻ってきたときのデフォルトである。
.TP
.BI ".B [" text ]
.I text
をボールド体で表す。
マクロ呼び出し行にテキストが指定されなかった場合は、次の行のテキストを
ボールド体で表す。
.TP
.BI ".I [" text ]
.I text
をイタリック体で表す。
マクロ呼び出し行にテキストが指定されなかった場合は、次の行のテキストを
イタリック体で表す。
.
.SH その他
.
すべての出力デバイスにおいて、デフォルトのインデント量は 7.2n である。
ただし、
.B grohtml
は例外で、1.2i に設定される。
.TP
.B .DT
タブ幅をすべて 0.5 インチに設定する。
このマクロは常に
.B TH
呼び出しのもとで使用され、タブ位置を変更するためにだけ呼び出される。
.TP
.BI ".PD [" nnn ]
セクションのような新しい段落の、直前の空白量を調整する。
引き数により、空白の量を指定する。(デフォルトの単位は `v')
引き数を指定しなかった場合は、デフォルトの値にリセットされる。
(tty デバイスなら 1 行、それ以外なら 0.4v)
以下のマクロに影響する:
.BR SH ,
.BR SS ,
.BR TP ,
.B LP
(および
.B PP
と
.BR P ),
.BR IP ,
.BR HP
.PP
以下の文字列が定義されている:
.TP
.B \e*S
デフォルトのフォントサイズに戻す。
.TP
.B \e*R
登録記号。
.TP
.B \e*(Tm
商標記号。
.TP
.B \e*(lq
.TQ
.B \e*(rq
左および右引用符号。
`\e(lq' と `\e(rq' にそれぞれ等しい。
.PP
.B tbl
や
.B eqn
のようなプリプロセッサが必要な場合は、以下のようにマニュアルページの最初の行に
使用するプリプロセッサを指定する。
.PP
.RS
.BI .\e"\  word
.RE
.PP
ダブルクォーテーションの後には空白があることに注意すること。
.I word
は必要とするプリプロセッサの指定子である: `e' は
.BR eqn 、
`r' は
.BR refer 、
`t' は
.B tbl
をそれぞれ表す。
最近の
.B man
プログラムの実装では、この最初の行を読み込んで自動的に適切なプリプロセッサ
を呼び出している。
.SH 関連項目
.
.B tmac.an
マクロは
.I groff
のリクエストの集合であるので、原則としては必要に応じて
.B tmac.an
マクロに個々の
.I groff
リクエストのマクロを追加することができる。
これらのリクエストの完全なリストは、以下の WWW で参照できる。
.PP
.ce 1
http://www.cs.pdx.edu/~trent/gnu/groff/groff_toc.html
.PP
.BR tbl (1),
.BR eqn (1),
.BR refer (1),
.BR man (1)
.
.SH 著者
.
このマニュアルページは、もともと Susan G. Kleinmann <sgk@debian.org> によって
Debian GNU/Linux システムのために書かれた。
Werner Lemberg <wl@gnu.org> によって加筆・修正されて、GNU troff パッケージの
一部となった。


