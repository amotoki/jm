.\" This page is originally in the SysVinit package.
.\"
.\" Translated Fri 14 Feb 1997 by Kazuyoshi Furutaka <furutaka@Flux.tokai.jaeri.go.jp>
.\" Updated Wed  3 May 2000 by Kentaro Shirakata <argrath@ub32.org>
.\"
.\"{{{}}}
.\"{{{  Title
.TH LAST,LASTB 1 "Jul 29, 1999" "" "Linux System Administrator's Manual"
.\"}}}
.\"{{{  名前
.SH 名前
last, lastb \- 最近ログインしたユーザのリストを表示する
.\"}}}
.\"{{{  書式
.SH 書式
.B last
.RB [ \-R ]
.RB [ \-\fInum\fP ]
.RB "[ \-\fBn\fP \fInum\fP ]"
.RB [ \-adiox ]
.RB "[ \-\fBf\fP \fIfile\fP ]"
.RI [ name... ]
.RI [ tty... ]
.br
.B lastb
.RB [ \-R ]
.RB [ \-\fInum\fP ]
.RB "[ \-\fBn\fP \fInum\fP ]"
.RB "[ \-\fBf\fP \fIfile\fP ]"
.RB [ \-adiox ]
.RI [ name... ]
.RI [ tty... ]
.\"}}}
.\"{{{  説明
.SH 説明
.\"O .B Last
.\"O searches back through the file \fB/var/log/wtmp\fP (or the file
.\"O designated by the \fB\-f\fP flag) and displays a list of all
.\"O users logged in (and out) since that file was created.  Names of users
.\"O and tty's can be given, in which case \fBlast\fP will show only those entries
.\"O matching the arguments.  Names of ttys can be abbreviated, thus \fBlast
.\"O 0\fP is the same as \fBlast tty0\fP.  
.B last
は\fB/var/log/wtmp\fPファイル(もしくは\fB\-f\fPオプションを用いて
指定したファイル)を時間の流れとは逆方向に検索して行き、
そのファイルが作られて以来ログイン(及びログアウト)した全ての
ユーザのリストを表示する。
ユーザ名及びttyの名前を引数として与える事もできる。
その場合は引数と一致したエントリーのみを表示する。
ttyの名前は簡略化する事が出来る。
例えば、\fBlast 0\fPは\fBlast tty0\fPとするのと同じである。
.PP
.\"O When \fBlast\fP catches a \s-2SIGINT\s0 signal (generated by the interrupt key,
.\"O usually control-C) or a \s-2SIGQUIT\s0 signal (generated by the quit key, 
.\"O usually control-\e), \fBlast\fP will show how far it has searched through the 
.\"O file; in the case of the \s-2SIGINT\s0 signal \fBlast\fP will then terminate.
\fBlast\fPは
\s-2SIGINT\s0シグナル(インタラプト・キー(通常はcontrol-C)を押すと発生する)
もしくは
\s-2SIGQUIT\s0シグナル(quitキー(通常はcontrol-\e)を押すと発生する) 
を受け取ると、
いつの分まで検索したかを表示し、
\s-2SIGINT\s0シグナルの場合はプログラムを終了する。
.PP
システムをリブートすると、
疑似的なユーザ\fBreboot\fPがログインしたものとして
\fB/var/log/wtmp\fPファイルに記録が残される。
従って、\fBlast reboot\fPとすると、ログファイル生成以後全ての
リブートのログが表示される。
.PP
.\"O \fBLastb\fP is the same as \fBlast\fP, except that by default it shows a log
.\"O of the file \fB/var/log/btmp\fP, which contains all the bad login attempts.
\fBlastb\fP は、デフォルトでは不正なログインを記録する
\fB/var/log/btmp\fPファイルのログを表示するということ以外は 
\fBlast\fPと同じである。
.\"}}}
.\"{{{  オプション
.SH オプション
.IP \fB\-\fP\fInum\fP
\fBlast\fPに何行表示させるか指定する。
.IP "\fB\-n\fP \fInum\fP"
同上。
.IP \fB\-R\fP
.\"O Suppresses the display of the hostname field.
\fBhostname\fPフィールドを表示しない。
.IP \fB\-a\fP
ホスト名を最後の欄に表示する。
次のオプションと組み合わせて用いると便利。
.IP \fB\-d\fP
ローカルからのログインでない場合は、Linuxはリモートホストの名前だけでなく、
その IP アドレスも記録している。
このオプションを用いた場合は、その IP アドレスをホスト名に変換し直して表示する。
.IP \fB\-i\fP
.\"O This option is like \fB-d\fP in that it displays the IP number of the remote
.\"O host, but it displays the IP number in numbers-and-dots notation.
このオプションは\fB-d\fPと同様にリモートホストの IP アドレスを表示するが、
アドレスを 数字と `.' を使った形式で表示する。
.IP \fB\-o\fP
.\"O Read an old-type wtmp file (written by linux-libc5 applications).
(linux-libc5 アプリケーションが作成した)古い形の wtmp ファイルを読み込む。
.IP \fB\-x\fP
システムのシャットダウン及びランレベル変更の記録も表示する。
.\"}}}
.SH 注意
\fIwtmp\fP及び\fIbtmp\fPファイルが存在しない可能性もある。
システムは
これらのファイルが存在する場合のみ情報を書き留める。
上記のファイルが存在するか否かは各サイトの設定の問題である。
これらのファイルを使いたい場合は、\fBtouch\fP(1) コマンドを使って簡単に
作る事が出来る(例えば、\fItouch /var/log/wtmp\fP) 。
.\"O .\"{{{  Files
.\"O .SH FILES
.SH ファイル
/var/log/wtmp
.br
/var/log/btmp
.\"}}}
.\"{{{  著者
.SH 著者
Miquel van Smoorenburg, miquels@cistron.nl
.\"}}}
.\"{{{  関連項目
.SH 関連項目
.BR shutdown (8),
.BR login (1),
.BR init (8)
.\"}}}

