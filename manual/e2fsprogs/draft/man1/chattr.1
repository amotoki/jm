.\" -*- nroff -*-
.\" 
.\" This page is a part of e2fsprogs.
.\" 
.\" Japanese Version Copyright 1998 by MATSUMOTO Shoji. All Rights Reserved.
.\" Translated Wed Mar 13 1998 by MATSUMOTO Shoji.
.\" Updated Sat 23 Oct 1999 by NAKANO Takeo <nakano@apm.seikei.ac.jp>
.\" Updated Tue 16 Nov 1999 by NAKANO Takeo
.\" Updated & Modified Tue Jul 31 06:01:10 JST 2001
.\"         by Yuichi SATO <ysato@h4.dion.ne.jp>
.\" Updated Thu 3 Oct 2002 by NAKANO Takeo
.\" Updated & Modified Sat Apr 17 10:22:11 JST 2004
.\"         by Yuichi SATO <ysato4444@yahoo.co.jp>
.\" Updated & Modified Sat Oct 28 02:26:53 JST 2006 by Yuichi SATO
.\"
.\"WORD:	attribute	属性
.\"WORD:	symbolic mode	モードの記法
.\"WORD:	format		フォーマット
.\"
.TH CHATTR 1 "May 2006" "E2fsprogs version 1.39"
.\"O .SH NAME
.\"O chattr \- change file attributes on a Linux second extended file system
.SH 名前
chattr \- Linux  第 2 拡張ファイルシステム (ext2fs) 上にある
ファイルの属性 (attribute) を変更する
.\"O .SH SYNOPSIS
.SH 書式
.B chattr
[
.B \-RV
]
[
.B \-v
.I version
]
[
.I mode
]
.I files...
.\"O .SH DESCRIPTION
.SH 説明
.\"O .B chattr
.\"O changes the file attributes on a Linux second extended file system.
.B chattr
は Linux 第 2 拡張ファイルシステム (ext2fs) 上にある
ファイルの属性 (attribute) を変更する。
.PP
.\"O The format of a symbolic mode is +-=[ASacDdIijsTtu].
mode の記法フォーマットは +-=[ASacDdIijsTtu] である。
.PP
.\"O The operator `+' causes the selected attributes to be added to the
.\"O existing attributes of the files; `-' causes them to be removed; and
.\"O `=' causes them to be the only attributes that the files have.
+ オペレータを使用すると、選択した属性がファイルに付加される。
- オペレータを使用すると解除される。
= オペレータを使用すると、ファイルは指定した属性だけを持つことになる。
.PP
.\"O The letters `acdijsuADST' select the new attributes for the files: 
.\"O append only (a), compressed (c), no dump (d), immutable (i),
.\"O data journalling (j), secure deletion (s), no tail-merging (t), 
.\"O undeletable (u), no atime updates (A), synchronous directory updates (D), 
.\"O synchronous updates (S), and top of directory hierarchy (T).
「acdijsuADST」は指定できる属性である。
(a) 追加のみ許可 (append only)、(c) 圧縮 (compressed)、
(d) ダンプしない (no dump)、(i) 変更不可 (immutable)、
(j) データのジャーナリング (data journalling)、
(s) 安全な削除 (secure deletion)、(t) 末尾マージをしない (no tail-merging)、
(u) 復活可能 (undeletable)、
(A) atime を更新しない、
(D) ディレクトリの同期更新 (synchronous directory updates)、
(S) 同期更新 (synchronous updates)、
(T) ディレクトリ階層のトップ。
.\"O .SH OPTIONS
.SH オプション
.TP
.B \-R
.\"O Recursively change attributes of directories and their contents.
.\"O Symbolic links encountered during recursive directory traversals are
.\"O ignored.
再帰的にディレクトリやその中身の属性を変更する。
ディレクトリを順番に訪れている途中でシンボリックリンクに出会った場合は、
これを無視する。
.TP
.B \-V
.\"O Be verbose with chattr's output and print the program version.
属性の変更を詳細に表示する。
.TP
.BI -v " version"
.\"O Set the file's version/generation number.
ファイルシステムのバージョン/世代を設定する。
.\"O .SH ATTRIBUTES
.SH 属性
.\"O When a file with the 'A' attribute set is accessed, its atime record is
.\"O not modified.  This avoids a certain amount of disk I/O for laptop
.\"O systems.
`A' 属性が設定されているファイルは、
アクセスされても atime レコードが変更されない。
これはラップトップシステムのディスク I/O をある程度軽減する。
.PP
.\"O A file with the `a' attribute set can only be open in append mode for writing.
.\"O Only the superuser or a process possessing the CAP_LINUX_IMMUTABLE 
.\"O capability can set or clear this attribute.
`a' 属性が設定されているファイルは、
書き込みの際に追加モードでしかオープンできない。
スーパーユーザーまたは
CAP_LINUX_IMMUTABLE ケーパビリティ (capability) を持つプロセスだけが、
この属性を設定・解除できる。
.PP
.\"O A file with the `c' attribute set is automatically compressed on the disk
.\"O by the kernel.  A read from this file returns uncompressed data.  A write to
.\"O this file compresses data before storing them on the disk.  Note: please 
.\"O make sure to read the bugs and limitations section at the end of this
.\"O document.
`c' 属性が設定されているファイルは、
ディスク上に置かれるときカーネルによって自動的に圧縮される。
このファイルを読み出すと、伸長されたデータが返ってくる。
このファイルに書き込むと、ディスク上に保存する前にデータが圧縮される。
注意: このドキュメントの最後にある
「バグと制限」のセクションを読んで確かめてほしい。
.PP
.\"O When a directory with the `D' attribute set is modified,
.\"O the changes are written synchronously on the disk; this is equivalent to
.\"O the `dirsync' mount option applied to a subset of the files.
`D' 属性が設定されているディレクトリは、
変更されると同時にディスクにもその内容が書き込まれる。
これは `dirsync' マウントオプションを、
それらのファイルだけに適用するのと同じことである。
.PP
.\"O A file with the `d' attribute set is not candidate for backup when the
.\"O .BR dump (8)
.\"O program is run.
`d'  属性が設定されているファイルは、
.BR dump (8)
プログラムを起動した際にバックアップされない。
.PP
.\"O The 'E' attribute is used by the experimental compression patches to 
.\"O indicate that a compressed file has a compression error.  It may not be
.\"O set or reset using 
.\"O .BR chattr (1),
.\"O although it can be displayed by
.\"O .BR lsattr (1).
`E' 属性は実験的な圧縮パッチが用いるもので、
圧縮ファイルに圧縮エラーがあることを示す。
この属性は
.BR chattr (1)
によって設定したり解除したりすることはできないが、
.BR lsattr (1)
を用いて表示させることはできる。
.PP
.\"O The 'I' attribute is used by the htree code to indicate that a directory
.\"O is behind indexed using hashed trees.  It may not be set or reset using 
.\"O .BR chattr (1),
.\"O although it can be displayed by
.\"O .BR lsattr (1).
`I' 属性は htree コードによって用いられ、
ディレクトリがハッシュツリーを使って索引を付けられることを示す。
この属性は
.BR chattr (1)
によって設定したり解除したりすることはできないが、
.BR lsattr (1)
を用いて表示させることはできる。
.PP
.\"O A file with the `i' attribute cannot be modified: it cannot be deleted or
.\"O renamed, no link can be created to this file and no data can be written
.\"O to the file.  Only the superuser or a process possessing the
.\"O CAP_LINUX_IMMUTABLE capability can set or clear this attribute.
`i' 属性が設定されているファイルは、変更することができない。
すなわち、削除、名前の変更、このファイルを指すリンクの作成、
このファイルに対するデータの書き込みが禁止される。
スーパーユーザーまたは
CAP_LINUX_IMMUTABLE ケーパビリティを持つプロセスだけが、
この属性を設定・解除できる。
.PP
.\"O A file with the `j' attribute has all of its data written to the ext3
.\"O journal before being written to the file itself, if the filesystem is
.\"O mounted with the "data=ordered" or "data=writeback" options.  When the
.\"O filesystem is mounted with the "data=journal" option all file data
.\"O is already journalled and this attribute has no effect.  
`j' 属性が設定されているファイルは、
ファイルシステムが "data=ordered"  または "data=writeback" オプションで
マウントされている場合、
ファイルそのものに書き出される前に、
ext3 のジャーナルにデータが書き出される。
ファイルシステムが "data=journal" オプションでマウントされている場合、
全てのファイルデータは既にジャーナルに記録されているので、
この属性は何も影響しない。
.\"O Only the superuser or a process possessing the CAP_SYS_RESOURCE
.\"O capability can set or clear this attribute.
スーパーユーザーまたは
CAP_SYS_RESOURCE ケーパビリティを持つプロセスだけが、
この属性を設定・解除できる。
.PP
.\"O When a file with the `s' attribute set is deleted, its blocks are zeroed
.\"O and written back to the disk.  Note: please make sure to read the bugs
.\"O and limitations section at the end of this document.
`s' 属性が設定されているファイルが削除されると、
割り当てられていたブロックの中身が 0 にされ、ディスクに書き戻される。
注意: このドキュメントの最後にある
「バグと制限」のセクションを読んで確かめてほしい。
.PP
.\"O When a file with the `S' attribute set is modified,
.\"O the changes are written synchronously on the disk; this is equivalent to
.\"O the `sync' mount option applied to a subset of the files.
`S' 属性が設定されているファイルが変更されると、
変更は同期的にディスクに書き込まれる
(すなわち変更が直ちにディスク上に反映される)。
これは mount オプションの `sync' を
それらのファイルだけに適用するのと同じことである。
.PP
.\"O A directory with the 'T' attribute will be deemed to be the top of 
.\"O directory hierarchies for the purposes of the Orlov block allocator
.\"O (which is used in on systems with Linux 2.5.46 or later).
`T' 属性が設定されているディレクトリは、
(Linux 2.5.46 以降のシステムで使われる)
Orlov ブロックアロケータのための
ディレクトリ階層のトップとして扱われる。
.PP
.\"O A file with the 't' attribute will not have a partial block fragment at
.\"O the end of the file merged with other files (for those filesystems which
.\"O support tail-merging).  This is necessary for applications such as LILO 
.\"O which read the filesystem directly, and which don't understand tail-merged
.\"O files.  Note: As of this writing, the ext2 or ext3 filesystems do not
.\"O (yet, except in very experimental patches) support tail-merging.
`t' 属性が設定されているファイルは、
そのファイルが他のファイルとマージされたときに
部分的ブロックのフラグメントを末尾に作らない
(末尾マージ (tail-merging) をサポートしているファイルシステムの場合)。
これは LILO のような、ファイルシステムを直接読みにいき、
かつ末尾マージされたファイルのことを理解しないような
アプリケーションに対して必要となる。
注: この man ページを書いている時点で、ext2 と ext3 ファイルシステムは
(まだ非常に実験的なパッチ以外では)
末尾マージをサポートしていない。
.PP
.\"O When a file with the `u' attribute set is deleted, its contents are
.\"O saved.  This allows the user to ask for its undeletion.  Note: please
.\"O make sure to read the bugs and limitations section at the end of this
.\"O document.
`u' 属性が設定されているファイルを削除すると、
その内容は保護される。
これにより、ユーザがファイルを復活させることが可能になる。
注意: このドキュメントの最後にある
「バグと制限」のセクションを読んで確かめてほしい。
.PP
.\"O The 'X' attribute is used by the experimental compression patches to 
.\"O indicate that a raw contents of a compressed file can be accessed
.\"O directly.  It currently may not be set or reset using 
.\"O .BR chattr (1),
.\"O although it can be displayed by
.\"O .BR lsattr (1).
`X' 属性は実験的な圧縮パッチによって用いられ、
圧縮ファイルの内容が圧縮状態のまま直接アクセス可能であることを示す。
この属性は現在のところ
.BR chattr (1)
によって設定したり解除したりすることはできないが、
.BR lsattr (1)
を用いて表示させることはできる。
.PP
.\"O The 'Z' attribute is used by the experimental compression patches to 
.\"O indicate a compressed file is dirty.  It may not be set or reset using 
.\"O .BR chattr (1),
.\"O although it can be displayed by
.\"O .BR lsattr (1).
`Z' 属性は実験的な圧縮パッチによって用いられ、
圧縮ファイルが汚染されている (dirty) ことを示す。
この属性は
.BR chattr (1)
によって設定したり解除したりすることはできないが、
.BR lsattr (1)
を用いて表示させることはできる。
.PP
.\"O .SH AUTHOR
.SH 著者
.\"O .B chattr
.\"O was written by Remy Card <Remy.Card@linux.org>.  It is currently being
.\"O maintained by Theodore Ts'o <tytso@alum.mit.edu>.
.B chattr 
は、Remy Card <Remy.Card@linux.org> によって作成された。
現在は Theodore Ts'o <tytso@alum.mit.edu> によってメンテナンスされている。
.\"O .SH BUGS AND LIMITATIONS
.SH バグと制限
.\"O The `c', 's',  and `u' attributes are not honored 
.\"O by the ext2 and ext3 filesystems as implemented in the current mainline
.\"O Linux kernels.    These attributes may be implemented
.\"O in future versions of the ext2 and ext3 filesystems.
`c', 's', `u' 属性への対応は、現在主流になっている Linux カーネルで
実装されている ext2 と ext3 ファイルシステムに含まれていない。
これらの属性は将来の ext2 と ext3 に実装されるかもしれない。
.PP
.\"O The `j' option is only useful if the filesystem is mounted as ext3.
`j' オプションは、ext3 でマウントされた
ファイルシステムについてのみ有効である。
.PP
.\"O The `D' option is only useful on Linux kernel 2.5.19 and later.
`D' オプションは Linux カーネル 2.5.19 以降でのみ利用できる。
.\"O .SH AVAILABILITY
.SH 入手方法
.\"O .B chattr
.\"O is part of the e2fsprogs package and is available from
.\"O http://e2fsprogs.sourceforge.net.
.B chattr
は e2fsprogs パッケージの一部であり、
http://e2fsprogs.sourceforge.net から入手できる。
.\"O .SH SEE ALSO
.SH 関連項目
.BR lsattr (1)
