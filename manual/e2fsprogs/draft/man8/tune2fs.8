.\" Revision 1.0 93/06/3 23:00  chk
.\" Initial revision
.\"
.\" Japanese Version Copyright 1998 by MATSUMOTO Shoji. All Rights Reserved.
.\" Translated Wed Mar 11 1998 by MATSUMOTO Shoji.
.\" Updated Sat 23 Oct 1999 by NAKANO Takeo <nakano@apm.seikei.ac.jp>
.\" Updated Tue 16 Nov 1999 by NAKANO Takeo
.\" Updated & Modified Sun Sep  2 23:47:38 JST 2001
.\"         by Yuichi SATO <ysato@h4.dion.ne.jp>
.\" Updated & Modified Tue Nov 13 01:11:52 JST 2001 by Yuichi SATO 
.\" Updated Sun 6 Oct 2002 by NAKANO Takeo
.\" Updated & Modified Sat Apr 17 16:36:26 JST 2004
.\"         by Yuichi SATO <ysato444@yahoo.co.jp>
.\" Updated & Modified Tue May  3 07:35:07 JST 2005 by Yuichi SATO 
.\" Updated & Modified Wed Feb 28 01:32:55 JST 2007 by Yuichi SATO, v1.39
.\"
.\"WORD:	reserved blocks		予約ブロック
.\"WORD:	super block		スーパーブロック
.\"WORD:	filesystem feature	ファイルシステム属性
.\"WORD:	AVAILABILITY		入手方法
.\"
.TH TUNE2FS 8 "May 2006" "E2fsprogs version 1.39"
.\"O .SH NAME
.SH 名前
.\"O tune2fs \- adjust tunable filesystem parameters on ext2/ext3 filesystems
tune2fs \- ext2/ext3 ファイルシステムのパラメータを調整する
.\"O .SH SYNOPSIS
.SH 書式
.B tune2fs
[
.B \-l
]
[
.B \-c
.I max-mount-counts
]
[
.B \-e
.I errors-behavior
]
[
.B \-f
]
[
.B \-i
.I interval-between-checks
]
[
.B \-j
]
[
.B \-J
.I journal-options
]
[
.B \-m
.I reserved-blocks-percentage
]
[
.B \-o
.RI [^]mount-options [,...]
]
[
.B \-r
.I reserved-blocks-count
]
[
.B \-s
.I sparse-super-flag
]
[
.B \-u
.I user
]
[
.B \-g
.I group
]
[
.B \-C
.I mount-count
]
[
.B \-L
.I volume-name
]
[
.B \-M
.I last-mounted-directory
]
[
.B \-O
.RI [^] feature [,...]
]
[
.B \-T
.I time-last-checked
]
[
.B -U
.I UUID
]
device
.\"O .SH DESCRIPTION
.SH 説明
.\"O .BI tune2fs
.\"O allows the system administrator to adjust various tunable filesystem 
.\"O parameters on Linux ext2/ext3 filesystems.
システム管理者は
.BI tune2fs
により Linux ext2/ext3 ファイルシステムの様々なパラメータを調整できる。
.\"O .SH OPTIONS
.SH オプション
.TP
.BI \-c " max-mount-counts"
.\"O Adjust the number of mounts after which the filesystem will be checked by 
.\"O .BR e2fsck (8).  
.\"O If
.\"O .I max-mount-counts
.\"O is 0 or \-1, the number of times the filesystem is mounted will be disregarded 
.\"O by
.\"O .BR e2fsck (8)
.\"O and the kernel.
.BR e2fsck (8)
がファイルシステムのチェックを行うマウント回数を設定する。
.I max-mount-counts
が 0 または \-1 の場合、
.BR e2fsck (8)
とカーネルはファイルシステムのマウント回数を考慮しない。
.sp
.\"O Staggering the mount-counts at which filesystems are forcibly
.\"O checked will avoid all filesystems being checked at one time
.\"O when using journaled filesystems.
ジャーナリングファイルシステムを使っている場合、
ファイルシステムを強制的にチェックするマウント回数を
ファイルシステムごとにちょっとずつ変えておけば、
すべてのファイルがいっぺんにまとめてチェックされるのを
避けることができる。
.sp
.\"O You should strongly consider the consequences of disabling
.\"O mount-count-dependent checking entirely.  Bad disk drives, cables,
.\"O memory, and kernel bugs could all corrupt a filesystem without
.\"O marking the filesystem dirty or in error.  If you are using
.\"O journaling on your filesystem, your filesystem will
.\"O .B never
.\"O be marked dirty, so it will not normally be checked.  A
.\"O filesystem error detected by the kernel will still force
.\"O an fsck on the next reboot, but it may already be too late
.\"O to prevent data loss at that point.
マウント回数に依存したチェックを完全に停止してしまうなら、
その影響を慎重に考えておくべきである。
ディスクドライブ・ケーブル・メモリの故障やカーネルのバグによって、
マークされたりエラーが出ることもなく、
ファイルシステムが破壊されることもあり得る。
ファイルシステムにジャーナリング機能を使っていると、
ファイルシステムに壊れたというマークが付けられることは
\fB絶対にない\fRので、
通常ジャーナリングファイルシステムはチェックされない。
この場合でも、カーネルがファイルシステムエラーを検知すれば、
次のブート時に fsck が実行されるが、
この時点ではデータ喪失を防ぐにはもう遅すぎるかもしれない。
.sp
.\"O See also the
.\"O .B \-i
.\"O option for time-dependent checking.
時間に依存したチェックを行う
.B \-i
オプションも参照すること。
.TP
.BI \-C " mount-count"
.\"O Set the number of times the filesystem has been mounted.
.\"O If set to a greater value than the max-mount-counts parameter
.\"O set by the 
.\"O .B \-c
.\"O option,
.\"O .BR e2fsck (8) 
.\"O will check the filesystem at the next reboot.
ファイルシステムがマウントされた回数を設定する。
.B \-c
オプションで設定された最大マウント回数の
パラメータより大きな値が設定されると、
.BR e2fsck (8) 
は次のブート時に、そのファイルシステムをチェックする。
.TP
.BI \-e " error-behavior"
.\"O Change the behavior of the kernel code when errors are detected.
.\"O In all cases, a filesystem error will cause
.\"O .BR e2fsck (8)
.\"O to check the filesystem on the next boot.
.\"O .I error-behavior
.\"O can be one of the following:
エラーが発生した時のカーネルの挙動を変更する。
いずれにしてもファイルシステムにエラーが起こると、
次のブート時には必ず
.BR e2fsck (8)
がそのファイルシステムをチェックする。
.I error-behavior
に指定できるのは次の通り。
.RS 1.2i
.TP 1.2i
.B continue
.\"O Continue normal execution.
通常の実行を継続する。
.TP
.B remount-ro
.\"O Remount filesystem read-only.
ファイルシステムを read-only でマウントしなおす。
.TP
.B panic
.\"O Cause a kernel panic.
カーネルパニックを起こす。
.RE
.TP
.B \-f
.\"O Force the tune2fs operation to complete even in the face of errors.  This 
.\"O option is useful when removing the 
.\"O .B has_journal
.\"O filesystem feature from a filesystem which has 
.\"O an external journal (or is corrupted
.\"O such that it appears to have an external journal), but that 
.\"O external journal is not available.   
エラーが起きたときでも tune2fs に動作を完了させる。
このオプションは、外部ジャーナルを使っているファイルシステム
(あるいは壊れてそう見えるようになってしまったファイルシステム) から、
外部ジャーナルが見えない場合に
.B has_journal
ファイルシステム属性を削除するのに便利である。
.sp
.\"O .B WARNING:
.\"O Removing an external journal from a filesystem which was not cleanly unmounted
.\"O without first replaying the external journal can result in
.\"O severe data loss and filesystem corruption.
.B 警告:
クリーンにアンマウントされなかったファイルシステムに対して
ジャーナルを一度もリプレイしないまま、
その外部ジャーナルをファイルシステムから切り離してしまうと、
重大なデータ喪失やファイルシステムの破壊をもたらすかもしれない。
.TP
.BI \-g " group"
.\"O Set the group which can use reserved filesystem blocks.
予約 (reserved) ファイルシステムブロックを利用できるグループを設定する。
.\"O The 
.\"O .I group
.\"O parameter can be a numerical gid or a group name.  If a group name is given,
.\"O it is converted to a numerical gid before it is stored in the superblock.
.I group
パラメータには GID を数値で指定することも、グループ名を指定することもできる。
グループ名が指定された場合は、スーパーブロックに格納される前に
GID の数値に変換される。
.TP
.B \-i " \fIinterval-between-checks\fR[\fBd\fR|\fBm\fR|\fBw\fR]"
.\"O Adjust the maximal time between two filesystem checks. 
.\"O No postfix or
.\"O .B d
.\"O result in days,
.\"O .B m
.\"O in months, and
.\"O .B w
.\"O in weeks.  A value of zero will disable the time-dependent checking.
ファイルシステムをチェックする最大の時間間隔を設定する。
数値のみ、もしくは末尾に \fBd\fP を付けると「日」と解釈され、
\fBm\fP, \fBw\fP はそれぞれ「月」「週」と解釈される。
0 を指定すると、時間依存のチェックはしなくなる。
.sp
.\"O It is strongly recommended that either
.\"O .B \-c
.\"O (mount-count-dependent) or
.\"O .B \-i
.\"O (time-dependent) checking be enabled to force periodic full
.\"O .BR e2fsck (8)
.\"O checking of the filesystem.  Failure to do so may lead to filesystem
.\"O corruption due to bad disks, cables, memory, or kernel bugs to go
.\"O unnoticed until they cause data loss or corruption.
.BR e2fsck (8)
によるファイルシステムの完全なチェックを定期的に行わせるため、
.B \-c
(マウント回数依存のチェック)、または
.B \-i
(時間依存のチェック) を指定しておくことを強く推奨する。
これらが指定されていない場合、
ディスク・ケーブル・メモリの故障やカーネルのバグによって
ファイルシステムが破壊されても、
データの損失や破壊が起こるまでは知ることができない。
.TP
.B \-j
.\"O Add an ext3 journal to the filesystem.  If the 
.\"O .B \-J
.\"O option is not specified, the default journal parameters will be used to create
.\"O an appropriately sized journal (given the size of the filesystem) 
.\"O stored within the filesystem.  Note that you must be using a kernel
.\"O which has ext3 support in order to actually make use of the journal.
ext3 ジャーナルをファイルシステムに追加する。
-J オプションが指定されていない場合は、
デフォルトのジャーナルパラメータが用いられ、
(ファイルシステムのサイズに対して)
適切な大きさのジャーナルを作成してファイルシステムに格納する。
ジャーナルを実際に使用するためには、
ext3 をサポートするカーネルが必要である。
.IP
.\"O If this option is used to create a journal on a mounted filesystem, an
.\"O immutable file,
.\"O .BR .journal ,
.\"O will be created in the top-level directory of the filesystem, as it is
.\"O the only safe way to create the journal inode while the filesystem is
.\"O mounted.  While the ext3 journal is visible, it is not safe to
.\"O delete it, or modify it while the filesystem is mounted; for this
.\"O reason the file is marked immutable.
このオプションを使用して、
マウントされたファイルシステム上にジャーナルを作成すると、
不変 (immutable) ファイル
.B .journal
がファイルシステムのトップディレクトリに作成される。
これはファイルシステムがマウントされている間に
ジャーナル inode を安全に作成する唯一の方法だからである。
ext3 ジャーナルは可視であるが、
ファイルシステムがマウントされている間に
削除したり修正したりするのは安全ではない。
そのためジャーナルファイルは不変にされている。
.\"O While checking unmounted filesystems, 
.\"O .BR e2fsck (8)
.\"O will automatically move 
.\"O .B .journal
.\"O files to the invisible, reserved journal inode.  For all filesystems
.\"O except for the root filesystem,  this should happen automatically and
.\"O naturally during the next reboot cycle.  Since the root filesystem is
.\"O mounted read-only,
.\"O .BR e2fsck (8)
.\"O must be run from a rescue floppy in order to effect this transition.
アンマウントされたファイルシステムをチェックする場合、
.BR e2fsck (8)
は自動的に
.B .journal
ファイルを可視でない予約済みジャーナル inode に移動する。
ルートファイルシステム以外の全てのファイルシステムに対して、
次のリブートサイクルで、これが自動的に当然行われるべきである。
ルートファイルシステムは read-only でマウントされるので、
この遷移を有効にするためには、
.BR e2fsck (8)
をレスキュー用フロッピーから実行しなければならない。
.IP
.\"O On some distributions, such as Debian, if an initial ramdisk is used,
.\"O the initrd scripts will automatically convert an ext2 root filesystem
.\"O to ext3 if the  
.\"O .BR /etc/fstab
.\"O file specifies the ext3 filesystem for the root filesystem in order to
.\"O avoid requiring the use of a rescue floppy to add an ext3 journal to
.\"O the root filesystem.
Debian のようないくつかのディストリビューションでは、
レスキュー用フロッピーを使って ext3 ジャーナルを
ルートファイルシステムに追加する必要がないように、
.BR /etc/fstab
ファイルで ext3 ファイルシステムをルートファイルシステムに指定しておくと、
初期 RAM ディスクが使用されたときに、
initrd スクリプトが自動的に ext2 ルートファイルシステムを ext3 に変換する。
.TP
.BR \-J " journal-options"
.\"O Override the default ext3 journal parameters. Journal options are comma
.\"O separated, and may take an argument using the equals ('=')  sign.
.\"O The following journal options are supported:
デフォルトの ext3 ジャーナルパラメータを変更する。
ジャーナルオプションはコンマで区切り、引き数がある場合には
「= (イコール)」記号を使って指定する。
以下のジャーナルオプションがサポートされている:
.RS 1.2i
.TP
.BI size= journal-size
.\"O Create a journal stored in the filesystem of size
.\"O .I journal-size
.\"O megabytes.   The size of the journal must be at least 1024 filesystem blocks
.\"O (i.e., 1MB if using 1k blocks, 4MB if using 4k blocks, etc.)
.\"O and may be no more than 102,400 filesystem blocks.
.\"O There must be enough free space in the filesystem to create a journal of
.\"O that size.
サイズ
.I journal-size
メガバイトのジャーナルを作成してファイルシステムに格納する。
ジャーナルのサイズは最低 1024 ファイルシステムブロックである
(例えば、1kB のブロックを使っている場合は 1 MB、
4kB のブロックを使っている場合は 4 MB である)。
また、ファイルシステムブロックは 102,400 未満でなければならない。
ファイルシステムには、指定したサイズのジャーナルを作成するために
十分な空きスペースがなくてはならない。
.TP
.BI device= external-journal
.\"O Attach the filesystem to the journal block device located on
.\"O .IR external-journal .
.\"O The external 
.\"O journal must have been already created using the command
.\"O .IP
.\"O .B mke2fs -O journal_dev 
.\"O .I external-journal
.\"O .IP
.I external-journal
にあるジャーナルブロックデバイスにファイルシステムを付加する。
外部ジャーナルは、コマンド
.IP
.B mke2fs -O journal_dev 
.I external-journal
.IP
を使い、前もって作成されていなければならない。
.\"O Note that
.\"O .I external-journal
.\"O must be formatted with the same block
.\"O size as filesystems which will be using it.
.I external-journal
は、それを使うファイルシステムと同じブロックサイズで
フォーマットされていなければならない。
.\"O In addition, while there is support for attaching
.\"O multiple filesystems to a single external journal,
.\"O the Linux kernel and 
.\"O .BR e2fsck (8)
.\"O do not currently support shared external journals yet.
1 つの外部ジャーナルに複数のファイルシステムを付加することは、
(訳注: ファイルシステム自体では) サポートしているが、
Linux カーネルと
.BR e2fsck (8)
は現在のところ共有外部ジャーナルをサポートしていない。
.IP
.\"O Instead of specifying a device name directly,
.\"O .I external-journal
.\"O can also be specified by either
.\"O .BI LABEL= label
.\"O or
.\"O .BI UUID= UUID
.\"O to locate the external journal by either the volume label or UUID
.\"O stored in the ext2 superblock at the start of the journal.  
デバイス名を直接指定する代わりに、
.BI LABEL= label
または
.BI UUID= UUID
という形式で
.I external-journal
を指定することもできる。
この形式では、外部ジャーナルの場所を、
ジャーナルの先頭の ext2 スーパーブロックに格納されている
UUID やボリュームラベルで指定する。
.\"O Use
.\"O .BR dumpe2fs (8)
.\"O to display a journal device's volume label and UUID.  See also the
.\"O .B -L
.\"O option of
.\"O .BR tune2fs (8).
ジャーナルデバイスのボリュームラベルと UUID を表示するには、
.BR dumpe2fs (8)
を使うこと。
.BR tune2fs (8)
の
.B -L
オプションも参照のこと。
.RE
.IP
.\"O Only one of the
.\"O .BR size " or " device
.\"O options can be given for a filesystem.
ひとつのファイルシステムに対しては、
.BR size " または " device
オプションのどちらか一方しか指定できない。
.TP
.B \-l
.\"O List the contents of the filesystem superblock.
ファイルシステムのスーパーブロックの内容を表示する。
.TP
.BI \-L " volume-label"
.\"O Set the volume label of the filesystem.  
.\"O Ext2 filesystem labels can be at most 16 characters long; if
.\"O .I volume-label 
.\"O is longer than 16 characters, 
.\"O .B tune2fs
.\"O will truncate it and print a warning.  
ファイルシステムのボリュームラベルを設定する。
ext2 ファイルシステムラベルは最大 16 文字まで指定できる。
.I volume-label
が 16 文字より長いと
.B tune2fs
は超過分を切捨て、警告メッセージを出力する。
.\"O The volume label can be used
.\"O by
.\"O .BR mount (8),
.\"O .BR fsck (8),
.\"O and
.\"O .BR /etc/fstab (5)
.\"O (and possibly others) by specifying
.\"O .BI LABEL= volume_label
.\"O instead of a block special device name like
.\"O .BR /dev/hda5 .
ボリュームラベルは
.BR mount (8),
.BR fsck (8),
.BR /etc/fstab (5)
(まだあるかも) において、
.B /dev/hda5
のようなブロックスペシャルデバイス名の代わりに、
.BI LABEL= volume_label
という形式で指定して使うことができる。
.TP
.BI \-m " reserved-blocks-percentage"
.\"O Set the percentage of reserved filesystem blocks.
予約ファイルシステムブロックの割合を % で設定する。
.TP
.BI \-M " last-mounted-directory"
.\"O Set the last-mounted directory for the filesystem.
ファイルシステムを最後にマウントしたディレクトリを設定する。
.TP
.BR \-o " [^]\fImount-option\fR[,...]"
.\"O Set or clear the indicated default mount options in the filesystem.
指定されたデフォルトのマウントオプションを
ファイルシステムにセット/クリアする。
.\"O Default mount options can be overridden by mount options specified 
.\"O either in 
.\"O .BR /etc/fstab (5)
.\"O or on the command line arguments to
.\"O .BR mount (8).   
デフォルトのマウントオプションは、
.BR /etc/fstab (5)
または
.BR mount (8)
のコマンドライン引き数で指定される
マウントオプションで上書きできる。
.\"O Older kernels may not support this feature; in particular,
.\"O kernels which predate 2.4.20 will almost certainly ignore the
.\"O default mount options field in the superblock.
古いカーネルは、この属性をサポートしていない。
特に 2.4.20 より前のカーネルは、
スーパーブロックにあるデフォルトのマウントオプションを
ほぼ確実に無視する。
.IP
.\"O More than one mount option can be cleared or set by separating
.\"O features with commas.  Mount options prefixed with a 
.\"O caret character ('^') will be cleared in the filesystem's superblock; 
.\"O mount options without a prefix character or prefixed with a plus 
.\"O character ('+') will be added to the filesystem.
属性をコンマで区切ることにより、
1 つ以上のマウントオプションをクリア/セットできる。
キャレット文字 ('^') を前につけたマウントオプションは、
ファイルシステムのスーパーブロックからクリアされる。
前置文字のないマウントオプションと
プラス文字 ('+') を前につけたマウントオプションは、
ファイルシステムに追加される。
.IP
.\"O The following mount options can be set or cleared using
.\"O .BR tune2fs :
.B tune2fs
を使ってセット/クリアできるマウントオプションは以下の通り:
.RS 1.2i
.TP
.B debug
.\"O Enable debugging code for this filesystem.
このファイルシステムのデバッグコードを有効にする。
.TP
.B bsdgroups
.\"O Emulate BSD behaviour when creating new files: they will take the group-id
.\"O of the directory in which they were created.  The standard System V behaviour
.\"O is the default, where newly created files take on the fsgid of the current
.\"O process, unless the directory has the setgid bit set, in which case it takes 
.\"O the gid from the parent directory, and also gets the setgid bit set if it is 
.\"O directory itself.
新しいファイルを作成するときに、BSD の動作をエミュレートする。
新規作成されるファイルは、
自身が作成されるディレクトリのグループ ID を使う。
標準的な System V の動作をデフォルトとする。
ディレクトリに setgid ビットセットがない場合、
新規作成されたファイルはカレントプロセスの fsgid を使う。
ディレクトリに setgid ビットセットがある場合、
新規作成されたファイルは親ディレクトリのグループ ID を使い、
新規作成されたのがディレクトリならば、setgid ビットセットも設定する。
.TP
.B user_xattr
.\"O Enable user-specified extended attributes.
ユーザ固有の拡張属性を有効にする。
.TP
.B acl
.\"O Enable Posix Access Control Lists.
Posix アクセス制御リスト (Access Control List) を有効にする。
.TP
.B uid16
.\"O Disables 32-bit UIDs and GIDs.  This is for interoperability with
.\"O older kernels which only store and expect 16-bit values.
32 ビットのユーザ ID とグループ ID を無効にする。
これは 16 ビットの値のみを格納したり想定したりする
古いカーネルとの相互運用のためにある。
.TP
.B journal_data
.\"O When the filesystem is mounted with journalling enabled, all data
.\"O (not just metadata) is committed into the journal prior to being written
.\"O into the main filesystem.
ジャーナリングを有効にしてファイルシステムがマウントされている場合、
(メタデータだけでなく) 全てのデータは
メインのファイルシステムに書き込まれる前に
ジャーナルにコミットされる。
.TP
.B journal_data_ordered
.\"O When the filesystem is mounted with journalling enabled, all data is forced
.\"O directly out to the main file system prior to its metadata being committed 
.\"O to the journal.
ジャーナリングを有効にしてファイルシステムがマウントされている場合、
メタデータがジャーナルにコミットされる前に、
全てのデータをメインのファイルシステムに強制的に直接書き込む。
.TP
.B journal_data_writeback
.\"O When the filesystem is mounted with journalling enabled, data may be
.\"O written into the main filesystem after its metadata has been committed
.\"O to the journal.  This may increase throughput, however, it may allow old
.\"O data to appear in files after a crash and journal recovery.
ジャーナリングを有効にしてファイルシステムがマウントされている場合、
メタデータがジャーナルにコミットされた後に、
データをメインのファイルシステムに書き込む。
これはスループットを向上させるが、
クラッシュしてジャーナルによる回復をした後で、
ファイルに古いデータが現れるのを許してしまう。
.RE
.TP
.BR \-O " [^]\fIfeature\fR[,...]"
.\"O Set or clear the indicated filesystem features (options) in the filesystem.
.\"O More than one filesystem feature can be cleared or set by separating
.\"O features with commas.  Filesystem features prefixed with a 
.\"O caret character ('^') will be cleared in the filesystem's superblock; 
.\"O filesystem features without a prefix character or prefixed with a plus 
.\"O character ('+') will be added to the filesystem.
指定したファイルシステム属性 (オプション) をセット/クリアする。
コンマで区切ることにより、
2 つ以上のファイルシステム属性をクリアまたはセットできる。
キャレット文字 ('^') を前においたファイルシステム属性は、
ファイルシステムのスーパーブロックからクリアされる。
前置文字のないファイルシステム属性と
プラス文字 ('+') を前においたファイルシステム属性は、
ファイルシステムにセットされる。
.IP
.\"O The following filesystem features can be set or cleared using
.\"O .BR tune2fs :
.B tune2fs
を使ってセット/クリアできるファイルシステム属性は以下の通り:
.RS 1.2i
.TP
.B dir_index
.\"O Use hashed b-trees to speed up lookups in large directories.
ハッシュ B ツリーを使い、
ファイルが多いディレクトリ内での検索を高速化する。
.TP
.B filetype
.\"O Store file type information in directory entries.
ディレクトリエントリにファイルタイプ情報を格納する。
.TP
.B has_journal
.\"O Use a journal to ensure filesystem consistency even across unclean shutdowns.
.\"O Setting the filesystem feature is equivalent to using the 
.\"O .B \-j
.\"O option.
ジャーナルを使うことにより、
異常なシャットダウンが起こってもファイルシステムの一貫性を保証する。
このファイルシステム属性をセットするのは、
.B \-j
オプションを使うのと等しい。
.TP
.B sparse_super
.\"O Limit the number of backup superblocks to save space on large filesystems.
大きなファイルシステム上でディスク使用量を少なくするために、
バックアップスーパーブロックの数を制限する。
.RE
.IP
.\"O After setting or clearing 
.\"O .B sparse_super
.\"O and 
.\"O .B filetype 
.\"O filesystem features,
.\"O .BR e2fsck (8)
.\"O must be run on the filesystem to return the filesystem to a consistent state.
ファイルシステム属性
.B sparse_super
や
.B filetype 
をセットまたはクリアした後は、
ファイルシステムを整合性のある状態に戻すために、
そのファイルシステムに対して
.BR e2fsck (8)
を実行しなければならない。
.\"O .B Tune2fs
.\"O will print a message requesting that the system administrator run
.\"O .BR e2fsck (8)
.\"O if necessary.  After setting the 
.\"O .B dir_index
.\"O feature, 
.\"O .B e2fsck -D
.\"O can be run to convert existing directories to the hashed B-tree format.
.B tune2fs
は、必要であれば、システム管理者に対して
.BR e2fsck (8)
を実行するよう要求するメッセージを表示する。
.B dir_index
属性を設定した後に、
.B e2fsck -D
を実行して既存のディレクトリをハッシュ B ツリー形式に変換できる。
.IP
.\"O .B Warning:
.\"O Linux kernels before 2.0.39 and many 2.1 series kernels do not support
.\"O the filesystems that use any of these features.
.\"O Enabling certain filesystem features may prevent the filesystem from
.\"O being mounted by kernels which do not support those features.
.B 警告:
Linux カーネルのうち 2.0.39 以前と 2.1 系の大部分では、
これらの属性を使用しているファイルシステムをサポートしていない。
これらの属性をサポートしていないカーネルは、
そのファイルシステムをマウントすることができない。
.TP
.BI \-r " reserved-blocks-count"
.\"O Set the number of reserved filesystem blocks.
予約ファイルシステムブロックの量をブロック数で設定する。
.TP
.BR \-s " [" 0 | 1 ]
.\"O Turn the sparse super feature off or on.  Turning this feature on
.\"O saves space on really big filesystems.  This is the same as using the
.\"O .B "\-O sparse_super"
.\"O option.
スーパーブロックを疎 (sparse) にする属性をクリア (0) またはセット (1) する。
この属性をセット (1) すると、
非常に大きなファイルシステムでの無駄を減らすことができる。
これは
.B "\-O sparse_super"
オプションを使った場合と同じである。
.IP
.\"O .B Warning:
.\"O Linux kernels before 2.0.39 do not support this feature.  Neither do
.\"O all Linux 2.1 kernels; please don't use this unless you know what you're
.\"O doing!  You need to run
.\"O .BR e2fsck (8)
.\"O on the filesystem after changing this feature in order to have a valid
.\"O filesystem.
.B 警告:
この機能は 2.0.39 以前の Linux カーネルでは利用できない。
また、2.1 系カーネルでも利用できないものがある。
自分が何をしているのか理解していない限り使うべきではない。
この属性を変更した後、ファイルシステムを正しい状態にするには
.BR e2fsck (8)
を実行する必要がある。
.TP
.BI \-T " time-last-checked"
.\"O Set the time the filesystem was last checked using
.\"O .BR  e2fsck .
.\"O This can be useful in scripts which use a Logical Volume Manager to make
.\"O a consistent snapshot of a filesystem, and then check the filesystem 
.\"O during off hours to make sure it hasn't been corrupted due to 
.\"O hardware problems, etc.  If the filesystem was clean, then this option can 
.\"O be used to set the last checked time on the original filesystem.  The format 
.\"O of 
.\"O .I time-last-checked
.\"O is the international date format, with an optional time specifier, i.e.
.\"O YYYYMMDD[[HHMM]SS].   The keyword 
.\"O .B now
.\"O is also accepted, in which case the last checked time will be set to the 
.\"O current time.
ファイルシステムが最後に
.B e2fsck
によってチェックされた時刻を設定する。
これは Logical Volume Manager を使い、
整合性の取れている状態のファイルシステムのスナップショットを取って、
休みの間にそのファイルシステムがハードウェア障害などによって
壊れていないかを調べるようなスクリプトで用いると便利である。
ファイルシステムがクリーンなら、このオプションを使って
オリジナルのファイルシステムの最終チェック時刻を設定すればよい。
.I time-last-checked
の書式は、国際時刻書式に、オプションの時刻指定子を加えたもので、
YYYYMMDD[[HHMM]SS] である。
.B now
というキーワードも利用でき、
この場合は最終チェック時刻は現在の時刻に設定される。
.TP
.BI \-u " user"
.\"O Set the user who can use the reserved filesystem blocks.
.\"O .I user
.\"O can be a numerical uid or a user name.  If a user name is given, it 
.\"O is converted to a numerical uid before it is stored in the superblock.
予約ファイルシステムブロックを利用できるユーザを設定する。
.I user
は UID を数値で指定することも、ユーザ名で指定することもできる。
グループ名が指定された場合は、スーパーブロックに格納される前に
UID の数値に変換される。
.TP
.BI \-U " UUID"
.\"O Set the universally unique identifier (UUID) of the filesystem to
.\"O .IR UUID .
UUID (universally unique identifier:
汎システム的に他とは重ならない識別子) を
.I UUID
に設定する。
.\"O The format of the UUID is a series of hex digits separated by hyphens, 
.\"O like this: 
.\"O "c1b9d5a2-f162-11cf-9ece-0020afc76f16".  
UUID はハイフンで区切られた 16 進数の列で、
"c1b9d5a2-f162-11cf-9ece-0020afc76f16"
のような形式である。
.\"O The 
.\"O .I UUID
.\"O parameter may also be one of the following:
.I UUID
パラメータは以下のいずれか 1 つである:
.RS 1.2i
.TP
.I clear
.\"O clear the filesystem UUID
ファイルシステムの UUID をクリアする。
.TP
.I random
.\"O generate a new randomly-generated UUID
新しい UUID をランダムに生成する。
.TP
.I time
.\"O generate a new time-based UUID
新しい UUID を時刻をもとに生成する。
.RE
.IP
.\"O The UUID may be used by
.\"O .BR mount (8),
.\"O .BR fsck (8),
.\"O and
.\"O .BR /etc/fstab (5)
.\"O (and possibly others) by specifying
.\"O .BI UUID= uuid
.\"O instead of a block special device name like
.\"O .BR /dev/hda1 .
UUID は
.BR mount (8),
.BR fsck (8),
.BR /etc/fstab (5)
(まだあるかも) において、
.B /dev/hda1
のようなブロックスペシャルデバイス名の代わりに、
.BI UUID= uuid
という形式で指定して使うことができる。
.IP
.\"O See
.\"O .BR uuidgen (8)
.\"O for more information.
より詳しい情報は
.BR uuidgen (8)
を参照すること。
.\"O If the system does not have a good random number generator such as
.\"O .I /dev/random
.\"O or
.\"O .IR /dev/urandom ,
.\"O .B tune2fs
.\"O will automatically use a time-based UUID instead of a randomly-generated UUID.
.I /dev/random
や
.I /dev/urandom
のような優れた乱数発生器がシステムに存在しない場合、
.B tune2fs
はランダムに生成した UUID ではなく、
時刻に基づいた UUID を自動的に使用する。
.\"O .SH BUGS
.SH バグ
.\"O We haven't found any bugs yet.  That doesn't mean there aren't any...
現時点では見付かっていない。しかし、バグがないという意味ではない。
.\"O .SH AUTHOR
.SH 著者
.\"O .B tune2fs 
.\"O was written by Remy Card <Remy.Card@linux.org>.  It is currently being
.\"O maintained by Theodore Ts'o <tytso@alum.mit.edu>.
.B tune2fs
は、Remy Card <Remy.Card@linux.org> によって作成された。
現在は Theodore Ts'o <tytso@alum.mit.edu> によってメンテナンスされている。
.\"O .B tune2fs
.\"O uses the ext2fs library written by Theodore Ts'o <tytso@mit.edu>.
.B tune2fs
は Thodre Ts'o <tytso@mit.edu> によって作成された
ext2fs ライブラリを使用している。
.\"O This manual page was written by Christian Kuhtz <chk@data-hh.Hanse.DE>.
このマニュアルは <chk@data-hh.Hanse.de> によって作成された。
.\"O Time-dependent checking was added by Uwe Ohse <uwe@tirka.gun.de>.
時間に依存するチェックは Uwe Ohse <uwe@tirka.gun.de> によって付加された。
.\"O .SH AVAILABILITY
.SH 入手方法
.\"O .B tune2fs
.\"O is part of the e2fsprogs package and is available from 
.\"O http://e2fsprogs.sourceforge.net.
.B tune2fs
は e2fsprogs パッケージの一部であり、
http://e2fsprogs.sourceforge.net から入手できる。
.\"O .SH SEE ALSO
.SH 関連項目
.BR dumpe2fs (8),
.BR e2fsck (8),
.BR mke2fs (8)
